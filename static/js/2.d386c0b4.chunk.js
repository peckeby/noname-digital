/*! For license information please see 2.d386c0b4.chunk.js.LICENSE.txt */
(this["webpackJsonpnoname-digital"]=this["webpackJsonpnoname-digital"]||[]).push([[2],[function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(34);function i(){i=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},u=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(C){l=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var i=t&&t.prototype instanceof p?t:p,o=Object.create(i.prototype),u=new I(r||[]);return a(o,"_invoke",{value:j(e,n,u)}),o}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(C){return{type:"throw",arg:C}}}e.wrap=f;var d={};function p(){}function v(){}function m(){}var y={};l(y,u,(function(){return this}));var b=Object.getPrototypeOf,g=b&&b(b(S([])));g&&g!==t&&n.call(g,u)&&(y=g);var k=m.prototype=p.prototype=Object.create(y);function O(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(a,o,u,s){var c=h(e[a],e,o);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==Object(r.a)(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,u,s)}),(function(e){i("throw",e,u,s)})):t.resolve(f).then((function(e){l.value=e,u(l)}),(function(e){return i("throw",e,u,s)}))}s(c.arg)}var o;a(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function j(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return _()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=x(o,n);if(u){if(u===d)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=h(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=h(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,d;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function S(e){if(e){var t=e[u];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:_}}function _(){return{value:void 0,done:!0}}return v.prototype=m,a(k,"constructor",{value:m,configurable:!0}),a(m,"constructor",{value:v,configurable:!0}),v.displayName=l(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},O(w.prototype),l(w.prototype,s,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new w(f(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},O(k),l(k,c,"Generator"),l(k,u,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=S,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}},function(e,t,n){"use strict";e.exports=n(81)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(63);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Object(r.a)(i.key),i)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function u(e){r(o,i,a,u,s,"next",e)}function s(e){r(o,i,a,u,s,"throw",e)}u(void 0)}))}}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(63);function i(e,t,n){return(t=Object(r.a)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";(function(e,r){n.d(t,"a",(function(){return x})),n.d(t,"b",(function(){return F})),n.d(t,"c",(function(){return L})),n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return v})),n.d(t,"f",(function(){return V})),n.d(t,"g",(function(){return E})),n.d(t,"h",(function(){return H})),n.d(t,"i",(function(){return z})),n.d(t,"j",(function(){return y})),n.d(t,"k",(function(){return G})),n.d(t,"l",(function(){return w})),n.d(t,"m",(function(){return k})),n.d(t,"n",(function(){return O})),n.d(t,"o",(function(){return j})),n.d(t,"p",(function(){return Y})),n.d(t,"q",(function(){return T})),n.d(t,"r",(function(){return _})),n.d(t,"s",(function(){return C})),n.d(t,"t",(function(){return B})),n.d(t,"u",(function(){return R})),n.d(t,"v",(function(){return D})),n.d(t,"w",(function(){return I})),n.d(t,"x",(function(){return S})),n.d(t,"y",(function(){return A})),n.d(t,"z",(function(){return N})),n.d(t,"A",(function(){return K})),n.d(t,"B",(function(){return W})),n.d(t,"C",(function(){return P}));var i=n(9),a=n(15),o=n(35),u=n(2),s=n(3),c=n(11),l=n(12),f=n(45),h=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},d={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(h(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw new p;var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},p=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return Object(u.a)(n)}(Object(f.a)(Error)),v=function(e){return function(e){var t=h(e);return d.encodeByteArray(t,!0)}(e).replace(/\./g,"")},m=function(e){try{return d.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function y(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=y(e[n],t[n]));return e}var b=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof e)return e;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},g=function(){try{return b()||function(){if("undefined"!==typeof r){var e=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&m(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},k=function(e){var t,n;return null===(n=null===(t=g())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},O=function(e){var t=k(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}},w=function(){var e;return null===(e=g())||void 0===e?void 0:e.config},j=function(e){var t;return null===(t=g())||void 0===t?void 0:t["_".concat(e)]},x=function(){function e(){var t=this;Object(s.a)(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Object(u.a)(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function E(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[v(JSON.stringify({alg:"none",type:"JWT"})),v(JSON.stringify(a)),""].join(".")}function T(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function I(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(T())}function S(){var t,n=null===(t=g())||void 0===t?void 0:t.forceEnvironment;if("node"===n)return!0;if("browser"===n)return!1;try{return"[object process]"===Object.prototype.toString.call(e.process)}catch(r){return!1}}function _(){return"object"===typeof self&&self.self===self}function C(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function A(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function R(){var e=T();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function N(){return!S()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function D(){try{return"object"===typeof indexedDB}catch(e){return!1}}function P(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}}))}var M="FirebaseError",L=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e,r,i){var a;return Object(s.a)(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name=M,Object.setPrototypeOf(Object(o.a)(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(Object(o.a)(a),F.prototype.create),a}return Object(u.a)(n)}(Object(f.a)(Error)),F=function(){function e(t,n,r){Object(s.a)(this,e),this.service=t,this.serviceName=n,this.errors=r}return Object(u.a)(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(U,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new L(n,a,t)}}]),e}();var U=/\{\$([^}]+)}/g;function V(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function B(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function z(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(q(u)&&q(s)){if(!z(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function q(e){return null!==e&&"object"===typeof e}function K(e){for(var t=[],n=function(){var e=Object(a.a)(i[r],2),n=e[0],o=e[1];Array.isArray(o)?o.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function W(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("="),r=Object(a.a)(n,2),i=r[0],o=r[1];t[decodeURIComponent(i)]=decodeURIComponent(o)}})),t}function G(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function H(e,t){var n=new Q(e,t);return n.subscribe.bind(n)}var Q=function(){function e(t,n){var r=this;Object(s.a)(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return Object(u.a)(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,a=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Object(i.a)(t);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(a in e&&"function"===typeof e[a])return!0}}catch(o){r.e(o)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=$),void 0===r.error&&(r.error=$),void 0===r.complete&&(r.complete=$);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{a.finalError?r.error(a.finalError):r.complete()}catch(e){}})),this.observers.push(r),o}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function $(){}function Y(e){return e&&e._delegate?e._delegate:e}}).call(this,n(65),n(69))},function(e,t,n){"use strict";e.exports=n(88)},function(e,t,n){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(40);function i(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Object(r.a)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){s=!0,o=e},f:function(){try{u||null==n.return||n.return()}finally{if(s)throw o}}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return x})),n.d(t,"b",(function(){return Xe})),n.d(t,"c",(function(){return Rt})),n.d(t,"d",(function(){return Mt})),n.d(t,"e",(function(){return Ft})),n.d(t,"f",(function(){return Lt})),n.d(t,"g",(function(){return jt})),n.d(t,"h",(function(){return Pt})),n.d(t,"i",(function(){return Oi})),n.d(t,"j",(function(){return Va})),n.d(t,"k",(function(){return j})),n.d(t,"l",(function(){return si})),n.d(t,"m",(function(){return Ut})),n.d(t,"n",(function(){return Bt})),n.d(t,"o",(function(){return zt})),n.d(t,"p",(function(){return M})),n.d(t,"q",(function(){return Ge})),n.d(t,"r",(function(){return A})),n.d(t,"s",(function(){return Er})),n.d(t,"t",(function(){return V})),n.d(t,"u",(function(){return ta})),n.d(t,"v",(function(){return Ki})),n.d(t,"w",(function(){return Ae})),n.d(t,"y",(function(){return Tn})),n.d(t,"z",(function(){return kr})),n.d(t,"A",(function(){return Fa})),n.d(t,"B",(function(){return wr})),n.d(t,"C",(function(){return Sn})),n.d(t,"D",(function(){return xn})),n.d(t,"E",(function(){return Qe})),n.d(t,"G",(function(){return Rn})),n.d(t,"H",(function(){return T})),n.d(t,"I",(function(){return zn})),n.d(t,"J",(function(){return sr})),n.d(t,"K",(function(){return fr})),n.d(t,"L",(function(){return Zi})),n.d(t,"M",(function(){return Ce})),n.d(t,"N",(function(){return Gr})),n.d(t,"O",(function(){return Ln})),n.d(t,"P",(function(){return fn})),n.d(t,"Q",(function(){return di})),n.d(t,"R",(function(){return Di})),n.d(t,"S",(function(){return Xi})),n.d(t,"T",(function(){return vr})),n.d(t,"U",(function(){return dn})),n.d(t,"V",(function(){return vi})),n.d(t,"W",(function(){return Ri})),n.d(t,"X",(function(){return $i})),n.d(t,"Y",(function(){return Kn})),n.d(t,"Z",(function(){return wn})),n.d(t,"ab",(function(){return Pn})),n.d(t,"bb",(function(){return Ht})),n.d(t,"cb",(function(){return cn})),n.d(t,"db",(function(){return yn})),n.d(t,"eb",(function(){return Dn})),n.d(t,"fb",(function(){return Fn})),n.d(t,"gb",(function(){return fi})),n.d(t,"hb",(function(){return Ci})),n.d(t,"ib",(function(){return Hi})),n.d(t,"jb",(function(){return Jt})),n.d(t,"kb",(function(){return Jn})),n.d(t,"lb",(function(){return Zn})),n.d(t,"mb",(function(){return gi})),n.d(t,"nb",(function(){return Yn})),n.d(t,"ob",(function(){return Gn})),n.d(t,"pb",(function(){return Cn})),n.d(t,"x",(function(){return bo})),n.d(t,"F",(function(){return mo}));var r=n(59),i=n(0),a=n(3),o=n(2),u=n(27),s=n(24),c=n(11),l=n(12),f=n(4),h=n(35),d=n(9),p=n(15),v=n(18),m=n(5),y=n(6),b=n(21),g=n(29);function k(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;var O,w=n(28),j={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},x={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};function E(){return Object(m.a)({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var T=function(){var e;return e={},Object(m.a)(e,"admin-restricted-operation","This operation is restricted to administrators only."),Object(m.a)(e,"argument-error",""),Object(m.a)(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),Object(m.a)(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),Object(m.a)(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),Object(m.a)(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),Object(m.a)(e,"cordova-not-ready","Cordova framework is not ready."),Object(m.a)(e,"cors-unsupported","This browser is not supported."),Object(m.a)(e,"credential-already-in-use","This credential is already associated with a different user account."),Object(m.a)(e,"custom-token-mismatch","The custom token corresponds to a different audience."),Object(m.a)(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),Object(m.a)(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),Object(m.a)(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),Object(m.a)(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),Object(m.a)(e,"email-already-in-use","The email address is already in use by another account."),Object(m.a)(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),Object(m.a)(e,"expired-action-code","The action code has expired."),Object(m.a)(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),Object(m.a)(e,"internal-error","An internal AuthError has occurred."),Object(m.a)(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),Object(m.a)(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),Object(m.a)(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),Object(m.a)(e,"invalid-auth-event","An internal AuthError has occurred."),Object(m.a)(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),Object(m.a)(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),Object(m.a)(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),Object(m.a)(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),Object(m.a)(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),Object(m.a)(e,"invalid-email","The email address is badly formatted."),Object(m.a)(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),Object(m.a)(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),Object(m.a)(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),Object(m.a)(e,"invalid-credential","The supplied auth credential is malformed or has expired."),Object(m.a)(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),Object(m.a)(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),Object(m.a)(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),Object(m.a)(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),Object(m.a)(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),Object(m.a)(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),Object(m.a)(e,"wrong-password","The password is invalid or the user does not have a password."),Object(m.a)(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),Object(m.a)(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),Object(m.a)(e,"invalid-provider-id","The specified provider ID is invalid."),Object(m.a)(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),Object(m.a)(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),Object(m.a)(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),Object(m.a)(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),Object(m.a)(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),Object(m.a)(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),Object(m.a)(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),Object(m.a)(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),Object(m.a)(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),Object(m.a)(e,"missing-continue-uri","A continue URL must be provided in the request."),Object(m.a)(e,"missing-iframe-start","An internal AuthError has occurred."),Object(m.a)(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),Object(m.a)(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),Object(m.a)(e,"missing-multi-factor-info","No second factor identifier is provided."),Object(m.a)(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),Object(m.a)(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),Object(m.a)(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),Object(m.a)(e,"app-deleted","This instance of FirebaseApp has been deleted."),Object(m.a)(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),Object(m.a)(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),Object(m.a)(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),Object(m.a)(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),Object(m.a)(e,"no-auth-event","An internal AuthError has occurred."),Object(m.a)(e,"no-such-provider","User was not linked to an account with the given provider."),Object(m.a)(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),Object(m.a)(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),Object(m.a)(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),Object(m.a)(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),Object(m.a)(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),Object(m.a)(e,"provider-already-linked","User can only be linked to one identity for the given provider."),Object(m.a)(e,"quota-exceeded","The project's quota for this operation has been exceeded."),Object(m.a)(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),Object(m.a)(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),Object(m.a)(e,"rejected-credential","The request contains malformed or mismatching credentials."),Object(m.a)(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),Object(m.a)(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),Object(m.a)(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),Object(m.a)(e,"timeout","The operation has timed out."),Object(m.a)(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),Object(m.a)(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),Object(m.a)(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),Object(m.a)(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),Object(m.a)(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),Object(m.a)(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),Object(m.a)(e,"unverified-email","The operation requires a verified email."),Object(m.a)(e,"user-cancelled","The user did not grant your application the permissions it requested."),Object(m.a)(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),Object(m.a)(e,"user-disabled","The user account has been disabled by an administrator."),Object(m.a)(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),Object(m.a)(e,"user-signed-out",""),Object(m.a)(e,"weak-password","The password must be 6 characters long or more."),Object(m.a)(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),Object(m.a)(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},I=E,S=new y.b("auth","Firebase",E()),_=new g.b("@firebase/auth");function C(e){if(_.logLevel<=g.a.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];_.error.apply(_,["Auth (".concat(b.SDK_VERSION,"): ").concat(e)].concat(n))}}function A(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw P.apply(void 0,[e].concat(n))}function R(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return P.apply(void 0,[e].concat(n))}function N(e,t,n){var r=Object.assign(Object.assign({},I()),Object(m.a)({},t,n));return new y.b("auth","Firebase",r).create(t,{appName:e.name})}function D(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&A(e,"argument-error"),N(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function P(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=Object(v.a)(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(Object(v.a)(o)))}return S.create.apply(S,[e].concat(n))}function M(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw P.apply(void 0,[t].concat(r))}}function L(e){var t="INTERNAL ASSERTION FAILED: "+e;throw C(t),new Error(t)}function F(e,t){e||L(t)}var U=new Map;function V(e){F(e instanceof Function,"Expected a class definition");var t=U.get(e);return t?(F(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,U.set(e,t),t)}function B(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function z(){return"http:"===q()||"https:"===q()}function q(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var K=function(){function e(t,n){Object(a.a)(this,e),this.shortDelay=t,this.longDelay=n,F(n>t,"Short delay should be less than long delay!"),this.isMobile=Object(y.w)()||Object(y.y)()}return Object(o.a)(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(z()||Object(y.s)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function W(e,t){F(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var G=function(){function e(){Object(a.a)(this,e)}return Object(o.a)(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void L("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void L("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void L("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),H=(O={},Object(m.a)(O,"CREDENTIAL_MISMATCH","custom-token-mismatch"),Object(m.a)(O,"MISSING_CUSTOM_TOKEN","internal-error"),Object(m.a)(O,"INVALID_IDENTIFIER","invalid-email"),Object(m.a)(O,"MISSING_CONTINUE_URI","internal-error"),Object(m.a)(O,"INVALID_PASSWORD","wrong-password"),Object(m.a)(O,"MISSING_PASSWORD","internal-error"),Object(m.a)(O,"EMAIL_EXISTS","email-already-in-use"),Object(m.a)(O,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Object(m.a)(O,"INVALID_IDP_RESPONSE","invalid-credential"),Object(m.a)(O,"INVALID_PENDING_TOKEN","invalid-credential"),Object(m.a)(O,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Object(m.a)(O,"MISSING_REQ_TYPE","internal-error"),Object(m.a)(O,"EMAIL_NOT_FOUND","user-not-found"),Object(m.a)(O,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Object(m.a)(O,"EXPIRED_OOB_CODE","expired-action-code"),Object(m.a)(O,"INVALID_OOB_CODE","invalid-action-code"),Object(m.a)(O,"MISSING_OOB_CODE","internal-error"),Object(m.a)(O,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Object(m.a)(O,"INVALID_ID_TOKEN","invalid-user-token"),Object(m.a)(O,"TOKEN_EXPIRED","user-token-expired"),Object(m.a)(O,"USER_NOT_FOUND","user-token-expired"),Object(m.a)(O,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Object(m.a)(O,"INVALID_CODE","invalid-verification-code"),Object(m.a)(O,"INVALID_SESSION_INFO","invalid-verification-id"),Object(m.a)(O,"INVALID_TEMPORARY_PROOF","invalid-credential"),Object(m.a)(O,"MISSING_SESSION_INFO","missing-verification-id"),Object(m.a)(O,"SESSION_EXPIRED","code-expired"),Object(m.a)(O,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Object(m.a)(O,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Object(m.a)(O,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Object(m.a)(O,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Object(m.a)(O,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Object(m.a)(O,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Object(m.a)(O,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Object(m.a)(O,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Object(m.a)(O,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Object(m.a)(O,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Object(m.a)(O,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),O),Q=new K(3e4,6e4);function $(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Y(e,t,n,r){return X.apply(this,arguments)}function X(){return X=Object(f.a)(Object(i.a)().mark((function e(t,n,r,a){var o,u=arguments;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=u.length>4&&void 0!==u[4]?u[4]:{},e.abrupt("return",J(t,o,Object(f.a)(Object(i.a)().mark((function e(){var o,u,s,c;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={},u={},a&&("GET"===n?u=a:o={body:JSON.stringify(a)}),s=Object(y.A)(Object.assign({key:t.config.apiKey},u)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(c=e.sent)["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",G.fetch()(ne(t,t.config.apiHost,r,s),Object.assign({method:n,headers:c,referrerPolicy:"no-referrer"},o)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),X.apply(this,arguments)}function J(e,t,n){return Z.apply(this,arguments)}function Z(){return(Z=Object(f.a)(Object(i.a)().mark((function e(t,n,r){var a,o,u,s,c,l,f,h,d,v;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,a=Object.assign(Object.assign({},H),n),e.prev=2,o=new re(t),e.next=6,Promise.race([r(),o.promise]);case 6:return u=e.sent,o.clearNetworkTimeout(),e.next=10,u.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw ie(t,"account-exists-with-different-credential",s);case 13:if(!u.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(c=u.ok?s.errorMessage:s.error.message,l=c.split(" : "),f=Object(p.a)(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw ie(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw ie(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw ie(t,"user-disabled",s);case 29:if(v=a[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw N(t,v,d);case 34:A(t,v);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof y.c)){e.next=41;break}throw e.t0;case 41:A(t,"internal-error",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])})))).apply(this,arguments)}function ee(e,t,n,r){return te.apply(this,arguments)}function te(){return te=Object(f.a)(Object(i.a)().mark((function e(t,n,r,a){var o,u,s=arguments;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,Y(t,n,r,a,o);case 3:return"mfaPendingCredential"in(u=e.sent)&&A(t,"multi-factor-auth-required",{_serverResponse:u}),e.abrupt("return",u);case 6:case"end":return e.stop()}}),e)}))),te.apply(this,arguments)}function ne(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?W(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var re=function(){function e(t){var n=this;Object(a.a)(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(R(n.auth,"network-request-failed"))}),Q.get())}))}return Object(o.a)(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function ie(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=R(e,t,r);return i.customData._tokenResponse=n,i}function ae(e,t){return oe.apply(this,arguments)}function oe(){return(oe=Object(f.a)(Object(i.a)().mark((function e(t,n){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Y(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ue(e,t){return se.apply(this,arguments)}function se(){return(se=Object(f.a)(Object(i.a)().mark((function e(t,n){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Y(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ce(e,t){return le.apply(this,arguments)}function le(){return(le=Object(f.a)(Object(i.a)().mark((function e(t,n){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Y(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fe(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function he(){return he=Object(f.a)(Object(i.a)().mark((function e(t){var n,r,a,o,u,s,c=arguments;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]&&c[1],r=Object(y.p)(t),e.next=4,r.getIdToken(n);case 4:return a=e.sent,M((o=pe(a))&&o.exp&&o.auth_time&&o.iat,r.auth,"internal-error"),u="object"===typeof o.firebase?o.firebase:void 0,s=null===u||void 0===u?void 0:u.sign_in_provider,e.abrupt("return",{claims:o,token:a,authTime:fe(de(o.auth_time)),issuedAtTime:fe(de(o.iat)),expirationTime:fe(de(o.exp)),signInProvider:s||null,signInSecondFactor:(null===u||void 0===u?void 0:u.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),he.apply(this,arguments)}function de(e){return 1e3*Number(e)}function pe(e){var t=e.split("."),n=Object(p.a)(t,3),r=n[0],i=n[1],a=n[2];if(void 0===r||void 0===i||void 0===a)return C("JWT malformed, contained fewer than 3 sections"),null;try{var o=Object(y.d)(i);return o?JSON.parse(o):(C("Failed to decode base64 JWT payload"),null)}catch(u){return C("Caught error parsing JWT payload as JSON",null===u||void 0===u?void 0:u.toString()),null}}function ve(e,t){return me.apply(this,arguments)}function me(){return me=Object(f.a)(Object(i.a)().mark((function e(t,n){var r=arguments;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof y.c&&ye(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),me.apply(this,arguments)}function ye(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var be=function(){function e(t){Object(a.a)(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Object(o.a)(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Object(f.a)(Object(i.a)().mark((function t(){return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),ge=function(){function e(t,n){Object(a.a)(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Object(o.a)(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=fe(this.lastLoginAt),this.creationTime=fe(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function ke(e){return Oe.apply(this,arguments)}function Oe(){return(Oe=Object(f.a)(Object(i.a)().mark((function e(t){var n,r,a,o,u,s,c,l,f,h,d;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,e.next=6,ve(t,ce(r,{idToken:a}));case 6:M(null===(o=e.sent)||void 0===o?void 0:o.users.length,r,"internal-error"),u=o.users[0],t._notifyReloadListener(u),s=(null===(n=u.providerUserInfo)||void 0===n?void 0:n.length)?u.providerUserInfo.map((function(e){var t=e.providerId,n=k(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],c=je(t.providerData,s),l=t.isAnonymous,f=!(t.email&&u.passwordHash)&&!(null===c||void 0===c?void 0:c.length),h=!!l&&f,d={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:c,metadata:new ge(u.createdAt,u.lastLoginAt),isAnonymous:h},Object.assign(t,d);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function we(){return(we=Object(f.a)(Object(i.a)().mark((function e(t){var n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(y.p)(t),e.next=3,ke(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function je(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(Object(v.a)(n),Object(v.a)(t))}function xe(e,t){return Ee.apply(this,arguments)}function Ee(){return(Ee=Object(f.a)(Object(i.a)().mark((function e(t,n){var r;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J(t,{},Object(f.a)(Object(i.a)().mark((function e(){var r,a,o,u,s,c;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(y.A)({grant_type:"refresh_token",refresh_token:n}).slice(1),a=t.config,o=a.tokenApiHost,u=a.apiKey,s=ne(t,o,"/v1/token","key=".concat(u)),e.next=5,t._getAdditionalHeaders();case 5:return(c=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",G.fetch()(s,{method:"POST",headers:c,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Te=function(){function e(){Object(a.a)(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Object(o.a)(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){M(e.idToken,"internal-error"),M("undefined"!==typeof e.idToken,"internal-error"),M("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=pe(e);return M(t,"internal-error"),M("undefined"!==typeof t.exp,"internal-error"),M("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t){var n,r=arguments;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],M(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t,n){var r,a,o,u;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe(t,n);case 2:r=e.sent,a=r.accessToken,o=r.refreshToken,u=r.expiresIn,this.updateTokensAndExpiration(a,o,Number(u));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return L("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(M("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(M("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(M("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Ie(e,t){M("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Se=function(){function e(t){Object(a.a)(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,o=k(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new be(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?Object(v.a)(o.providerData):[],this.metadata=new ge(o.createdAt||void 0,o.lastLoginAt||void 0)}return Object(o.a)(e,[{key:"getIdToken",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t){var n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(M(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return he.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return we.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(M(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){M(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t){var n,r,a=arguments;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.length>1&&void 0!==a[1]&&a[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,ke(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(){var t;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,ve(this,ae(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,b=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,g=n.uid,k=n.emailVerified,O=n.isAnonymous,w=n.providerData,j=n.stsTokenManager;M(g&&j,t,"internal-error");var x=Te.fromJSON(this.name,j);M("string"===typeof g,t,"internal-error"),Ie(f,t.name),Ie(h,t.name),M("boolean"===typeof k,t,"internal-error"),M("boolean"===typeof O,t,"internal-error"),Ie(d,t.name),Ie(p,t.name),Ie(v,t.name),Ie(m,t.name),Ie(y,t.name),Ie(b,t.name);var E=new e({uid:g,auth:t,email:h,emailVerified:k,displayName:f,isAnonymous:O,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:x,createdAt:y,lastLoginAt:b});return w&&Array.isArray(w)&&(E.providerData=w.map((function(e){return Object.assign({},e)}))),m&&(E._redirectEventId=m),E}},{key:"_fromIdTokenResponse",value:function(){var t=Object(f.a)(Object(i.a)().mark((function t(n,r){var a,o,u,s=arguments;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=s.length>2&&void 0!==s[2]&&s[2],(o=new Te).updateFromServerResponse(r),u=new e({uid:r.localId,auth:n,stsTokenManager:o,isAnonymous:a}),t.next=6,ke(u);case 6:return t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),_e=function(){function e(){Object(a.a)(this,e),this.type="NONE",this.storage={}}return Object(o.a)(e,[{key:"_isAvailable",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t,n){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t){var n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();_e.type="NONE";var Ce=_e;function Ae(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Re=function(){function e(t,n,r){Object(a.a)(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,o=i.config,u=i.name;this.fullUserKey=Ae(this.userKey,o.apiKey,u),this.fullPersistenceKey=Ae("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Object(o.a)(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(){var t;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Se._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t){var n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Object(f.a)(Object(i.a)().mark((function t(n,r){var a,o,u,s,c,l,h,p,v,m,y,b=arguments;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=b.length>2&&void 0!==b[2]?b[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(V(Ce),n,a));case 3:return t.next=5,Promise.all(r.map(function(){var e=Object(f.a)(Object(i.a)().mark((function e(t){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:o=t.sent.filter((function(e){return e})),u=o[0]||V(Ce),s=Ae(a,n.config.apiKey,n.name),c=null,l=Object(d.a)(r),t.prev=10,l.s();case 12:if((h=l.n()).done){t.next=29;break}return p=h.value,t.prev=14,t.next=17,p._get(s);case 17:if(!(v=t.sent)){t.next=23;break}return m=Se._fromJSON(n,v),p!==u&&(c=m),u=p,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),l.e(t.t1);case 34:return t.prev=34,l.f(),t.finish(34);case 37:if(y=o.filter((function(e){return e._shouldAllowMigration})),u._shouldAllowMigration&&y.length){t.next=40;break}return t.abrupt("return",new e(u,n,a));case 40:if(u=y[0],!c){t.next=44;break}return t.next=44,u._set(s,c.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Object(f.a)(Object(i.a)().mark((function e(t){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===u){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(u,n,a));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Ne(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Le(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(De(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ue(t))return"Blackberry";if(Ve(t))return"Webos";if(Pe(t))return"Safari";if((t.includes("chrome/")||Me(t))&&!t.includes("edge/"))return"Chrome";if(Fe(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function De(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(y.q)();return/firefox\//i.test(e)}function Pe(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(y.q)()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Me(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(y.q)();return/crios\//i.test(e)}function Le(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(y.q)();return/iemobile/i.test(e)}function Fe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(y.q)();return/android/i.test(e)}function Ue(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(y.q)();return/blackberry/i.test(e)}function Ve(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(y.q)();return/webos/i.test(e)}function Be(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(y.q)();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function ze(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(y.q)();return Be(e)||Fe(e)||Ve(e)||Ue(e)||/windows phone/i.test(e)||Le(e)}function qe(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Ne(Object(y.q)());break;case"Worker":t="".concat(Ne(Object(y.q)()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(b.SDK_VERSION,"/").concat(r)}var Ke=function(){function e(t){Object(a.a)(this,e),this.auth=t,this.queue=[]}return Object(o.a)(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t){var n,r,a,o,u,s,c;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=Object(d.a)(this.queue),e.prev=5,r.s();case 7:if((a=r.n()).done){e.next=14;break}return o=a.value,e.next=11,o(t);case 11:o.onAbort&&n.push(o.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),u=Object(d.a)(n);try{for(u.s();!(s=u.n()).done;){c=s.value;try{c()}catch(i){}}}catch(l){u.e(l)}finally{u.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),We=function(){function e(t,n,r){Object(a.a)(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new He(this),this.idTokenSubscription=new He(this),this.beforeStateQueue=new Ke(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=S,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return Object(o.a)(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=V(t)),this._initializationPromise=this.queue(Object(f.a)(Object(i.a)().mark((function r(){var a,o;return Object(i.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Re.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(a=n._popupRedirectResolver)||void 0===a?void 0:a._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(o=n.currentUser)||void 0===o?void 0:o.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(){var t;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t){var n,r,a,o,u,s,c;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,a=r,o=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return u=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===a||void 0===a?void 0:a._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:c=e.sent,u&&u!==s||!(null===c||void 0===c?void 0:c.user)||(a=c.user,o=!0);case 14:if(a){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(a._redirectEventId){e.next=32;break}if(!o){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(a);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),a=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!a){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(a));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return M(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==a._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(a));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(a));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t){var n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ke(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t){var n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Object(y.p)(t):null)&&M(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t){var n,r=this,a=arguments;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.length>1&&void 0!==a[1]&&a[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&M(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(Object(f.a)(Object(i.a)().mark((function e(){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Object(f.a)(Object(i.a)().mark((function n(){return Object(i.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(V(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new y.b("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t,n){var r;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t){var n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return M(n=t&&V(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Re.create(this,[V(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t){var n,r;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Object(f.a)(Object(i.a)().mark((function e(){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t){var n=this;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Object(f.a)(Object(i.a)().mark((function e(){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return M(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return M(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qe(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(){var t,n,r;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(m.a)({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ge(e){return Object(y.p)(e)}var He=function(){function e(t){var n=this;Object(a.a)(this,e),this.auth=t,this.observer=null,this.addObserver=Object(y.h)((function(e){return n.observer=e}))}return Object(o.a)(e,[{key:"next",get:function(){return M(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Qe(e,t,n){var r=Ge(e);M(r._canInitEmulator,r,"emulator-config-failed"),M(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=$e(t),o=function(e){var t=$e(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Ye(r.substr(a.length+1))}}var o=r.split(":"),u=Object(p.a)(o,2);return{host:u[0],port:Ye(u[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function $e(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ye(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Xe=function(){function e(t,n){Object(a.a)(this,e),this.providerId=t,this.signInMethod=n}return Object(o.a)(e,[{key:"toJSON",value:function(){return L("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return L("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return L("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return L("not implemented")}}]),e}();function Je(e,t){return Ze.apply(this,arguments)}function Ze(){return(Ze=Object(f.a)(Object(i.a)().mark((function e(t,n){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Y(t,"POST","/v1/accounts:resetPassword",$(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function et(e,t){return tt.apply(this,arguments)}function tt(){return(tt=Object(f.a)(Object(i.a)().mark((function e(t,n){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Y(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nt(e,t){return rt.apply(this,arguments)}function rt(){return(rt=Object(f.a)(Object(i.a)().mark((function e(t,n){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Y(t,"POST","/v1/accounts:update",$(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function it(e,t){return at.apply(this,arguments)}function at(){return(at=Object(f.a)(Object(i.a)().mark((function e(t,n){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(t,"POST","/v1/accounts:signInWithPassword",$(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ot(e,t){return ut.apply(this,arguments)}function ut(){return(ut=Object(f.a)(Object(i.a)().mark((function e(t,n){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Y(t,"POST","/v1/accounts:sendOobCode",$(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function st(e,t){return ct.apply(this,arguments)}function ct(){return(ct=Object(f.a)(Object(i.a)().mark((function e(t,n){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ot(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lt(e,t){return ft.apply(this,arguments)}function ft(){return(ft=Object(f.a)(Object(i.a)().mark((function e(t,n){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ot(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ht(e,t){return dt.apply(this,arguments)}function dt(){return(dt=Object(f.a)(Object(i.a)().mark((function e(t,n){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ot(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pt(e,t){return vt.apply(this,arguments)}function vt(){return(vt=Object(f.a)(Object(i.a)().mark((function e(t,n){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ot(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mt(e,t){return yt.apply(this,arguments)}function yt(){return(yt=Object(f.a)(Object(i.a)().mark((function e(t,n){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(t,"POST","/v1/accounts:signInWithEmailLink",$(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bt(e,t){return gt.apply(this,arguments)}function gt(){return(gt=Object(f.a)(Object(i.a)().mark((function e(t,n){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(t,"POST","/v1/accounts:signInWithEmailLink",$(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var kt=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e,r,i){var o,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Object(a.a)(this,n),(o=t.call(this,"password",i))._email=e,o._password=r,o._tenantId=u,o}return Object(o.a)(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",it(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",mt(t,{email:this._email,oobCode:this._password}));case 5:A(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t,n){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",et(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",bt(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:A(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Xe);function Ot(e,t){return wt.apply(this,arguments)}function wt(){return(wt=Object(f.a)(Object(i.a)().mark((function e(t,n){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(t,"POST","/v1/accounts:signInWithIdp",$(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var jt=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(a.a)(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return Object(o.a)(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Ot(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Ot(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Ot(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Object(y.A)(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):A("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=k(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Xe);function xt(e,t){return Et.apply(this,arguments)}function Et(){return(Et=Object(f.a)(Object(i.a)().mark((function e(t,n){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Y(t,"POST","/v1/accounts:sendVerificationCode",$(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tt(){return(Tt=Object(f.a)(Object(i.a)().mark((function e(t,n){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(t,"POST","/v1/accounts:signInWithPhoneNumber",$(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function It(){return(It=Object(f.a)(Object(i.a)().mark((function e(t,n){var r;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee(t,"POST","/v1/accounts:signInWithPhoneNumber",$(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw ie(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var St=Object(m.a)({},"USER_NOT_FOUND","user-not-found");function _t(){return(_t=Object(f.a)(Object(i.a)().mark((function e(t,n){var r;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",ee(t,"POST","/v1/accounts:signInWithPhoneNumber",$(t,r),St));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ct=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,"phone","phone")).params=e,r}return Object(o.a)(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Tt.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return It.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return _t.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Xe);var At=function(){function e(t){var n,r,i,o,u,s;Object(a.a)(this,e);var c=Object(y.B)(Object(y.k)(t)),l=null!==(n=c.apiKey)&&void 0!==n?n:null,f=null!==(r=c.oobCode)&&void 0!==r?r:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=c.mode)&&void 0!==i?i:null);M(l&&f&&h,"argument-error"),this.apiKey=l,this.operation=h,this.code=f,this.continueUrl=null!==(o=c.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(u=c.languageCode)&&void 0!==u?u:null,this.tenantId=null!==(s=c.tenantId)&&void 0!==s?s:null}return Object(o.a)(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Object(y.B)(Object(y.k)(e)).link,n=t?Object(y.B)(Object(y.k)(t)).deep_link_id:null,r=Object(y.B)(Object(y.k)(e)).deep_link_id;return(r?Object(y.B)(Object(y.k)(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}();var Rt=function(){function e(){Object(a.a)(this,e),this.providerId=e.PROVIDER_ID}return Object(o.a)(e,null,[{key:"credential",value:function(e,t){return kt._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=At.parseLink(t);return M(n,"argument-error"),kt._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Rt.PROVIDER_ID="password",Rt.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Rt.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Nt=function(){function e(t){Object(a.a)(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Object(o.a)(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Dt=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(a.a)(this,n),(e=t.apply(this,arguments)).scopes=[],e}return Object(o.a)(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return Object(v.a)(this.scopes)}}]),n}(Nt),Pt=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return M(e.idToken||e.accessToken,"argument-error"),jt._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return M("providerId"in t&&"signInMethod"in t,"argument-error"),jt._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(Dt),Mt=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){return Object(a.a)(this,n),t.call(this,"facebook.com")}return Object(o.a)(n,null,[{key:"credential",value:function(e){return jt._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(Dt);Mt.FACEBOOK_SIGN_IN_METHOD="facebook.com",Mt.PROVIDER_ID="facebook.com";var Lt=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(a.a)(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return Object(o.a)(n,null,[{key:"credential",value:function(e,t){return jt._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(Dt);Lt.GOOGLE_SIGN_IN_METHOD="google.com",Lt.PROVIDER_ID="google.com";var Ft=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){return Object(a.a)(this,n),t.call(this,"github.com")}return Object(o.a)(n,null,[{key:"credential",value:function(e){return jt._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(Dt);Ft.GITHUB_SIGN_IN_METHOD="github.com",Ft.PROVIDER_ID="github.com";var Ut=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e,r){var i;return Object(a.a)(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return Object(o.a)(n,[{key:"_getIdTokenResponse",value:function(e){return Ot(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Ot(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Ot(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Xe),Vt="saml.",Bt=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){return Object(a.a)(this,n),M(e.startsWith(Vt),"argument-error"),t.call(this,e)}return Object(o.a)(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Ut.fromJSON(e);return M(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Ut._create(r,n)}catch(i){return null}}}]),n}(Nt),zt=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){return Object(a.a)(this,n),t.call(this,"twitter.com")}return Object(o.a)(n,null,[{key:"credential",value:function(e,t){return jt._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(Dt);function qt(e,t){return Kt.apply(this,arguments)}function Kt(){return(Kt=Object(f.a)(Object(i.a)().mark((function e(t,n){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(t,"POST","/v1/accounts:signUp",$(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}zt.TWITTER_SIGN_IN_METHOD="twitter.com",zt.PROVIDER_ID="twitter.com";var Wt=function(){function e(t){Object(a.a)(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Object(o.a)(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Object(f.a)(Object(i.a)().mark((function t(n,r,a){var o,u,s,c,l=arguments;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=l.length>3&&void 0!==l[3]&&l[3],t.next=3,Se._fromIdTokenResponse(n,a,o);case 3:return u=t.sent,s=Gt(a),c=new e({user:u,providerId:s,_tokenResponse:a,operationType:r}),t.abrupt("return",c);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Object(f.a)(Object(i.a)().mark((function t(n,r,a){var o;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(a,!0);case 2:return o=Gt(a),t.abrupt("return",new e({user:n,providerId:o,_tokenResponse:a,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Gt(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Ht(e){return Qt.apply(this,arguments)}function Qt(){return(Qt=Object(f.a)(Object(i.a)().mark((function e(t){var n,r,a,o;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ge(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Wt({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,qt(r,{returnSecureToken:!0});case 7:return a=e.sent,e.next=10,Wt._fromIdTokenResponse(r,"signIn",a,!0);case 10:return o=e.sent,e.next=13,r._updateCurrentUser(o.user);case 13:return e.abrupt("return",o);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $t=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e,r,i,o){var u,s;return Object(a.a)(this,n),(u=t.call(this,r.code,r.message)).operationType=i,u.user=o,Object.setPrototypeOf(Object(h.a)(u),n.prototype),u.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},u}return Object(o.a)(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(y.c);function Yt(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw $t._fromErrorAndOperation(e,n,t,r);throw n}))}function Xt(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Jt(e,t){return Zt.apply(this,arguments)}function Zt(){return(Zt=Object(f.a)(Object(i.a)().mark((function e(t,n){var r,a,o,u;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(y.p)(t),e.next=3,nn(!0,r,n);case 3:return e.t0=ue,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return a=e.sent,o=a.providerUserInfo,u=Xt(o||[]),r.providerData=r.providerData.filter((function(e){return u.has(e.providerId)})),u.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function en(e,t){return tn.apply(this,arguments)}function tn(){return tn=Object(f.a)(Object(i.a)().mark((function e(t,n){var r,a,o=arguments;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]&&o[2],e.t0=ve,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return a=e.sent,e.abrupt("return",Wt._forOperation(t,"link",a));case 14:case"end":return e.stop()}}),e)}))),tn.apply(this,arguments)}function nn(e,t,n){return rn.apply(this,arguments)}function rn(){return(rn=Object(f.a)(Object(i.a)().mark((function e(t,n,r){var a,o;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke(n);case 2:a=Xt(n.providerData),o=!1===t?"provider-already-linked":"no-such-provider",M(a.has(r)===t,n.auth,o);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function an(e,t){return on.apply(this,arguments)}function on(){return on=Object(f.a)(Object(i.a)().mark((function e(t,n){var r,a,o,u,s,c,l=arguments;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]&&l[2],a=t.auth,o="reauthenticate",e.prev=3,e.next=6,ve(t,Yt(a,o,n,t),r);case 6:return M((u=e.sent).idToken,a,"internal-error"),M(s=pe(u.idToken),a,"internal-error"),c=s.sub,M(t.uid===c,a,"user-mismatch"),e.abrupt("return",Wt._forOperation(t,o,u));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&A(a,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),on.apply(this,arguments)}function un(e,t){return sn.apply(this,arguments)}function sn(){return sn=Object(f.a)(Object(i.a)().mark((function e(t,n){var r,a,o,u,s=arguments;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],a="signIn",e.next=4,Yt(t,a,n);case 4:return o=e.sent,e.next=7,Wt._fromIdTokenResponse(t,a,o);case 7:if(u=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(u.user);case 11:return e.abrupt("return",u);case 12:case"end":return e.stop()}}),e)}))),sn.apply(this,arguments)}function cn(e,t){return ln.apply(this,arguments)}function ln(){return(ln=Object(f.a)(Object(i.a)().mark((function e(t,n){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",un(Ge(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fn(e,t){return hn.apply(this,arguments)}function hn(){return(hn=Object(f.a)(Object(i.a)().mark((function e(t,n){var r;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(y.p)(t),e.next=3,nn(!1,r,n.providerId);case 3:return e.abrupt("return",en(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dn(e,t){return pn.apply(this,arguments)}function pn(){return(pn=Object(f.a)(Object(i.a)().mark((function e(t,n){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",an(Object(y.p)(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vn(e,t){return mn.apply(this,arguments)}function mn(){return(mn=Object(f.a)(Object(i.a)().mark((function e(t,n){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(t,"POST","/v1/accounts:signInWithCustomToken",$(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yn(e,t){return bn.apply(this,arguments)}function bn(){return(bn=Object(f.a)(Object(i.a)().mark((function e(t,n){var r,a,o;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ge(t),e.next=3,vn(r,{token:n,returnSecureToken:!0});case 3:return a=e.sent,e.next=6,Wt._fromIdTokenResponse(r,"signIn",a);case 6:return o=e.sent,e.next=9,r._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var gn=function(){function e(t,n){Object(a.a)(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return Object(o.a)(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?kn._fromServerResponse(e,t):A(e,"internal-error")}}]),e}(),kn=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return Object(o.a)(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(gn);function On(e,t,n){var r;M((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),M("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(M(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(M(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function wn(e,t,n){return jn.apply(this,arguments)}function jn(){return(jn=Object(f.a)(Object(i.a)().mark((function e(t,n,r){var a,o;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(y.p)(t),o={requestType:"PASSWORD_RESET",email:n},r&&On(a,o,r),e.next=5,lt(a,o);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xn(e,t,n){return En.apply(this,arguments)}function En(){return(En=Object(f.a)(Object(i.a)().mark((function e(t,n,r){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Je(Object(y.p)(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tn(e,t){return In.apply(this,arguments)}function In(){return(In=Object(f.a)(Object(i.a)().mark((function e(t,n){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nt(Object(y.p)(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sn(e,t){return _n.apply(this,arguments)}function _n(){return(_n=Object(f.a)(Object(i.a)().mark((function e(t,n){var r,a,o,u;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(y.p)(t),e.next=3,Je(r,{oobCode:n});case 3:a=e.sent,M(o=a.requestType,r,"internal-error"),e.t0=o,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return M(a.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:M(a.mfaInfo,r,"internal-error");case 13:M(a.email,r,"internal-error");case 14:return u=null,a.mfaInfo&&(u=gn._fromServerResponse(Ge(r),a.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===a.requestType?a.newEmail:a.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===a.requestType?a.email:a.newEmail)||null,multiFactorInfo:u},operation:o});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cn(e,t){return An.apply(this,arguments)}function An(){return(An=Object(f.a)(Object(i.a)().mark((function e(t,n){var r,a;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sn(Object(y.p)(t),n);case 2:return r=e.sent,a=r.data,e.abrupt("return",a.email);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rn(e,t,n){return Nn.apply(this,arguments)}function Nn(){return(Nn=Object(f.a)(Object(i.a)().mark((function e(t,n,r){var a,o,u;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ge(t),e.next=3,qt(a,{returnSecureToken:!0,email:n,password:r});case 3:return o=e.sent,e.next=6,Wt._fromIdTokenResponse(a,"signIn",o);case 6:return u=e.sent,e.next=9,a._updateCurrentUser(u.user);case 9:return e.abrupt("return",u);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dn(e,t,n){return cn(Object(y.p)(e),Rt.credential(t,n))}function Pn(e,t,n){return Mn.apply(this,arguments)}function Mn(){return(Mn=Object(f.a)(Object(i.a)().mark((function e(t,n,r){var a,o;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(y.p)(t),o={requestType:"EMAIL_SIGNIN",email:n},M(r.handleCodeInApp,a,"argument-error"),r&&On(a,o,r),e.next=6,ht(a,o);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ln(e,t){var n=At.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}function Fn(e,t,n){return Un.apply(this,arguments)}function Un(){return(Un=Object(f.a)(Object(i.a)().mark((function e(t,n,r){var a,o;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(y.p)(t),M((o=Rt.credentialWithLink(n,r||B()))._tenantId===(a.tenantId||null),a,"tenant-id-mismatch"),e.abrupt("return",cn(a,o));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vn(e,t){return Bn.apply(this,arguments)}function Bn(){return(Bn=Object(f.a)(Object(i.a)().mark((function e(t,n){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Y(t,"POST","/v1/accounts:createAuthUri",$(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zn(e,t){return qn.apply(this,arguments)}function qn(){return(qn=Object(f.a)(Object(i.a)().mark((function e(t,n){var r,a,o,u;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=z()?B():"http://localhost",a={identifier:n,continueUri:r},e.next=4,Vn(Object(y.p)(t),a);case 4:return o=e.sent,u=o.signinMethods,e.abrupt("return",u||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kn(e,t){return Wn.apply(this,arguments)}function Wn(){return(Wn=Object(f.a)(Object(i.a)().mark((function e(t,n){var r,a,o,u;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(y.p)(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_EMAIL",idToken:a},n&&On(r.auth,o,n),e.next=8,st(r.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gn(e,t,n){return Hn.apply(this,arguments)}function Hn(){return(Hn=Object(f.a)(Object(i.a)().mark((function e(t,n,r){var a,o,u,s;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(y.p)(t),e.next=3,t.getIdToken();case 3:return o=e.sent,u={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:o,newEmail:n},r&&On(a.auth,u,r),e.next=8,pt(a.auth,u);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qn(e,t){return $n.apply(this,arguments)}function $n(){return($n=Object(f.a)(Object(i.a)().mark((function e(t,n){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Y(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yn(e,t){return Xn.apply(this,arguments)}function Xn(){return(Xn=Object(f.a)(Object(i.a)().mark((function e(t,n){var r,a,o,u,s,c,l;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,a=n.photoURL,void 0!==r||void 0!==a){e.next=3;break}return e.abrupt("return");case 3:return o=Object(y.p)(t),e.next=6,o.getIdToken();case 6:return u=e.sent,s={idToken:u,displayName:r,photoUrl:a,returnSecureToken:!0},e.next=10,ve(o,Qn(o.auth,s));case 10:return c=e.sent,o.displayName=c.displayName||null,o.photoURL=c.photoUrl||null,(l=o.providerData.find((function(e){return"password"===e.providerId})))&&(l.displayName=o.displayName,l.photoURL=o.photoURL),e.next=17,o._updateTokensIfNecessary(c);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jn(e,t){return er(Object(y.p)(e),t,null)}function Zn(e,t){return er(Object(y.p)(e),null,t)}function er(e,t,n){return tr.apply(this,arguments)}function tr(){return(tr=Object(f.a)(Object(i.a)().mark((function e(t,n,r){var a,o,u,s;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.auth,e.next=3,t.getIdToken();case 3:return o=e.sent,u={idToken:o,returnSecureToken:!0},n&&(u.email=n),r&&(u.password=r),e.next=9,ve(t,et(a,u));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var nr=Object(o.a)((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(a.a)(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),rr=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e,r,i,o){var u;return Object(a.a)(this,n),(u=t.call(this,e,r,i)).username=o,u}return Object(o.a)(n)}(nr),ir=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e,r){return Object(a.a)(this,n),t.call(this,e,"facebook.com",r)}return Object(o.a)(n)}(nr),ar=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e,r){return Object(a.a)(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return Object(o.a)(n)}(rr),or=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e,r){return Object(a.a)(this,n),t.call(this,e,"google.com",r)}return Object(o.a)(n)}(nr),ur=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e,r,i){return Object(a.a)(this,n),t.call(this,e,"twitter.com",r,i)}return Object(o.a)(n)}(rr);function sr(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=pe(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new nr(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new ir(a,i);case"github.com":return new ar(a,i);case"google.com":return new or(a,i);case"twitter.com":return new ur(a,i,e.screenName||null);case"custom":case"anonymous":return new nr(a,null);default:return new nr(a,r,i)}}(n)}var cr=function(){function e(t,n,r){Object(a.a)(this,e),this.type=t,this.credential=n,this.auth=r}return Object(o.a)(e,[{key:"toJSON",value:function(){var e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:Object(m.a)({},e,this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),lr=function(){function e(t,n,r){Object(a.a)(this,e),this.session=t,this.hints=n,this.signInResolver=r}return Object(o.a)(e,[{key:"resolveSignIn",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t){var n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Ge(t),a=n.customData._serverResponse,o=(a.mfaInfo||[]).map((function(e){return gn._fromServerResponse(r,e)}));M(a.mfaPendingCredential,r,"internal-error");var u=cr._fromMfaPendingCredential(a.mfaPendingCredential);return new e(u,o,function(){var e=Object(f.a)(Object(i.a)().mark((function e(t){var o,s,c;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,u);case 2:o=e.sent,delete a.mfaInfo,delete a.mfaPendingCredential,s=Object.assign(Object.assign({},a),{idToken:o.idToken,refreshToken:o.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Wt._fromIdTokenResponse(r,n.operationType,s);case 11:return c=e.sent,e.next=14,r._updateCurrentUser(c.user);case 14:return e.abrupt("return",c);case 15:return M(n.user,r,"internal-error"),e.abrupt("return",Wt._forOperation(n.user,n.operationType,s));case 17:A(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function fr(e,t){var n,r=Object(y.p)(e),i=t;return M(t.customData.operationType,r,"argument-error"),M(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),lr._fromError(r,i)}function hr(e,t){return Y(e,"POST","/v2/accounts/mfaEnrollment:start",$(e,t))}var dr=function(){function e(t){var n=this;Object(a.a)(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return gn._fromServerResponse(t.auth,e)})))}))}return Object(o.a)(e,[{key:"getSession",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=cr,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user.auth,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t,n){var r,a,o;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return a=e.sent,e.next=6,ve(this.user,r._process(this.user.auth,a,n));case 6:return o=e.sent,e.next=9,this.user._updateTokensIfNecessary(o);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t){var n,r,a;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.prev=4,e.next=7,ve(this.user,Y(i=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",$(i,{idToken:r,mfaEnrollmentId:n})));case 7:return a=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=11,this.user._updateTokensIfNecessary(a);case 11:return e.next=13,this.user.reload();case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(4),e.t0;case 18:case"end":return e.stop()}var i}),e,this,[[4,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),pr=new WeakMap;function vr(e){var t=Object(y.p)(e);return pr.has(t)||pr.set(t,dr._fromUser(t)),pr.get(t)}var mr="__sak",yr=function(){function e(t,n){Object(a.a)(this,e),this.storageRetriever=t,this.type=n}return Object(o.a)(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(mr,"1"),this.storage.removeItem(mr),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var br=10,gr=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(a.a)(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Object(y.q)();return Pe(e)||Be(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=ze(),e._shouldAllowMigration=!0,e}return Object(o.a)(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Object(y.u)()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,br):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t,r){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.a)(Object(s.a)(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t){var r;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.a)(Object(s.a)(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.a)(Object(s.a)(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(yr);gr.type="LOCAL";var kr=gr,Or=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){return Object(a.a)(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return Object(o.a)(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(yr);Or.type="SESSION";var wr=Or;function jr(e){return Promise.all(e.map(function(){var e=Object(f.a)(Object(i.a)().mark((function e(t){var n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var xr=function(){function e(t){Object(a.a)(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Object(o.a)(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t){var n,r,a,o,u,s,c,l;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,a=r.eventId,o=r.eventType,u=r.data,null===(s=this.handlersMap[o])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:a,eventType:o}),c=Array.from(s).map(function(){var e=Object(f.a)(Object(i.a)().mark((function e(t){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,u));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,jr(c);case 9:l=e.sent,n.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:l});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Er(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}xr.receivers=[];var Tr=function(){function e(t){Object(a.a)(this,e),this.target=t,this.handlers=new Set}return Object(o.a)(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t,n){var r,a,o,u,s=this,c=arguments;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=c.length>2&&void 0!==c[2]?c[2]:50,a="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,i){var c=Er("",20);a.port1.start();var l=setTimeout((function(){i(new Error("unsupported_event"))}),r);u={messageChannel:a,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),o=setTimeout((function(){i(new Error("timeout"))}),3e3);break;case"done":clearTimeout(o),e(n.data.response);break;default:clearTimeout(l),clearTimeout(o),i(new Error("invalid_response"))}}},s.handlers.add(u),a.port1.addEventListener("message",u.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[a.port2])})).finally((function(){u&&s.removeMessageHandler(u)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Ir(){return window}function Sr(){return"undefined"!==typeof Ir().WorkerGlobalScope&&"function"===typeof Ir().importScripts}function _r(){return Cr.apply(this,arguments)}function Cr(){return(Cr=Object(f.a)(Object(i.a)().mark((function e(){var t;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Ar(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Rr="firebaseLocalStorageDb",Nr=1,Dr="firebaseLocalStorage",Pr="fbase_key",Mr=function(){function e(t){Object(a.a)(this,e),this.request=t}return Object(o.a)(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Lr(e,t){return e.transaction([Dr],t?"readwrite":"readonly").objectStore(Dr)}function Fr(){var e=indexedDB.deleteDatabase(Rr);return new Mr(e).toPromise()}function Ur(){var e=indexedDB.open(Rr,Nr);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Dr,{keyPath:Pr})}catch(r){n(r)}})),e.addEventListener("success",Object(f.a)(Object(i.a)().mark((function n(){var r;return Object(i.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Dr)){n.next=12;break}return r.close(),n.next=5,Fr();case 5:return n.t0=t,n.next=8,Ur();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Vr(e,t,n){return Br.apply(this,arguments)}function Br(){return(Br=Object(f.a)(Object(i.a)().mark((function e(t,n,r){var a,o;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Lr(t,!0).put((a={},Object(m.a)(a,Pr,n),Object(m.a)(a,"value",r),a)),e.abrupt("return",new Mr(o).toPromise());case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zr(e,t){return qr.apply(this,arguments)}function qr(){return(qr=Object(f.a)(Object(i.a)().mark((function e(t,n){var r,a;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Lr(t,!1).get(n),e.next=3,new Mr(r).toPromise();case 3:return a=e.sent,e.abrupt("return",void 0===a?null:a.value);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kr(e,t){var n=Lr(e,!0).delete(t);return new Mr(n).toPromise()}var Wr=function(){function e(){Object(a.a)(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return Object(o.a)(e,[{key:"_openDb",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Ur();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t){var n,r;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sr()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(){var t=this;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=xr._getInstance(Sr()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Object(f.a)(Object(i.a)().mark((function e(n,r){var a;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return a=e.sent,e.abrupt("return",{keyProcessed:a.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Object(f.a)(Object(i.a)().mark((function e(t,n){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(){var t,n,r;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_r();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Tr(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Ar()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(){var t;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Ur();case 5:return t=e.sent,e.next=8,Vr(t,mr,"1");case 8:return e.next=10,Kr(t,mr);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t,n){var r=this;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Object(f.a)(Object(i.a)().mark((function e(){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Vr(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t){var n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return zr(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t){var n=this;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Object(f.a)(Object(i.a)().mark((function e(){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Kr(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(){var t,n,r,a,o,u,s,c,l,f,h;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Lr(e,!1).getAll();return new Mr(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,a=Object(d.a)(t);try{for(a.s();!(o=a.n()).done;)u=o.value,s=u.fbase_key,c=u.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(c)&&(this.notifyListeners(s,c),n.push(s))}catch(i){a.e(i)}finally{a.f()}for(l=0,f=Object.keys(this.localCache);l<f.length;l++)h=f[l],this.localCache[h]&&!r.has(h)&&(this.notifyListeners(h,null),n.push(h));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Object(f.a)(Object(i.a)().mark((function t(){return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Wr.type="LOCAL";var Gr=Wr;function Hr(e,t){return Y(e,"POST","/v2/accounts/mfaSignIn:start",$(e,t))}function Qr(e){return $r.apply(this,arguments)}function $r(){return($r=Object(f.a)(Object(i.a)().mark((function e(t){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yr(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=R("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Xr(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Jr=1e12,Zr=function(){function e(t){Object(a.a)(this,e),this.auth=t,this.counter=Jr,this._widgets=new Map}return Object(o.a)(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new ei(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||Jr;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||Jr;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t){var n,r;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||Jr,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),ei=function(){function e(t,n,r){var i=this;Object(a.a)(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var o="string"===typeof t?document.getElementById(t):t;M(o,"argument-error",{appName:n}),this.container=o,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return Object(o.a)(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var ti=Xr("rcb"),ni=new K(3e4,6e4),ri="https://www.google.com/recaptcha/api.js?",ii=function(){function e(){var t;Object(a.a)(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=Ir().grecaptcha)||void 0===t?void 0:t.render)}return Object(o.a)(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return M(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(Ir().grecaptcha):new Promise((function(r,i){var a=Ir().setTimeout((function(){i(R(e,"network-request-failed"))}),ni.get());Ir()[ti]=function(){Ir().clearTimeout(a),delete Ir()[ti];var o=Ir().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(R(e,"internal-error"))},Yr("".concat(ri,"?").concat(Object(y.A)({onload:ti,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(R(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=Ir().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();var ai=function(){function e(){Object(a.a)(this,e)}return Object(o.a)(e,[{key:"load",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Zr(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),oi="recaptcha",ui={theme:"light",type:"image"},si=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},ui),r=arguments.length>2?arguments[2]:void 0;Object(a.a)(this,e),this.parameters=n,this.type=oi,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ge(r),this.isInvisible="invisible"===this.parameters.size,M("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;M(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ai:new ii,this.validateStartingState()}return Object(o.a)(e,[{key:"verify",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(){var t,n,r,a=this;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){a.tokenChangeListeners.add((function t(n){n&&(a.tokenChangeListeners.delete(t),e(n))})),a.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){M(!this.parameters.sitekey,this.auth,"argument-error"),M(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),M("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Ir()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){M(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(){var t,n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(){var t;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M(z()&&!Sr(),this.auth,"internal-error"),e.next=3,ci();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,Qr(this.auth);case 8:M(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return M(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function ci(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var li=function(){function e(t,n){Object(a.a)(this,e),this.verificationId=t,this.onConfirmation=n}return Object(o.a)(e,[{key:"confirm",value:function(e){var t=Ct._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function fi(e,t,n){return hi.apply(this,arguments)}function hi(){return(hi=Object(f.a)(Object(i.a)().mark((function e(t,n,r){var a,o;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ge(t),e.next=3,yi(a,n,Object(y.p)(r));case 3:return o=e.sent,e.abrupt("return",new li(o,(function(e){return cn(a,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function di(e,t,n){return pi.apply(this,arguments)}function pi(){return(pi=Object(f.a)(Object(i.a)().mark((function e(t,n,r){var a,o;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(y.p)(t),e.next=3,nn(!1,a,"phone");case 3:return e.next=5,yi(a.auth,n,Object(y.p)(r));case 5:return o=e.sent,e.abrupt("return",new li(o,(function(e){return fn(a,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vi(e,t,n){return mi.apply(this,arguments)}function mi(){return(mi=Object(f.a)(Object(i.a)().mark((function e(t,n,r){var a,o;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(y.p)(t),e.next=3,yi(a.auth,n,Object(y.p)(r));case 3:return o=e.sent,e.abrupt("return",new li(o,(function(e){return dn(a,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yi(e,t,n){return bi.apply(this,arguments)}function bi(){return(bi=Object(f.a)(Object(i.a)().mark((function e(t,n,r){var a,o,u,s,c,l,f,h,d;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(o=e.sent,e.prev=3,M("string"===typeof o,t,"argument-error"),M(r.type===oi,t,"argument-error"),!("session"in(u="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=u.session,!("phoneNumber"in u)){e.next=17;break}return M("enroll"===s.type,t,"internal-error"),e.next=13,hr(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:u.phoneNumber,recaptchaToken:o}});case 13:return c=e.sent,e.abrupt("return",c.phoneSessionInfo.sessionInfo);case 17:return M("signin"===s.type,t,"internal-error"),M(l=(null===(a=u.multiFactorHint)||void 0===a?void 0:a.uid)||u.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Hr(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:l,phoneSignInInfo:{recaptchaToken:o}});case 22:return f=e.sent,e.abrupt("return",f.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,xt(t,{phoneNumber:u.phoneNumber,recaptchaToken:o});case 28:return h=e.sent,d=h.sessionInfo,e.abrupt("return",d);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])})))).apply(this,arguments)}function gi(e,t){return ki.apply(this,arguments)}function ki(){return(ki=Object(f.a)(Object(i.a)().mark((function e(t,n){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,en(Object(y.p)(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Oi=function(){function e(t){Object(a.a)(this,e),this.providerId=e.PROVIDER_ID,this.auth=Ge(t)}return Object(o.a)(e,[{key:"verifyPhoneNumber",value:function(e,t){return yi(this.auth,e,Object(y.p)(t))}}],[{key:"credential",value:function(e,t){return Ct._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Ct._fromTokenResponse(n,r):null}}]),e}();function wi(e,t){return t?V(t):(M(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Oi.PROVIDER_ID="phone",Oi.PHONE_SIGN_IN_METHOD="phone";var ji=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,"custom","custom")).params=e,r}return Object(o.a)(n,[{key:"_getIdTokenResponse",value:function(e){return Ot(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Ot(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Ot(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Xe);function xi(e){return un(e.auth,new ji(e),e.bypassAuthState)}function Ei(e){var t=e.auth,n=e.user;return M(n,t,"internal-error"),an(n,new ji(e),e.bypassAuthState)}function Ti(e){return Ii.apply(this,arguments)}function Ii(){return(Ii=Object(f.a)(Object(i.a)().mark((function e(t){var n,r;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,M(r=t.user,n,"internal-error"),e.abrupt("return",en(r,new ji(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Si=function(){function e(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Object(a.a)(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Object(o.a)(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Object(f.a)(Object(i.a)().mark((function t(n,r){return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t){var n,r,a,o,u,s,c;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,a=t.postBody,o=t.tenantId,u=t.error,s=t.type,!u){e.next=4;break}return this.reject(u),e.abrupt("return");case 4:return c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(c);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xi;case"linkViaPopup":case"linkViaRedirect":return Ti;case"reauthViaPopup":case"reauthViaRedirect":return Ei;default:A(this.auth,"internal-error")}}},{key:"resolve",value:function(e){F(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){F(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),_i=new K(2e3,1e4);function Ci(e,t,n){return Ai.apply(this,arguments)}function Ai(){return(Ai=Object(f.a)(Object(i.a)().mark((function e(t,n,r){var a,o,u;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ge(t),D(t,n,Nt),o=wi(a,r),u=new Mi(a,"signInViaPopup",n,o),e.abrupt("return",u.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ri(e,t,n){return Ni.apply(this,arguments)}function Ni(){return(Ni=Object(f.a)(Object(i.a)().mark((function e(t,n,r){var a,o,u;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D((a=Object(y.p)(t)).auth,n,Nt),o=wi(a.auth,r),u=new Mi(a.auth,"reauthViaPopup",n,o,a),e.abrupt("return",u.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Di(e,t,n){return Pi.apply(this,arguments)}function Pi(){return(Pi=Object(f.a)(Object(i.a)().mark((function e(t,n,r){var a,o,u;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D((a=Object(y.p)(t)).auth,n,Nt),o=wi(a.auth,r),u=new Mi(a.auth,"linkViaPopup",n,o,a),e.abrupt("return",u.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Mi=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e,r,i,o,u){var s;return Object(a.a)(this,n),(s=t.call(this,e,r,o,u)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=Object(h.a)(s),s}return Object(o.a)(n,[{key:"executeNotNull",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(){var t;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return M(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(){var t,n=this;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F(1===this.filter.length,"Popup operations only handle one event"),t=Er(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(R(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(R(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(R(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,_i.get())}()}}]),n}(Si);Mi.currentPopupAction=null;var Li="pendingRedirect",Fi=new Map,Ui=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(a.a)(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,o)).eventId=null,i}return Object(o.a)(n,[{key:"execute",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(){var t,r;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Fi.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Vi(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Object(u.a)(Object(s.a)(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Fi.set(this.auth._key(),t);case 21:return this.bypassAuthState||Fi.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t){var r;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Object(u.a)(Object(s.a)(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Object(u.a)(Object(s.a)(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Si);function Vi(e,t){return Bi.apply(this,arguments)}function Bi(){return(Bi=Object(f.a)(Object(i.a)().mark((function e(t,n){var r,a,o;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Gi(n),a=Wi(t),e.next=4,a._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,a._get(r);case 8:return e.t0=e.sent,o="true"===e.t0,e.next=12,a._remove(r);case 12:return e.abrupt("return",o);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zi(e,t){return qi.apply(this,arguments)}function qi(){return(qi=Object(f.a)(Object(i.a)().mark((function e(t,n){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wi(t)._set(Gi(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ki(e,t){Fi.set(e._key(),t)}function Wi(e){return V(e._redirectPersistence)}function Gi(e){return Ae(Li,e.config.apiKey,e.name)}function Hi(e,t,n){return function(e,t,n){return Qi.apply(this,arguments)}(e,t,n)}function Qi(){return(Qi=Object(f.a)(Object(i.a)().mark((function e(t,n,r){var a,o;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ge(t),D(t,n,Nt),e.next=4,a._initializationPromise;case 4:return o=wi(a,r),e.next=7,zi(o,a);case 7:return e.abrupt("return",o._openRedirect(a,n,"signInViaRedirect"));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $i(e,t,n){return function(e,t,n){return Yi.apply(this,arguments)}(e,t,n)}function Yi(){return(Yi=Object(f.a)(Object(i.a)().mark((function e(t,n,r){var a,o,u;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D((a=Object(y.p)(t)).auth,n,Nt),e.next=4,a.auth._initializationPromise;case 4:return o=wi(a.auth,r),e.next=7,zi(o,a.auth);case 7:return e.next=9,ra(a);case 9:return u=e.sent,e.abrupt("return",o._openRedirect(a.auth,n,"reauthViaRedirect",u));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xi(e,t,n){return function(e,t,n){return Ji.apply(this,arguments)}(e,t,n)}function Ji(){return(Ji=Object(f.a)(Object(i.a)().mark((function e(t,n,r){var a,o,u;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D((a=Object(y.p)(t)).auth,n,Nt),e.next=4,a.auth._initializationPromise;case 4:return o=wi(a.auth,r),e.next=7,nn(!1,a,n.providerId);case 7:return e.next=9,zi(o,a.auth);case 9:return e.next=11,ra(a);case 11:return u=e.sent,e.abrupt("return",o._openRedirect(a.auth,n,"linkViaRedirect",u));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zi(e,t){return ea.apply(this,arguments)}function ea(){return(ea=Object(f.a)(Object(i.a)().mark((function e(t,n){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ge(t)._initializationPromise;case 2:return e.abrupt("return",ta(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ta(e,t){return na.apply(this,arguments)}function na(){return na=Object(f.a)(Object(i.a)().mark((function e(t,n){var r,a,o,u,s,c=arguments;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],a=Ge(t),o=wi(a,n),u=new Ui(a,o,r),e.next=6,u.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,a._persistUserIfCurrent(s.user);case 11:return e.next=13,a._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),na.apply(this,arguments)}function ra(e){return ia.apply(this,arguments)}function ia(){return(ia=Object(f.a)(Object(i.a)().mark((function e(t){var n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Er("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var aa=function(){function e(t){Object(a.a)(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Object(o.a)(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ua(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!ua(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(R(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(oa(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(oa(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function oa(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function ua(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function sa(e){return ca.apply(this,arguments)}function ca(){return ca=Object(f.a)(Object(i.a)().mark((function e(t){var n,r=arguments;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Y(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),ca.apply(this,arguments)}var la=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fa=/^https?/;function ha(){return(ha=Object(f.a)(Object(i.a)().mark((function e(t){var n,r,a,o,u;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,sa(t);case 4:n=e.sent,r=n.authorizedDomains,a=Object(d.a)(r),e.prev=7,a.s();case 9:if((o=a.n()).done){e.next=20;break}if(u=o.value,e.prev=11,!da(u)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),a.e(e.t1);case 25:return e.prev=25,a.f(),e.finish(25);case 28:A(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function da(e){var t=B(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!fa.test(r))return!1;if(la.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var pa=new K(3e4,6e4);function va(){var e=Ir().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=Object(v.a)(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var ma=null;function ya(e){return ma=ma||function(e){return new Promise((function(t,n){var r,i,a;function o(){va(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){va(),n(R(e,"network-request-failed"))},timeout:pa.get()})}if(null===(i=null===(r=Ir().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Ir().gapi)||void 0===a?void 0:a.load)){var u=Xr("iframefcb");return Ir()[u]=function(){gapi.load?o():n(R(e,"network-request-failed"))},Yr("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw ma=null,e}))}(e),ma}var ba=new K(5e3,15e3),ga="__/auth/iframe",ka="emulator/auth/iframe",Oa={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wa=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ja(e){var t=e.config;M(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?W(t,ka):"https://".concat(e.config.authDomain,"/").concat(ga),r={apiKey:t.apiKey,appName:e.name,v:b.SDK_VERSION},i=wa.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Object(y.A)(r).slice(1))}function xa(e){return Ea.apply(this,arguments)}function Ea(){return Ea=Object(f.a)(Object(i.a)().mark((function e(t){var n,r;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ya(t);case 2:return n=e.sent,M(r=Ir().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:ja(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Oa,dontclear:!0},(function(e){return new Promise(function(){var n=Object(f.a)(Object(i.a)().mark((function n(r,a){var o,u,s;return Object(i.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){Ir().clearTimeout(u),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:o=R(t,"network-request-failed"),u=Ir().setTimeout((function(){a(o)}),ba.get()),e.ping(s).then(s,(function(){a(o)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Ea.apply(this,arguments)}var Ta={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ia=500,Sa=600,_a="_blank",Ca="http://localhost",Aa=function(){function e(t){Object(a.a)(this,e),this.window=t,this.associatedEvent=null}return Object(o.a)(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Ra(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ia,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Sa,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},Ta),{width:r.toString(),height:i.toString(),top:a,left:o}),c=Object(y.q)().toLowerCase();n&&(u=Me(c)?_a:n),De(c)&&(t=t||Ca,s.scrollbars="yes");var l=Object.entries(s).reduce((function(e,t){var n=Object(p.a)(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(function(){var e;return Be(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(y.q)())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==u)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",u),new Aa(null);var f=window.open(t||"",u,l);M(f,e,"popup-blocked");try{f.focus()}catch(h){}return new Aa(f)}var Na="__/auth/handler",Da="emulator/auth/handler";function Pa(e,t,n,r,i,a){M(e.config.authDomain,e,"auth-domain-config-required"),M(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:b.SDK_VERSION,eventId:i};if(t instanceof Nt){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",Object(y.t)(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var c=Object(p.a)(s[u],2),l=c[0],f=c[1];o[l]=f}}if(t instanceof Dt){var h=t.getScopes().filter((function(e){return""!==e}));h.length>0&&(o.scopes=h.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var d=o,v=0,m=Object.keys(d);v<m.length;v++){var g=m[v];void 0===d[g]&&delete d[g]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Na);return W(t,Da)}(e),"?").concat(Object(y.A)(d).slice(1))}var Ma="webStorageSupport",La=function(){function e(){Object(a.a)(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wr,this._completeRedirectFn=ta,this._overrideRedirectResult=Ki}return Object(o.a)(e,[{key:"_openPopup",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t,n,r,a){var o,u;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F(null===(o=this.eventManagers[t._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()"),u=Pa(t,n,r,B(),a),e.abrupt("return",Ra(t,u,Er()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t,n,r,a){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return i=Pa(t,n,r,B(),a),Ir().location.href=i,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var i}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(F(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t){var n,r;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xa(t);case 2:return n=e.sent,r=new aa(t),n.register("authEvent",(function(e){return M(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Ma,{type:Ma},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Ma];void 0!==i&&t(!!i),A(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return ha.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return ze()||Pe()||Be()}}]),e}(),Fa=La,Ua=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,"phone")).credential=e,r}return Object(o.a)(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Y(e,"POST","/v2/accounts/mfaEnrollment:finalize",$(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Y(e,"POST","/v2/accounts/mfaSignIn:finalize",$(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){Object(a.a)(this,e),this.factorId=t}return Object(o.a)(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return L("unexpected MultiFactorSessionType")}}}]),e}()),Va=function(){function e(){Object(a.a)(this,e)}return Object(o.a)(e,null,[{key:"assertion",value:function(e){return Ua._fromCredential(e)}}]),e}();Va.FACTOR_ID="phone";var Ba="@firebase/auth",za="0.21.4",qa=function(){function e(t){Object(a.a)(this,e),this.auth=t,this.internalListeners=new Map}return Object(o.a)(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t){var n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){M(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var Ka;Object(y.o)("authIdTokenMaxAge");function Wa(){return window}Ka="Browser",Object(b._registerComponent)(new w.a("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){M(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),M(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:Ka,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qe(Ka)},i=new We(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(V);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Object(b._registerComponent)(new w.a("auth-internal",(function(e){return function(e){return new qa(e)}(Ge(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Object(b.registerVersion)(Ba,za,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Ka)),Object(b.registerVersion)(Ba,za,"esm2017");var Ga=2e3;function Ha(e,t,n){return Qa.apply(this,arguments)}function Qa(){return(Qa=Object(f.a)(Object(i.a)().mark((function e(t,n,r){var a,o,u,s,c;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Wa(),u=o.BuildInfo,F(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,eo(n.sessionId);case 4:return s=e.sent,c={},Be()?c.ibi=u.packageName:Fe()?c.apn=u.packageName:A(t,"operation-not-supported-in-this-environment"),u.displayName&&(c.appDisplayName=u.displayName),c.sessionId=s,e.abrupt("return",Pa(t,r,n.type,void 0,null!==(a=n.eventId)&&void 0!==a?a:void 0,c));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $a(){return($a=Object(f.a)(Object(i.a)().mark((function e(t){var n,r,a;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Wa(),r=n.BuildInfo,a={},Be()?a.iosBundleId=r.packageName:Fe()?a.androidPackageName=r.packageName:A(t,"operation-not-supported-in-this-environment"),e.next=5,sa(t,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ya(e){var t=Wa().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(y.q)();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function Xa(e,t,n){return Ja.apply(this,arguments)}function Ja(){return(Ja=Object(f.a)(Object(i.a)().mark((function e(t,n,r){var a,o,u;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Wa(),o=a.cordova,u=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var a=null;function s(){var t;e();var n=null===(t=o.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){a||(a=window.setTimeout((function(){i(R(t,"redirect-cancelled-by-user"))}),Ga))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),Fe()&&document.addEventListener("visibilitychange",l,!1),u=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),a&&window.clearTimeout(a)}}));case 5:return e.prev=5,u(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])})))).apply(this,arguments)}function Za(e){var t,n,r,i,a,o,u,s,c,l,f=Wa();M("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),M("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),M("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),M("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),M("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function eo(e){return to.apply(this,arguments)}function to(){return(to=Object(f.a)(Object(i.a)().mark((function e(t){var n,r,a;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=no(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,a=Array.from(new Uint8Array(r)),e.abrupt("return",a.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function no(e){if(F(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var ro=20,io=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(a.a)(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return Object(o.a)(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Object(u.a)(Object(s.a)(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(aa);function ao(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:lo(),postBody:null,tenantId:e.tenantId,error:R(e,"no-auth-event")}}function oo(e,t){return fo()._set(ho(e),t)}function uo(e){return so.apply(this,arguments)}function so(){return(so=Object(f.a)(Object(i.a)().mark((function e(t){var n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fo()._get(ho(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,fo()._remove(ho(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function co(e,t){var n,r,i=function(e){var t=po(e),n=t.link?decodeURIComponent(t.link):void 0,r=po(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return po(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=po(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?R(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function lo(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<ro;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function fo(){return V(kr)}function ho(e){return Ae("authEvent",e.config.apiKey,e.name)}function po(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t=e.split("?"),n=Object(r.a)(t),i=(n[0],n.slice(1));return Object(y.B)(i.join("?"))}var vo=function(){function e(){Object(a.a)(this,e),this._redirectPersistence=wr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ta,this._overrideRedirectResult=Ki}return Object(o.a)(e,[{key:"_initialize",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t){var n,r;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new io(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){A(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Object(f.a)(Object(i.a)().mark((function e(t,n,r,a){var o,u,s,c;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Za(t),e.next=3,this._initialize(t);case 3:return o=e.sent,e.next=6,o.initialized();case 6:return o.resetRedirect(),Fi.clear(),e.next=10,this._originValidation(t);case 10:return u=ao(t,r,a),e.next=13,oo(t,u);case 13:return e.next=15,Ha(t,u,n);case 15:return s=e.sent,e.next=18,Ya(s);case 18:return c=e.sent,e.abrupt("return",Xa(t,o,c));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return $a.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=Wa(),r=n.universalLinks,a=n.handleOpenURL,o=n.BuildInfo,u=setTimeout(Object(f.a)(Object(i.a)().mark((function n(){return Object(i.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,uo(e);case 2:t.onEvent(yo());case 3:case"end":return n.stop()}}),n)}))),500),s=function(){var n=Object(f.a)(Object(i.a)().mark((function n(r){var a,o;return Object(i.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(u),n.next=3,uo(e);case 3:a=n.sent,o=null,a&&(null===r||void 0===r?void 0:r.url)&&(o=co(a,r.url)),t.onEvent(o||yo());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,s);var c=a,l="".concat(o.packageName.toLowerCase(),"://");Wa().handleOpenURL=function(){var e=Object(f.a)(Object(i.a)().mark((function e(t){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(l)&&s({url:t}),"function"===typeof c)try{c(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),mo=vo;function yo(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:R("no-auth-event")}}function bo(e,t){Ge(e)._logFramework(t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(39);function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Object(r.a)(e,t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(24),i=n(55),a=n(34),o=n(35);function u(e){var t=Object(i.a)();return function(){var n,i=Object(r.a)(e);if(t){var u=Object(r.a)(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Object(a.a)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Object(o.a)(e)}(this,n)}}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return Bf})),n.d(t,"b",(function(){return Fl})),n.d(t,"c",(function(){return xl})),n.d(t,"d",(function(){return dl})),n.d(t,"e",(function(){return Wf})),n.d(t,"f",(function(){return Ul})),n.d(t,"g",(function(){return M})),n.d(t,"h",(function(){return Bl})),n.d(t,"i",(function(){return Gf})),n.d(t,"j",(function(){return Hf})),n.d(t,"k",(function(){return X})),n.d(t,"l",(function(){return hh})),n.d(t,"m",(function(){return Ae})),n.d(t,"n",(function(){return re})),n.d(t,"o",(function(){return ne})),n.d(t,"p",(function(){return sl})),n.d(t,"q",(function(){return N})),n.d(t,"r",(function(){return Ue})),n.d(t,"s",(function(){return _})),n.d(t,"t",(function(){return il})),n.d(t,"u",(function(){return oh})),n.d(t,"v",(function(){return gh})),n.d(t,"w",(function(){return bh})),n.d(t,"x",(function(){return Al})),n.d(t,"y",(function(){return ml})),n.d(t,"z",(function(){return yl})),n.d(t,"A",(function(){return hl})),n.d(t,"B",(function(){return ah})),n.d(t,"C",(function(){return mh})),n.d(t,"D",(function(){return Dl})),n.d(t,"E",(function(){return bl})),n.d(t,"F",(function(){return Sl})),n.d(t,"G",(function(){return _l})),n.d(t,"H",(function(){return Nl})),n.d(t,"I",(function(){return Pf})),n.d(t,"J",(function(){return Df})),n.d(t,"K",(function(){return Tl})),n.d(t,"L",(function(){return ch})),n.d(t,"M",(function(){return Yf})),n.d(t,"N",(function(){return Jf})),n.d(t,"O",(function(){return Zf})),n.d(t,"P",(function(){return eh})),n.d(t,"Q",(function(){return th})),n.d(t,"R",(function(){return nh})),n.d(t,"S",(function(){return kh})),n.d(t,"T",(function(){return Sf})),n.d(t,"U",(function(){return _f})),n.d(t,"V",(function(){return Pl})),n.d(t,"W",(function(){return Ml})),n.d(t,"X",(function(){return uh})),n.d(t,"Y",(function(){return sh})),n.d(t,"Z",(function(){return Tf})),n.d(t,"ab",(function(){return Of})),n.d(t,"bb",(function(){return kl})),n.d(t,"cb",(function(){return gl})),n.d(t,"db",(function(){return vh})),n.d(t,"eb",(function(){return yh})),n.d(t,"fb",(function(){return rh})),n.d(t,"gb",(function(){return T})),n.d(t,"hb",(function(){return $f})),n.d(t,"ib",(function(){return Rf})),n.d(t,"jb",(function(){return Af})),n.d(t,"kb",(function(){return ih})),n.d(t,"lb",(function(){return Rl})),n.d(t,"mb",(function(){return jf}));var r=n(46),i=n(27),a=n(24),o=n(15),u=n(45),s=n(9),c=n(0),l=n(4),f=n(11),h=n(12),d=n(18),p=n(3),v=n(2),m=n(21),y=n(28),b=n(29),g=n(6),k=n(33),O="@firebase/firestore",w=function(){function e(t){Object(p.a)(this,e),this.uid=t}return Object(v.a)(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();w.UNAUTHENTICATED=new w(null),w.GOOGLE_CREDENTIALS=new w("google-credentials-uid"),w.FIRST_PARTY=new w("first-party-uid"),w.MOCK_USER=new w("mock-user");var j="9.17.2",x=new b.b("@firebase/firestore");function E(){return x.logLevel}function T(e){x.setLogLevel(e)}function I(e){if(x.logLevel<=b.a.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(C);x.debug.apply(x,["Firestore (".concat(j,"): ").concat(e)].concat(Object(d.a)(i)))}}function S(e){if(x.logLevel<=b.a.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(C);x.error.apply(x,["Firestore (".concat(j,"): ").concat(e)].concat(Object(d.a)(i)))}}function _(e){if(x.logLevel<=b.a.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(C);x.warn.apply(x,["Firestore (".concat(j,"): ").concat(e)].concat(Object(d.a)(i)))}}function C(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(j,") INTERNAL ASSERTION FAILED: ")+e;throw S(t),new Error(t)}function R(e,t){e||A()}function N(e,t){e||A()}function D(e,t){return e}var P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},M=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var i;return Object(p.a)(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return Object(v.a)(n)}(g.c),L=Object(v.a)((function e(){var t=this;Object(p.a)(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),F=Object(v.a)((function e(t,n){Object(p.a)(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),U=function(){function e(){Object(p.a)(this,e)}return Object(v.a)(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(w.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),V=function(){function e(t){Object(p.a)(this,e),this.token=t,this.changeListener=null}return Object(v.a)(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),B=function(){function e(t){Object(p.a)(this,e),this.t=t,this.currentUser=w.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Object(v.a)(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new L;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new L,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Object(l.a)(Object(c.a)().mark((function e(){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){I("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(I("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new L)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(I("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(R("string"==typeof n.accessToken),new F(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return R(null===e||"string"==typeof e),new w(e)}}]),e}(),z=function(){function e(t,n,r,i){Object(p.a)(this,e),this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=w.FIRST_PARTY,this.p=new Map}return Object(v.a)(e,[{key:"I",value:function(){return this.g?this.g():(R(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}},{key:"headers",get:function(){this.p.set("X-Goog-AuthUser",this.l);var e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}]),e}(),q=function(){function e(t,n,r,i){Object(p.a)(this,e),this.h=t,this.l=n,this.m=r,this.g=i}return Object(v.a)(e,[{key:"getToken",value:function(){return Promise.resolve(new z(this.h,this.l,this.m,this.g))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(w.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),K=Object(v.a)((function e(t){Object(p.a)(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),W=function(){function e(t){Object(p.a)(this,e),this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}return Object(v.a)(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&I("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.A;return n.A=e.token,I("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){I("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.T.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.T.getImmediate({optional:!0});e?i(e):I("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(R("string"==typeof t.token),e.A=t.token,new K(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function G(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var H=function(){function e(){Object(p.a)(this,e)}return Object(v.a)(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=G(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Q(e,t){return e<t?-1:e>t?1:0}function $(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Y(e){return e+"\0"}var X=function(){function e(t,n){if(Object(p.a)(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new M(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new M(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new M(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new M(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Object(v.a)(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Q(this.nanoseconds,e.nanoseconds):Q(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),J=function(){function e(t){Object(p.a)(this,e),this.timestamp=t}return Object(v.a)(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new X(0,0))}},{key:"max",value:function(){return new e(new X(253402300799,999999999))}}]),e}(),Z=function(){function e(t,n,r){Object(p.a)(this,e),void 0===n?n=0:n>t.length&&A(),void 0===r?r=t.length-n:r>t.length-n&&A(),this.segments=t,this.offset=n,this.len=r}return Object(v.a)(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),ee=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new M(P.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,Object(d.a)(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Z),te=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ne=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return te.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new M(P.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new M(P.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new M(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new M(P.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Z),re=function(){function e(t){Object(p.a)(this,e),this.path=t}return Object(v.a)(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===ee.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(ee.fromString(t))}},{key:"fromName",value:function(t){return new e(ee.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(ee.emptyPath())}},{key:"comparator",value:function(e,t){return ee.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new ee(t.slice()))}}]),e}(),ie=Object(v.a)((function e(t,n,r,i){Object(p.a)(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function ae(e){return e.fields.find((function(e){return 2===e.kind}))}function oe(e){return e.fields.filter((function(e){return 2!==e.kind}))}ie.UNKNOWN_ID=-1;var ue=Object(v.a)((function e(t,n){Object(p.a)(this,e),this.fieldPath=t,this.kind=n}));var se=function(){function e(t,n){Object(p.a)(this,e),this.sequenceNumber=t,this.offset=n}return Object(v.a)(e,null,[{key:"empty",value:function(){return new e(0,fe.min())}}]),e}();function ce(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=J.fromTimestamp(1e9===r?new X(n+1,0):new X(n,r));return new fe(i,re.empty(),t)}function le(e){return new fe(e.readTime,e.key,-1)}var fe=function(){function e(t,n,r){Object(p.a)(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return Object(v.a)(e,null,[{key:"min",value:function(){return new e(J.min(),re.empty(),-1)}},{key:"max",value:function(){return new e(J.max(),re.empty(),-1)}}]),e}();function he(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=re.comparator(e.documentKey,t.documentKey))?n:Q(e.largestBatchId,t.largestBatchId)}var de="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",pe=function(){function e(){Object(p.a)(this,e),this.onCommittedListeners=[]}return Object(v.a)(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function ve(e){return me.apply(this,arguments)}function me(){return(me=Object(l.a)(Object(c.a)().mark((function e(t){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===P.FAILED_PRECONDITION&&t.message===de){e.next=2;break}throw t;case 2:I("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ye=function(){function e(t){var n=this;Object(p.a)(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Object(v.a)(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&A(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Object(s.a)(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),be=function(){function e(t,n){var r=this;Object(p.a)(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.v=new L,this.transaction.oncomplete=function(){r.v.resolve()},this.transaction.onabort=function(){n.error?r.v.reject(new Oe(t,n.error)):r.v.resolve()},this.transaction.onerror=function(e){var n=Te(e.target.error);r.v.reject(new Oe(t,n))}}return Object(v.a)(e,[{key:"P",get:function(){return this.v.promise}},{key:"abort",value:function(e){e&&this.v.reject(e),this.aborted||(I("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"V",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new je(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Oe(n,t)}}}]),e}(),ge=function(){function t(e,n,r){Object(p.a)(this,t),this.name=e,this.version=n,this.S=r,12.2===t.D(Object(g.q)())&&S("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return Object(v.a)(t,[{key:"F",value:function(){var e=Object(l.a)(Object(c.a)().mark((function e(t){var n=this;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return I("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Oe(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new M(P.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new M(P.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Oe(t,n))},i.onupgradeneeded=function(e){I("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.$(t,i.transaction,e.oldVersion,n.version).next((function(){I("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.B&&(this.db.onversionchange=function(e){return n.B(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"L",value:function(e){this.B=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Object(l.a)(Object(c.a)().mark((function e(t,n,r,i){var a,o,u,s,l=this;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0,u=Object(c.a)().mark((function e(){var n,u,s,f;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++o,e.prev=1,e.next=4,l.F(t);case 4:return l.db=e.sent,n=be.open(l.db,t,a?"readonly":"readwrite",r),u=i(n).next((function(e){return n.V(),e})).catch((function(e){return n.abort(e),ye.reject(e)})).toPromise(),u.catch((function(){})),e.next=9,n.P;case 9:return e.t0=u,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),s=e.t1,f="FirebaseError"!==s.name&&o<3,I("SimpleDb","Transaction failed with error:",s.message,"Retrying:",f),l.close(),f){e.next=18;break}return e.abrupt("return",{v:Promise.reject(s)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(u(),"t0",4);case 4:if("object"!==typeof(s=e.t0)){e.next=7;break}return e.abrupt("return",s.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return I("SimpleDb","Removing database:",e),xe(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"C",value:function(){if(!Object(g.v)())return!1;if(t.N())return!0;var e=Object(g.q)(),n=t.D(e),r=0<n&&n<10,i=t.k(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}},{key:"N",value:function(){var t;return"undefined"!=typeof e&&"YES"===(null===(t=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}))||void 0===t?void 0:t.O)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"k",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),t}(),ke=function(){function e(t){Object(p.a)(this,e),this.q=t,this.U=!1,this.K=null}return Object(v.a)(e,[{key:"isDone",get:function(){return this.U}},{key:"G",get:function(){return this.K}},{key:"cursor",set:function(e){this.q=e}},{key:"done",value:function(){this.U=!0}},{key:"j",value:function(e){this.K=e}},{key:"delete",value:function(){return xe(this.q.delete())}}]),e}(),Oe=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var i;return Object(p.a)(this,n),(i=t.call(this,P.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return Object(v.a)(n)}(M);function we(e){return"IndexedDbTransactionError"===e.name}var je=function(){function e(t){Object(p.a)(this,e),this.store=t}return Object(v.a)(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(I("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(I("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),xe(n)}},{key:"add",value:function(e){return I("SimpleDb","ADD",this.store.name,e,e),xe(this.store.add(e))}},{key:"get",value:function(e){var t=this;return xe(this.store.get(e)).next((function(n){return void 0===n&&(n=null),I("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return I("SimpleDb","DELETE",this.store.name,e),xe(this.store.delete(e))}},{key:"count",value:function(){return I("SimpleDb","COUNT",this.store.name),xe(this.store.count())}},{key:"W",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.H(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new ye((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new ye((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Y",value:function(e,t){I("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Z=!1;var r=this.cursor(n);return this.H(r,(function(e,t,n){return n.delete()}))}},{key:"X",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.H(r,t)}},{key:"tt",value:function(e){var t=this.cursor({});return new ye((function(n,r){t.onerror=function(e){var t=Te(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"H",value:function(e,t){var n=[];return new ye((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new ke(i),o=t(i.primaryKey,i.value,a);if(o instanceof ye){var u=o.catch((function(e){return a.done(),ye.reject(e)}));n.push(u)}a.isDone?r():null===a.G?i.continue():i.continue(a.G)}else r()}})).next((function(){return ye.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Z?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function xe(e){return new ye((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Te(e.target.error);n(t)}}))}var Ee=!1;function Te(e){var t=ge.D(Object(g.q)());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new M("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Ee||(Ee=!0,setTimeout((function(){throw r}),0)),r}}return e}var Ie=function(){function e(t,n){Object(p.a)(this,e),this.asyncQueue=t,this.et=n,this.task=null}return Object(v.a)(e,[{key:"start",value:function(){this.nt(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"nt",value:function(e){var t=this;I("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,Object(l.a)(Object(c.a)().mark((function e(){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=I,e.t1="Documents written: ",e.next=6,t.et.st();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!we(e.t4)){e.next=17;break}I("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,ve(e.t4);case 19:return e.next=21,t.nt(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),Se=function(){function e(t,n){Object(p.a)(this,e),this.localStore=t,this.persistence=n}return Object(v.a)(e,[{key:"st",value:function(){var e=Object(l.a)(Object(c.a)().mark((function e(){var t,n=this,r=arguments;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.it(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"it",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return ye.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return I("IndexBackiller","Processing collection: ".concat(t)),n.rt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"rt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.ot(i,n)})).next((function(n){return I("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"ot",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=le(t);he(r,n)>0&&(n=r)})),new fe(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),_e=function(){function e(t,n){var r=this;Object(p.a)(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ut(e)},this.ct=function(e){return n.writeSequenceNumber(e)})}return Object(v.a)(e,[{key:"ut",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ct&&this.ct(e),e}}]),e}();_e.at=-1;var Ce=Object(v.a)((function e(t,n,r,i,a,o,u,s){Object(p.a)(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),Ae=function(){function e(t,n){Object(p.a)(this,e),this.projectId=t,this.database=n||"(default)"}return Object(v.a)(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function Re(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ne(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function De(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Pe(e){return null==e}function Me(e){return 0===e&&1/e==-1/0}function Le(e){return"number"==typeof e&&Number.isInteger(e)&&!Me(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Fe=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return Object(v.a)(n)}(Object(u.a)(Error));function Ue(){return"undefined"!=typeof atob}var Ve=function(e){function t(e){Object(p.a)(this,t),this.binaryString=e}return Object(v.a)(t,[{key:e,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Q(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw e instanceof DOMException?new Fe("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}(Symbol.iterator);Ve.EMPTY_BYTE_STRING=new Ve("");var Be=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ze(e){if(R(!!e),"string"==typeof e){var t=0,n=Be.exec(e);if(R(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:qe(e.seconds),nanos:qe(e.nanos)}}function qe(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Ke(e){return"string"==typeof e?Ve.fromBase64String(e):Ve.fromUint8Array(e)}function We(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ge(e){var t=e.mapValue.fields.__previous_value__;return We(t)?Ge(t):t}function He(e){var t=ze(e.mapValue.fields.__local_write_time__.timestampValue);return new X(t.seconds,t.nanos)}var Qe={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},$e={nullValue:"NULL_VALUE"};function Ye(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?We(e)?4:lt(e)?9007199254740991:10:A()}function Xe(e,t){if(e===t)return!0;var n=Ye(e);if(n!==Ye(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return He(e).isEqual(He(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=ze(e.timestampValue),r=ze(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Ke(e.bytesValue).isEqual(Ke(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return qe(e.geoPointValue.latitude)===qe(t.geoPointValue.latitude)&&qe(e.geoPointValue.longitude)===qe(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return qe(e.integerValue)===qe(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=qe(e.doubleValue),r=qe(t.doubleValue);return n===r?Me(n)===Me(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return $(e.arrayValue.values||[],t.arrayValue.values||[],Xe);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Re(n)!==Re(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Xe(n[i],r[i])))return!1;return!0}(e,t);default:return A()}}function Je(e,t){return void 0!==(e.values||[]).find((function(e){return Xe(e,t)}))}function Ze(e,t){if(e===t)return 0;var n=Ye(e),r=Ye(t);if(n!==r)return Q(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Q(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=qe(e.integerValue||e.doubleValue),r=qe(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return et(e.timestampValue,t.timestampValue);case 4:return et(He(e),He(t));case 5:return Q(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Ke(e),r=Ke(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Q(n[i],r[i]);if(0!==a)return a}return Q(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Q(qe(e.latitude),qe(t.latitude));return 0!==n?n:Q(qe(e.longitude),qe(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Ze(n[i],r[i]);if(a)return a}return Q(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Qe.mapValue&&t===Qe.mapValue)return 0;if(e===Qe.mapValue)return 1;if(t===Qe.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Q(r[o],a[o]);if(0!==u)return u;var s=Ze(n[r[o]],i[a[o]]);if(0!==s)return s}return Q(r.length,a.length)}(e.mapValue,t.mapValue);default:throw A()}}function et(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Q(e,t);var n=ze(e),r=ze(t),i=Q(n.seconds,r.seconds);return 0!==i?i:Q(n.nanos,r.nanos)}function tt(e){return nt(e)}function nt(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=ze(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Ke(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,re.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Object(s.a)(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=nt(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n=Object.keys(e.fields||{}).sort(),r="{",i=!0,a=Object(s.a)(n);try{for(a.s();!(t=a.n()).done;){var o=t.value;i?i=!1:r+=",",r+="".concat(o,":").concat(nt(e.fields[o]))}}catch(u){a.e(u)}finally{a.f()}return r+"}"}(e.mapValue):A();var t,n}function rt(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function it(e){return!!e&&"integerValue"in e}function at(e){return!!e&&"arrayValue"in e}function ot(e){return!!e&&"nullValue"in e}function ut(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function st(e){return!!e&&"mapValue"in e}function ct(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Ne(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=ct(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=ct(e.arrayValue.values[r]);return n}return Object.assign({},e)}function lt(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function ft(e){return"nullValue"in e?$e:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?rt(Ae.empty(),re.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:A()}function ht(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?rt(Ae.empty(),re.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Qe:A()}function dt(e,t){var n=Ze(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function pt(e,t){var n=Ze(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var vt=Object(v.a)((function e(t,n){Object(p.a)(this,e),this.position=t,this.inclusive=n}));function mt(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?re.comparator(re.fromName(o.referenceValue),n.key):Ze(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function yt(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Xe(e.position[n],t.position[n]))return!1;return!0}var bt=Object(v.a)((function e(){Object(p.a)(this,e)})),gt=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,i){var a;return Object(p.a)(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Object(v.a)(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Ze(t,this.value)):null!==t&&Ye(this.value)===Ye(t)&&this.matchesComparison(Ze(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return A()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new _t(e,t,r):"array-contains"===t?new Nt(e,r):"in"===t?new Dt(e,r):"not-in"===t?new Pt(e,r):"array-contains-any"===t?new Mt(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new Ct(e,n):new At(e,n)}}]),n}(bt),kt=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var i;return Object(p.a)(this,n),(i=t.call(this)).filters=e,i.op=r,i.ft=null,i}return Object(v.a)(n,[{key:"matches",value:function(e){return Ot(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ft||(this.ft=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ft}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.dt((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"dt",value:function(e){var t,n=Object(s.a)(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(bt);function Ot(e){return"and"===e.op}function wt(e){return"or"===e.op}function jt(e){return xt(e)&&Ot(e)}function xt(e){var t,n=Object(s.a)(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof kt)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function Et(e){if(e instanceof gt)return e.field.canonicalString()+e.op.toString()+tt(e.value);if(jt(e))return e.filters.map((function(e){return Et(e)})).join(",");var t=e.filters.map((function(e){return Et(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function Tt(e,t){return e instanceof gt?function(e,t){return t instanceof gt&&e.op===t.op&&e.field.isEqual(t.field)&&Xe(e.value,t.value)}(e,t):e instanceof kt?function(e,t){return t instanceof kt&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&Tt(n,t.filters[r])}),!0)}(e,t):void A()}function It(e,t){var n=e.filters.concat(t);return kt.create(n,e.op)}function St(e){return e instanceof gt?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(tt(e.value))}(e):e instanceof kt?function(e){return e.op.toString()+" {"+e.getFilters().map(St).join(" ,")+"}"}(e):"Filter"}var _t=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,i){var a;return Object(p.a)(this,n),(a=t.call(this,e,r,i)).key=re.fromName(i.referenceValue),a}return Object(v.a)(n,[{key:"matches",value:function(e){var t=re.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(gt),Ct=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var i;return Object(p.a)(this,n),(i=t.call(this,e,"in",r)).keys=Rt("in",r),i}return Object(v.a)(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(gt),At=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var i;return Object(p.a)(this,n),(i=t.call(this,e,"not-in",r)).keys=Rt("not-in",r),i}return Object(v.a)(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(gt);function Rt(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return re.fromName(e.referenceValue)}))}var Nt=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){return Object(p.a)(this,n),t.call(this,e,"array-contains",r)}return Object(v.a)(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return at(t)&&Je(t.arrayValue,this.value)}}]),n}(gt),Dt=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){return Object(p.a)(this,n),t.call(this,e,"in",r)}return Object(v.a)(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Je(this.value.arrayValue,t)}}]),n}(gt),Pt=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){return Object(p.a)(this,n),t.call(this,e,"not-in",r)}return Object(v.a)(n,[{key:"matches",value:function(e){if(Je(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Je(this.value.arrayValue,t)}}]),n}(gt),Mt=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){return Object(p.a)(this,n),t.call(this,e,"array-contains-any",r)}return Object(v.a)(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!at(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Je(t.value.arrayValue,e)}))}}]),n}(gt),Lt=Object(v.a)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Object(p.a)(this,e),this.field=t,this.dir=n}));function Ft(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var Ut=function(){function e(t,n){Object(p.a)(this,e),this.comparator=t,this.root=n||Bt.EMPTY}return Object(v.a)(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Bt.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Bt.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Vt(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Vt(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Vt(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Vt(this.root,e,this.comparator,!0)}}]),e}(),Vt=function(){function e(t,n,r,i){Object(p.a)(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Object(v.a)(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Bt=function(){function e(t,n,r,i,a){Object(p.a)(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Object(v.a)(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw A();if(this.right.isRed())throw A();var e=this.left.check();if(e!==this.right.check())throw A();return e+(this.isRed()?0:1)}}]),e}();Bt.EMPTY=null,Bt.RED=!0,Bt.BLACK=!1,Bt.EMPTY=new(function(){function e(){Object(p.a)(this,e),this.size=0}return Object(v.a)(e,[{key:"key",get:function(){throw A()}},{key:"value",get:function(){throw A()}},{key:"color",get:function(){throw A()}},{key:"left",get:function(){throw A()}},{key:"right",get:function(){throw A()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Bt(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var zt=function(){function e(t){Object(p.a)(this,e),this.comparator=t,this.data=new Ut(this.comparator)}return Object(v.a)(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new qt(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new qt(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),qt=function(){function e(t){Object(p.a)(this,e),this.iter=t}return Object(v.a)(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Kt(e){return e.hasNext()?e.getNext():void 0}var Wt=function(){function e(t){Object(p.a)(this,e),this.fields=t,t.sort(ne.comparator)}return Object(v.a)(e,[{key:"unionWith",value:function(t){var n,r=new zt(ne.comparator),i=Object(s.a)(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(l){i.e(l)}finally{i.f()}var o,u=Object(s.a)(t);try{for(u.s();!(o=u.n()).done;){var c=o.value;r=r.add(c)}}catch(l){u.e(l)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=Object(s.a)(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return $(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),Gt=function(){function e(t){Object(p.a)(this,e),this.value=t}return Object(v.a)(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!st(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ct(t)}},{key:"setAll",value:function(e){var t=this,n=ne.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=ct(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());st(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Xe(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];st(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Ne(t,(function(t,n){return e[t]=n}));var r,i=Object(s.a)(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(ct(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Ht(e){var t=[];return Ne(e.fields,(function(e,n){var r=new ne([e]);if(st(n)){var i=Ht(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Object(s.a)(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(c){o.e(c)}finally{o.f()}}}else t.push(r)})),new Wt(t)}var Qt=function(){function e(t,n,r,i,a,o,u){Object(p.a)(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=u}return Object(v.a)(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(J.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Gt.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Gt.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=J.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,J.min(),J.min(),J.min(),Gt.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,J.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,J.min(),J.min(),Gt.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,J.min(),J.min(),Gt.empty(),2)}}]),e}(),$t=Object(v.a)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Object(p.a)(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this._t=null}));function Yt(e){return new $t(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Xt(e){var t=D(e);if(null===t._t){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return Et(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Pe(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return tt(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return tt(e)})).join(",")),t._t=n}return t._t}function Jt(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Ft(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!Tt(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!yt(e.startAt,t.startAt)&&yt(e.endAt,t.endAt)}function Zt(e){return re.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function en(e,t){return e.filters.filter((function(e){return e instanceof gt&&e.field.isEqual(t)}))}function tn(e,t,n){var r,i=$e,a=!0,o=Object(s.a)(en(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,c=$e,l=!0;switch(u.op){case"<":case"<=":c=ft(u.value);break;case"==":case"in":case">=":c=u.value;break;case">":c=u.value,l=!1;break;case"!=":case"not-in":c=$e}dt({value:i,inclusive:a},{value:c,inclusive:l})<0&&(i=c,a=l)}}catch(d){o.e(d)}finally{o.f()}if(null!==n)for(var f=0;f<e.orderBy.length;++f)if(e.orderBy[f].field.isEqual(t)){var h=n.position[f];dt({value:i,inclusive:a},{value:h,inclusive:n.inclusive})<0&&(i=h,a=n.inclusive);break}return{value:i,inclusive:a}}function nn(e,t,n){var r,i=Qe,a=!0,o=Object(s.a)(en(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,c=Qe,l=!0;switch(u.op){case">=":case">":c=ht(u.value),l=!1;break;case"==":case"in":case"<=":c=u.value;break;case"<":c=u.value,l=!1;break;case"!=":case"not-in":c=Qe}pt({value:i,inclusive:a},{value:c,inclusive:l})>0&&(i=c,a=l)}}catch(d){o.e(d)}finally{o.f()}if(null!==n)for(var f=0;f<e.orderBy.length;++f)if(e.orderBy[f].field.isEqual(t)){var h=n.position[f];pt({value:i,inclusive:a},{value:h,inclusive:n.inclusive})>0&&(i=h,a=n.inclusive);break}return{value:i,inclusive:a}}var rn=Object(v.a)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Object(p.a)(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.wt=null,this.gt=null,this.startAt,this.endAt}));function an(e,t,n,r,i,a,o,u){return new rn(e,t,n,r,i,a,o,u)}function on(e){return new rn(e)}function un(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function sn(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function cn(e){var t,n=Object(s.a)(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function ln(e){return null!==e.collectionGroup}function fn(e){var t=D(e);if(null===t.wt){t.wt=[];var n=cn(t),r=sn(t);if(null!==n&&null===r)n.isKeyField()||t.wt.push(new Lt(n)),t.wt.push(new Lt(ne.keyField(),"asc"));else{var i,a=!1,o=Object(s.a)(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.wt.push(u),u.field.isKeyField()&&(a=!0)}}catch(l){o.e(l)}finally{o.f()}if(!a){var c=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new Lt(ne.keyField(),c))}}}return t.wt}function hn(e){var t=D(e);if(!t.gt)if("F"===t.limitType)t.gt=Yt(t.path,t.collectionGroup,fn(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Object(s.a)(fn(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Lt(a.field,o))}}catch(l){i.e(l)}finally{i.f()}var u=t.endAt?new vt(t.endAt.position,t.endAt.inclusive):null,c=t.startAt?new vt(t.startAt.position,t.startAt.inclusive):null;t.gt=Yt(t.path,t.collectionGroup,r,t.filters,t.limit,u,c)}return t.gt}function dn(e,t){t.getFirstInequalityField(),cn(e);var n=e.filters.concat([t]);return new rn(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function pn(e,t,n){return new rn(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function vn(e,t){return Jt(hn(e),hn(t))&&e.limitType===t.limitType}function mn(e){return"".concat(Xt(hn(e)),"|lt:").concat(e.limitType)}function yn(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return St(e)})).join(", "),"]")),Pe(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return tt(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return tt(e)})).join(",")),"Target(".concat(t,")")}(hn(e)),"; limitType=").concat(e.limitType,")")}function bn(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):re.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Object(s.a)(fn(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Object(s.a)(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=mt(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,fn(e),t))&&!(e.endAt&&!function(e,t,n){var r=mt(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,fn(e),t))}(e,t)}function gn(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function kn(e){return function(t,n){var r,i=!1,a=Object(s.a)(fn(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=On(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(c){a.e(c)}finally{a.f()}return 0}}function On(e,t,n){var r=e.field.isKeyField()?re.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Ze(r,i):A()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return A()}}function wn(e,t){if(e.yt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Me(t)?"-0":t}}function jn(e){return{integerValue:""+e}}function xn(e,t){return Le(t)?jn(t):wn(e,t)}var En=Object(v.a)((function e(){Object(p.a)(this,e),this._=void 0}));function Tn(e,t,n){return e instanceof _n?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Cn?An(e,t):e instanceof Rn?Nn(e,t):function(e,t){var n=Sn(e,t),r=Pn(n)+Pn(e.It);return it(n)&&it(e.It)?jn(r):wn(e.Tt,r)}(e,t)}function In(e,t,n){return e instanceof Cn?An(e,t):e instanceof Rn?Nn(e,t):n}function Sn(e,t){return e instanceof Dn?it(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var _n=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n)}(En),Cn=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(p.a)(this,n),(r=t.call(this)).elements=e,r}return Object(v.a)(n)}(En);function An(e,t){var n,r=Mn(t),i=Object(s.a)(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Xe(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Rn=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(p.a)(this,n),(r=t.call(this)).elements=e,r}return Object(v.a)(n)}(En);function Nn(e,t){var n,r=Mn(t),i=Object(s.a)(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Xe(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Dn=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var i;return Object(p.a)(this,n),(i=t.call(this)).Tt=e,i.It=r,i}return Object(v.a)(n)}(En);function Pn(e){return qe(e.integerValue||e.doubleValue)}function Mn(e){return at(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Ln=Object(v.a)((function e(t,n){Object(p.a)(this,e),this.field=t,this.transform=n}));var Fn=Object(v.a)((function e(t,n){Object(p.a)(this,e),this.version=t,this.transformResults=n})),Un=function(){function e(t,n){Object(p.a)(this,e),this.updateTime=t,this.exists=n}return Object(v.a)(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Vn(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Bn=Object(v.a)((function e(){Object(p.a)(this,e)}));function zn(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new er(e.key,Un.none()):new Hn(e.key,e.data,Un.none());var n,r=e.data,i=Gt.empty(),a=new zt(ne.comparator),o=Object(s.a)(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var c=r.field(u);null===c&&u.length>1&&(u=u.popLast(),c=r.field(u)),null===c?i.delete(u):i.set(u,c),a=a.add(u)}}}catch(l){o.e(l)}finally{o.f()}return new Qn(e.key,i,new Wt(a.toArray()),Un.none())}function qn(e,t,n){e instanceof Hn?function(e,t,n){var r=e.value.clone(),i=Yn(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Qn?function(e,t,n){if(Vn(e.precondition,t)){var r=Yn(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll($n(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Kn(e,t,n,r){return e instanceof Hn?function(e,t,n,r){if(!Vn(e.precondition,t))return n;var i=e.value.clone(),a=Xn(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Qn?function(e,t,n,r){if(!Vn(e.precondition,t))return n;var i=Xn(e.fieldTransforms,r,t),a=t.data;return a.setAll($n(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return Vn(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Wn(e,t){var n,r=null,i=Object(s.a)(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=Sn(a.transform,o||null);null!=u&&(null===r&&(r=Gt.empty()),r.set(a.field,u))}}catch(c){i.e(c)}finally{i.f()}return r||null}function Gn(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&$(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Cn&&t instanceof Cn||e instanceof Rn&&t instanceof Rn?$(e.elements,t.elements,Xe):e instanceof Dn&&t instanceof Dn?Xe(e.It,t.It):e instanceof _n&&t instanceof _n}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Hn=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Object(p.a)(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Object(v.a)(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Bn),Qn=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Object(p.a)(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return Object(v.a)(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(Bn);function $n(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Yn(e,t,n){var r=new Map;R(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,In(o,u,n[i]))}return r}function Xn(e,t,n){var r,i=new Map,a=Object(s.a)(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,c=n.data.field(o.field);i.set(o.field,Tn(u,c,t))}}catch(l){a.e(l)}finally{a.f()}return i}var Jn,Zn,er=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var i;return Object(p.a)(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Object(v.a)(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Bn),tr=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var i;return Object(p.a)(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Object(v.a)(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Bn),nr=Object(v.a)((function e(t){Object(p.a)(this,e),this.count=t}));function rr(e){switch(e){default:return A();case P.CANCELLED:case P.UNKNOWN:case P.DEADLINE_EXCEEDED:case P.RESOURCE_EXHAUSTED:case P.INTERNAL:case P.UNAVAILABLE:case P.UNAUTHENTICATED:return!1;case P.INVALID_ARGUMENT:case P.NOT_FOUND:case P.ALREADY_EXISTS:case P.PERMISSION_DENIED:case P.FAILED_PRECONDITION:case P.ABORTED:case P.OUT_OF_RANGE:case P.UNIMPLEMENTED:case P.DATA_LOSS:return!0}}function ir(e){if(void 0===e)return S("GRPC error has no .code"),P.UNKNOWN;switch(e){case Jn.OK:return P.OK;case Jn.CANCELLED:return P.CANCELLED;case Jn.UNKNOWN:return P.UNKNOWN;case Jn.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case Jn.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case Jn.INTERNAL:return P.INTERNAL;case Jn.UNAVAILABLE:return P.UNAVAILABLE;case Jn.UNAUTHENTICATED:return P.UNAUTHENTICATED;case Jn.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case Jn.NOT_FOUND:return P.NOT_FOUND;case Jn.ALREADY_EXISTS:return P.ALREADY_EXISTS;case Jn.PERMISSION_DENIED:return P.PERMISSION_DENIED;case Jn.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case Jn.ABORTED:return P.ABORTED;case Jn.OUT_OF_RANGE:return P.OUT_OF_RANGE;case Jn.UNIMPLEMENTED:return P.UNIMPLEMENTED;case Jn.DATA_LOSS:return P.DATA_LOSS;default:return A()}}(Zn=Jn||(Jn={}))[Zn.OK=0]="OK",Zn[Zn.CANCELLED=1]="CANCELLED",Zn[Zn.UNKNOWN=2]="UNKNOWN",Zn[Zn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Zn[Zn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Zn[Zn.NOT_FOUND=5]="NOT_FOUND",Zn[Zn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Zn[Zn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Zn[Zn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Zn[Zn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Zn[Zn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Zn[Zn.ABORTED=10]="ABORTED",Zn[Zn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Zn[Zn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Zn[Zn.INTERNAL=13]="INTERNAL",Zn[Zn.UNAVAILABLE=14]="UNAVAILABLE",Zn[Zn.DATA_LOSS=15]="DATA_LOSS";var ar=function(){function e(t,n){Object(p.a)(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return Object(v.a)(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Object(s.a)(n);try{for(i.s();!(r=i.n()).done;){var a=Object(o.a)(r.value,2),u=a[0],c=a[1];if(this.equalsFn(u,e))return c}}catch(l){i.e(l)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Ne(this.inner,(function(t,n){var r,i=Object(s.a)(n);try{for(i.s();!(r=i.n()).done;){var a=Object(o.a)(r.value,2),u=a[0],c=a[1];e(u,c)}}catch(l){i.e(l)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return De(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),or=new Ut(re.comparator);function ur(){return or}var sr=new Ut(re.comparator);function cr(){for(var e=sr,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function lr(e){var t=sr;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function fr(){return dr()}function hr(){return dr()}function dr(){return new ar((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var pr=new Ut(re.comparator),vr=new zt(re.comparator);function mr(){for(var e=vr,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var yr=new zt(Q);function br(){return yr}var gr=function(){function e(t,n,r,i,a){Object(p.a)(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Object(v.a)(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,kr.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(J.min(),i,br(),ur(),mr())}}]),e}(),kr=function(){function e(t,n,r,i,a){Object(p.a)(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Object(v.a)(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,mr(),mr(),mr())}}]),e}(),Or=Object(v.a)((function e(t,n,r,i){Object(p.a)(this,e),this.Et=t,this.removedTargetIds=n,this.key=r,this.At=i})),wr=Object(v.a)((function e(t,n){Object(p.a)(this,e),this.targetId=t,this.Rt=n})),jr=Object(v.a)((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ve.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Object(p.a)(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),xr=function(){function e(){Object(p.a)(this,e),this.bt=0,this.vt=Ir(),this.Pt=Ve.EMPTY_BYTE_STRING,this.Vt=!1,this.St=!0}return Object(v.a)(e,[{key:"current",get:function(){return this.Vt}},{key:"resumeToken",get:function(){return this.Pt}},{key:"Dt",get:function(){return 0!==this.bt}},{key:"Ct",get:function(){return this.St}},{key:"xt",value:function(e){e.approximateByteSize()>0&&(this.St=!0,this.Pt=e)}},{key:"Nt",value:function(){var e=mr(),t=mr(),n=mr();return this.vt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:A()}})),new kr(this.Pt,this.Vt,e,t,n)}},{key:"kt",value:function(){this.St=!1,this.vt=Ir()}},{key:"Ot",value:function(e,t){this.St=!0,this.vt=this.vt.insert(e,t)}},{key:"Mt",value:function(e){this.St=!0,this.vt=this.vt.remove(e)}},{key:"Ft",value:function(){this.bt+=1}},{key:"$t",value:function(){this.bt-=1}},{key:"Bt",value:function(){this.St=!0,this.Vt=!0}}]),e}(),Er=function(){function e(t){Object(p.a)(this,e),this.Lt=t,this.qt=new Map,this.Ut=ur(),this.Kt=Tr(),this.Gt=new zt(Q)}return Object(v.a)(e,[{key:"Qt",value:function(e){var t,n=Object(s.a)(e.Et);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.At&&e.At.isFoundDocument()?this.jt(r,e.At):this.zt(r,e.key,e.At)}}catch(u){n.e(u)}finally{n.f()}var i,a=Object(s.a)(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.zt(o,e.key,e.At)}}catch(u){a.e(u)}finally{a.f()}}},{key:"Wt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Ht(n);switch(e.state){case 0:t.Jt(n)&&r.xt(e.resumeToken);break;case 1:r.$t(),r.Dt||r.kt(),r.xt(e.resumeToken);break;case 2:r.$t(),r.Dt||t.removeTarget(n);break;case 3:t.Jt(n)&&(r.Bt(),r.xt(e.resumeToken));break;case 4:t.Jt(n)&&(t.Yt(n),r.xt(e.resumeToken));break;default:A()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.qt.forEach((function(e,r){n.Jt(r)&&t(r)}))}},{key:"Zt",value:function(e){var t=e.targetId,n=e.Rt.count,r=this.Xt(t);if(r){var i=r.target;if(Zt(i))if(0===n){var a=new re(i.path);this.zt(t,a,Qt.newNoDocument(a,J.min()))}else R(1===n);else this.te(t)!==n&&(this.Yt(t),this.Gt=this.Gt.add(t))}}},{key:"ee",value:function(e){var t=this,n=new Map;this.qt.forEach((function(r,i){var a=t.Xt(i);if(a){if(r.current&&Zt(a.target)){var o=new re(a.target.path);null!==t.Ut.get(o)||t.ne(i,o)||t.zt(i,o,Qt.newNoDocument(o,e))}r.Ct&&(n.set(i,r.Nt()),r.kt())}}));var r=mr();this.Kt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Xt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Ut.forEach((function(t,n){return n.setReadTime(e)}));var i=new gr(e,n,this.Gt,this.Ut,r);return this.Ut=ur(),this.Kt=Tr(),this.Gt=new zt(Q),i}},{key:"jt",value:function(e,t){if(this.Jt(e)){var n=this.ne(e,t.key)?2:0;this.Ht(e).Ot(t.key,n),this.Ut=this.Ut.insert(t.key,t),this.Kt=this.Kt.insert(t.key,this.se(t.key).add(e))}}},{key:"zt",value:function(e,t,n){if(this.Jt(e)){var r=this.Ht(e);this.ne(e,t)?r.Ot(t,1):r.Mt(t),this.Kt=this.Kt.insert(t,this.se(t).delete(e)),n&&(this.Ut=this.Ut.insert(t,n))}}},{key:"removeTarget",value:function(e){this.qt.delete(e)}},{key:"te",value:function(e){var t=this.Ht(e).Nt();return this.Lt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Ft",value:function(e){this.Ht(e).Ft()}},{key:"Ht",value:function(e){var t=this.qt.get(e);return t||(t=new xr,this.qt.set(e,t)),t}},{key:"se",value:function(e){var t=this.Kt.get(e);return t||(t=new zt(Q),this.Kt=this.Kt.insert(e,t)),t}},{key:"Jt",value:function(e){var t=null!==this.Xt(e);return t||I("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Xt",value:function(e){var t=this.qt.get(e);return t&&t.Dt?null:this.Lt.ie(e)}},{key:"Yt",value:function(e){var t=this;this.qt.set(e,new xr),this.Lt.getRemoteKeysForTarget(e).forEach((function(n){t.zt(e,n,null)}))}},{key:"ne",value:function(e,t){return this.Lt.getRemoteKeysForTarget(e).has(t)}}]),e}();function Tr(){return new Ut(re.comparator)}function Ir(){return new Ut(re.comparator)}var Sr={asc:"ASCENDING",desc:"DESCENDING"},_r={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Cr={and:"AND",or:"OR"},Ar=Object(v.a)((function e(t,n){Object(p.a)(this,e),this.databaseId=t,this.yt=n}));function Rr(e,t){return e.yt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Nr(e,t){return e.yt?t.toBase64():t.toUint8Array()}function Dr(e,t){return Rr(e,t.toTimestamp())}function Pr(e){return R(!!e),J.fromTimestamp(function(e){var t=ze(e);return new X(t.seconds,t.nanos)}(e))}function Mr(e,t){return function(e){return new ee(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Lr(e){var t=ee.fromString(e);return R(oi(t)),t}function Fr(e,t){return Mr(e.databaseId,t.path)}function Ur(e,t){var n=Lr(t);if(n.get(1)!==e.databaseId.projectId)throw new M(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new M(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new re(qr(n))}function Vr(e,t){return Mr(e.databaseId,t)}function Br(e){var t=Lr(e);return 4===t.length?ee.emptyPath():qr(t)}function zr(e){return new ee(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function qr(e){return R(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Kr(e,t,n){return{name:Fr(e,t),fields:n.value.mapValue.fields}}function Wr(e,t,n){var r=Ur(e,t.name),i=Pr(t.updateTime),a=t.createTime?Pr(t.createTime):J.min(),o=new Gt({mapValue:{fields:t.fields}}),u=Qt.newFoundDocument(r,i,a,o);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function Gr(e,t){return"found"in t?function(e,t){R(!!t.found),t.found.name,t.found.updateTime;var n=Ur(e,t.found.name),r=Pr(t.found.updateTime),i=t.found.createTime?Pr(t.found.createTime):J.min(),a=new Gt({mapValue:{fields:t.found.fields}});return Qt.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){R(!!t.missing),R(!!t.readTime);var n=Ur(e,t.missing),r=Pr(t.readTime);return Qt.newNoDocument(n,r)}(e,t):A()}function Hr(e,t){var n;if(t instanceof Hn)n={update:Kr(e,t.key,t.value)};else if(t instanceof er)n={delete:Fr(e,t.key)};else if(t instanceof Qn)n={update:Kr(e,t.key,t.data),updateMask:ai(t.fieldMask)};else{if(!(t instanceof tr))return A();n={verify:Fr(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof _n)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Cn)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Rn)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Dn)return{fieldPath:t.field.canonicalString(),increment:n.It};throw A()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Dr(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:A()}(e,t.precondition)),n}function Qr(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Un.updateTime(Pr(e.updateTime)):void 0!==e.exists?Un.exists(e.exists):Un.none()}(t.currentDocument):Un.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)R("REQUEST_TIME"===t.setToServerValue),n=new _n;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Cn(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Rn(i)}else"increment"in t?n=new Dn(e,t.increment):A();var a=ne.fromServerFormat(t.fieldPath);return new Ln(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=Ur(e,t.update.name),a=new Gt({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Wt(t.map((function(e){return ne.fromServerFormat(e)})))}(t.updateMask);return new Qn(i,a,o,n,r)}return new Hn(i,a,n,r)}if(t.delete){var u=Ur(e,t.delete);return new er(u,n)}if(t.verify){var s=Ur(e,t.verify);return new tr(s,n)}return A()}function $r(e,t){return{documents:[Vr(e,t.path)]}}function Yr(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Vr(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Vr(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return ii(kt.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:ni(e.field),direction:Zr(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.yt||Pe(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Xr(e){var t=Br(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){R(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=Jr(e);return t instanceof kt&&jt(t)?t.getFilters():[t]}(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new Lt(ri(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return Pe(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new vt(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new vt(n,t)}(n.endAt)),an(t,i,u,o,s,"F",c,l)}function Jr(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=ri(e.unaryFilter.field);return gt.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=ri(e.unaryFilter.field);return gt.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=ri(e.unaryFilter.field);return gt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=ri(e.unaryFilter.field);return gt.create(i,"!=",{nullValue:"NULL_VALUE"});default:return A()}}(e):void 0!==e.fieldFilter?function(e){return gt.create(ri(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return A()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return kt.create(e.compositeFilter.filters.map((function(e){return Jr(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return A()}}(e.compositeFilter.op))}(e):A()}function Zr(e){return Sr[e]}function ei(e){return _r[e]}function ti(e){return Cr[e]}function ni(e){return{fieldPath:e.canonicalString()}}function ri(e){return ne.fromServerFormat(e.fieldPath)}function ii(e){return e instanceof gt?function(e){if("=="===e.op){if(ut(e.value))return{unaryFilter:{field:ni(e.field),op:"IS_NAN"}};if(ot(e.value))return{unaryFilter:{field:ni(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ut(e.value))return{unaryFilter:{field:ni(e.field),op:"IS_NOT_NAN"}};if(ot(e.value))return{unaryFilter:{field:ni(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ni(e.field),op:ei(e.op),value:e.value}}}(e):e instanceof kt?function(e){var t=e.getFilters().map((function(e){return ii(e)}));return 1===t.length?t[0]:{compositeFilter:{op:ti(e.op),filters:t}}}(e):A()}function ai(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function oi(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function ui(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=ci(t)),t=si(e.get(n),t);return ci(t)}function si(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function ci(e){return e+"\x01\x01"}function li(e){var t=e.length;if(R(t>=2),2===t)return R("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),ee.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&A(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:A()}a=o+2}return new ee(r)}var fi=["userId","batchId"];function hi(e,t){return[e,ui(t)]}function di(e,t,n){return[e,ui(t),n]}var pi={},vi=["prefixPath","collectionGroup","readTime","documentId"],mi=["prefixPath","collectionGroup","documentId"],yi=["collectionGroup","readTime","prefixPath","documentId"],bi=["canonicalId","targetId"],gi=["targetId","path"],ki=["path","targetId"],Oi=["collectionId","parent"],wi=["indexId","uid"],ji=["uid","sequenceNumber"],xi=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Ei=["indexId","uid","orderedDocumentKey"],Ti=["userId","collectionPath","documentId"],Ii=["userId","collectionPath","largestBatchId"],Si=["userId","collectionGroup","largestBatchId"],_i=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Ci=[].concat(Object(d.a)(_i),["documentOverlays"]),Ai=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Ri=Ai,Ni=[].concat(Ri,["indexConfiguration","indexState","indexEntries"]),Di=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var i;return Object(p.a)(this,n),(i=t.call(this)).re=e,i.currentSequenceNumber=r,i}return Object(v.a)(n)}(pe);function Pi(e,t){var n=D(e);return ge.M(n.re,t)}var Mi=function(){function e(t,n,r,i){Object(p.a)(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Object(v.a)(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&qn(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=Object(s.a)(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=Kn(i,e,t,this.localWriteTime))}}catch(c){r.e(c)}finally{r.f()}var a,o=Object(s.a)(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=Kn(u,e,t,this.localWriteTime))}}catch(c){o.e(c)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=hr();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=zn(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(J.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),mr())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&$(this.mutations,e.mutations,(function(e,t){return Gn(e,t)}))&&$(this.baseMutations,e.baseMutations,(function(e,t){return Gn(e,t)}))}}]),e}(),Li=function(){function e(t,n,r,i){Object(p.a)(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Object(v.a)(e,null,[{key:"from",value:function(t,n,r){R(t.mutations.length===r.length);for(var i=pr,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Fi=function(){function e(t,n){Object(p.a)(this,e),this.largestBatchId=t,this.mutation=n}return Object(v.a)(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Ui=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:J.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:J.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Ve.EMPTY_BYTE_STRING;Object(p.a)(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return Object(v.a)(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Vi=Object(v.a)((function e(t){Object(p.a)(this,e),this.oe=t}));function Bi(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:zi(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Fr(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Rr(e,t.version.toTimestamp()),createTime:Rr(e,t.createTime.toTimestamp())}}(e.oe,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:qi(t.version)};else{if(!t.isUnknownDocument())return A();r.unknownDocument={path:n.path.toArray(),version:qi(t.version)}}return r}function zi(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function qi(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Ki(e){var t=new X(e.seconds,e.nanoseconds);return J.fromTimestamp(t)}function Wi(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Qr(e.oe,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Qr(e.oe,t)})),u=X.fromMillis(t.localWriteTimeMs);return new Mi(t.batchId,u,n,o)}function Gi(e){var t,n,r=Ki(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Ki(e.lastLimboFreeSnapshotVersion):J.min();return void 0!==e.query.documents?(R(1===(n=e.query).documents.length),t=hn(on(Br(n.documents[0])))):t=function(e){return hn(Xr(e))}(e.query),new Ui(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Ve.fromBase64String(e.resumeToken))}function Hi(e,t){var n,r=qi(t.snapshotVersion),i=qi(t.lastLimboFreeSnapshotVersion);n=Zt(t.target)?$r(e.oe,t.target):Yr(e.oe,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Xt(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function Qi(e){var t=Xr({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?pn(t,t.limit,"L"):t}function $i(e,t){return new Fi(t.largestBatchId,Qr(e.oe,t.overlayMutation))}function Yi(e,t){var n=t.path.lastSegment();return[e,ui(t.path.popLast()),n]}function Xi(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:qi(r.readTime),documentKey:ui(r.documentKey.path),largestBatchId:r.largestBatchId}}var Ji=function(){function e(){Object(p.a)(this,e)}return Object(v.a)(e,[{key:"getBundleMetadata",value:function(e,t){return Zi(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Ki(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return Zi(e).put({bundleId:(n=t).id,createTime:qi(Pr(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return ea(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Qi(t.bundledQuery),readTime:Ki(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return ea(e).put(function(e){return{name:e.name,readTime:qi(Pr(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Zi(e){return Pi(e,"bundles")}function ea(e){return Pi(e,"namedQueries")}var ta=function(){function e(t,n){Object(p.a)(this,e),this.Tt=t,this.userId=n}return Object(v.a)(e,[{key:"getOverlay",value:function(e,t){var n=this;return na(e).get(Yi(this.userId,t)).next((function(e){return e?$i(n.Tt,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=fr();return ye.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new Fi(t,a);i.push(r.ce(e,o))})),ye.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(ui(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(na(e).Y("collectionPathOverlayIndex",i))})),ye.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=fr(),a=ui(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return na(e).W("collectionPathOverlayIndex",o).next((function(e){var t,n=Object(s.a)(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=$i(r.Tt,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=fr(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return na(e).X({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=$i(a.Tt,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"ce",value:function(e,t){return na(e).put(function(e,t,n){var r=Yi(t,n.mutation.key),i=Object(o.a)(r,3);i[0];return{userId:t,collectionPath:i[1],documentId:i[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Hr(e.oe,n.mutation)}}(this.Tt,this.userId,t))}}],[{key:"ue",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function na(e){return Pi(e,"documentOverlays")}var ra=function(){function e(){Object(p.a)(this,e)}return Object(v.a)(e,[{key:"ae",value:function(e,t){this.he(e,t),t.le()}},{key:"he",value:function(e,t){if("nullValue"in e)this.fe(t,5);else if("booleanValue"in e)this.fe(t,10),t.de(e.booleanValue?1:0);else if("integerValue"in e)this.fe(t,15),t.de(qe(e.integerValue));else if("doubleValue"in e){var n=qe(e.doubleValue);isNaN(n)?this.fe(t,13):(this.fe(t,15),Me(n)?t.de(0):t.de(n))}else if("timestampValue"in e){var r=e.timestampValue;this.fe(t,20),"string"==typeof r?t._e(r):(t._e("".concat(r.seconds||"")),t.de(r.nanos||0))}else if("stringValue"in e)this.we(e.stringValue,t),this.me(t);else if("bytesValue"in e)this.fe(t,30),t.ge(Ke(e.bytesValue)),this.me(t);else if("referenceValue"in e)this.ye(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.fe(t,45),t.de(i.latitude||0),t.de(i.longitude||0)}else"mapValue"in e?lt(e)?this.fe(t,Number.MAX_SAFE_INTEGER):(this.pe(e.mapValue,t),this.me(t)):"arrayValue"in e?(this.Ie(e.arrayValue,t),this.me(t)):A()}},{key:"we",value:function(e,t){this.fe(t,25),this.Te(e,t)}},{key:"Te",value:function(e,t){t._e(e)}},{key:"pe",value:function(e,t){var n=e.fields||{};this.fe(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.we(a,t),this.he(n[a],t)}}},{key:"Ie",value:function(e,t){var n=e.values||[];this.fe(t,50);var r,i=Object(s.a)(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.he(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ye",value:function(e,t){var n=this;this.fe(t,37),re.fromName(e).path.forEach((function(e){n.fe(t,60),n.Te(e,t)}))}},{key:"fe",value:function(e,t){e.de(t)}},{key:"me",value:function(e){e.de(2)}}]),e}();function ia(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function aa(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=ia(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}ra.Ee=new ra;var oa=function(){function e(){Object(p.a)(this,e),this.buffer=new Uint8Array(1024),this.position=0}return Object(v.a)(e,[{key:"Ae",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Re(n.value),n=t.next();this.be()}},{key:"ve",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Pe(n.value),n=t.next();this.Ve()}},{key:"Se",value:function(e){var t,n=Object(s.a)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Re(i);else if(i<2048)this.Re(960|i>>>6),this.Re(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Re(480|i>>>12),this.Re(128|63&i>>>6),this.Re(128|63&i);else{var a=r.codePointAt(0);this.Re(240|a>>>18),this.Re(128|63&a>>>12),this.Re(128|63&a>>>6),this.Re(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.be()}},{key:"De",value:function(e){var t,n=Object(s.a)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Pe(i);else if(i<2048)this.Pe(960|i>>>6),this.Pe(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Pe(480|i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i);else{var a=r.codePointAt(0);this.Pe(240|a>>>18),this.Pe(128|63&a>>>12),this.Pe(128|63&a>>>6),this.Pe(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ve()}},{key:"Ce",value:function(e){var t=this.xe(e),n=aa(t);this.Ne(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"ke",value:function(e){var t=this.xe(e),n=aa(t);this.Ne(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Oe",value:function(){this.Me(255),this.Me(255)}},{key:"Fe",value:function(){this.$e(255),this.$e(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ne(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Be",value:function(){return this.buffer.slice(0,this.position)}},{key:"xe",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Re",value:function(e){var t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(t)}},{key:"Pe",value:function(e){var t=255&e;0===t?(this.$e(0),this.$e(255)):255===t?(this.$e(255),this.$e(0)):this.$e(e)}},{key:"be",value:function(){this.Me(0),this.Me(1)}},{key:"Ve",value:function(){this.$e(0),this.$e(1)}},{key:"Me",value:function(e){this.Ne(1),this.buffer[this.position++]=e}},{key:"$e",value:function(e){this.Ne(1),this.buffer[this.position++]=~e}},{key:"Ne",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),ua=function(){function e(t){Object(p.a)(this,e),this.Le=t}return Object(v.a)(e,[{key:"ge",value:function(e){this.Le.Ae(e)}},{key:"_e",value:function(e){this.Le.Se(e)}},{key:"de",value:function(e){this.Le.Ce(e)}},{key:"le",value:function(){this.Le.Oe()}}]),e}(),sa=function(){function e(t){Object(p.a)(this,e),this.Le=t}return Object(v.a)(e,[{key:"ge",value:function(e){this.Le.ve(e)}},{key:"_e",value:function(e){this.Le.De(e)}},{key:"de",value:function(e){this.Le.ke(e)}},{key:"le",value:function(){this.Le.Fe()}}]),e}(),ca=function(){function e(){Object(p.a)(this,e),this.Le=new oa,this.qe=new ua(this.Le),this.Ue=new sa(this.Le)}return Object(v.a)(e,[{key:"seed",value:function(e){this.Le.seed(e)}},{key:"Ke",value:function(e){return 0===e?this.qe:this.Ue}},{key:"Be",value:function(){return this.Le.Be()}},{key:"reset",value:function(){this.Le.reset()}}]),e}(),la=function(){function e(t,n,r,i){Object(p.a)(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return Object(v.a)(e,[{key:"Ge",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function fa(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=ha(e.arrayValue,t.arrayValue))?n:0!==(n=ha(e.directionalValue,t.directionalValue))?n:re.comparator(e.documentKey,t.documentKey)}function ha(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var da=function(){function e(t){Object(p.a)(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Qe=t.orderBy,this.je=[];var n,r=Object(s.a)(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.ze=i:this.je.push(i)}}catch(a){r.e(a)}finally{r.f()}}return Object(v.a)(e,[{key:"We",value:function(e){R(e.collectionGroup===this.collectionId);var t=ae(e);if(void 0!==t&&!this.He(t))return!1;for(var n=oe(e),r=0,i=0;r<n.length&&this.He(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.ze){var a=n[r];if(!this.Je(this.ze,a)||!this.Ye(this.Qe[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Qe.length||!this.Ye(this.Qe[i++],o))return!1}return!0}},{key:"He",value:function(e){var t,n=Object(s.a)(this.je);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.Je(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"Je",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Ye",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function pa(e){var t,n;if(R(e instanceof gt||e instanceof kt),e instanceof gt){if(e instanceof Dt){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return gt.create(e.field,"==",t)})))||[];return kt.create(r,"or")}return e}var i=e.filters.map((function(e){return pa(e)}));return kt.create(i,e.op)}function va(e){if(0===e.getFilters().length)return[];var t=ga(pa(e));return R(ba(t)),ma(t)||ya(t)?[t]:t.getFilters()}function ma(e){return e instanceof gt}function ya(e){return e instanceof kt&&jt(e)}function ba(e){return ma(e)||ya(e)||function(e){if(e instanceof kt&&wt(e)){var t,n=Object(s.a)(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!ma(r)&&!ya(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function ga(e){if(R(e instanceof gt||e instanceof kt),e instanceof gt)return e;if(1===e.filters.length)return ga(e.filters[0]);var t=e.filters.map((function(e){return ga(e)})),n=kt.create(t,e.op);return ba(n=wa(n))?n:(R(n instanceof kt),R(Ot(n)),R(n.filters.length>1),n.filters.reduce((function(e,t){return ka(e,t)})))}function ka(e,t){var n;return R(e instanceof gt||e instanceof kt),R(t instanceof gt||t instanceof kt),n=e instanceof gt?t instanceof gt?function(e,t){return kt.create([e,t],"and")}(e,t):Oa(e,t):t instanceof gt?Oa(t,e):function(e,t){if(R(e.filters.length>0&&t.filters.length>0),Ot(e)&&Ot(t))return It(e,t.getFilters());var n=wt(e)?e:t,r=wt(e)?t:e,i=n.filters.map((function(e){return ka(e,r)}));return kt.create(i,"or")}(e,t),wa(n)}function Oa(e,t){if(Ot(t))return It(t,e.getFilters());var n=t.filters.map((function(t){return ka(e,t)}));return kt.create(n,"or")}function wa(e){if(R(e instanceof gt||e instanceof kt),e instanceof gt)return e;var t=e.getFilters();if(1===t.length)return wa(t[0]);if(xt(e))return e;var n=t.map((function(e){return wa(e)})),r=[];return n.forEach((function(t){t instanceof gt?r.push(t):t instanceof kt&&(t.op===e.op?r.push.apply(r,Object(d.a)(t.filters)):r.push(t))})),1===r.length?r[0]:kt.create(r,e.op)}var ja=function(){function e(){Object(p.a)(this,e),this.Ze=new xa}return Object(v.a)(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Ze.add(t),ye.resolve()}},{key:"getCollectionParents",value:function(e,t){return ye.resolve(this.Ze.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return ye.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return ye.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return ye.resolve(null)}},{key:"getIndexType",value:function(e,t){return ye.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return ye.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return ye.resolve(null)}},{key:"getMinOffset",value:function(e,t){return ye.resolve(fe.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return ye.resolve(fe.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return ye.resolve()}},{key:"updateIndexEntries",value:function(e,t){return ye.resolve()}}]),e}(),xa=function(){function e(){Object(p.a)(this,e),this.index={}}return Object(v.a)(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new zt(ee.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new zt(ee.comparator)).toArray()}}]),e}(),Ea=new Uint8Array(0),Ta=function(){function e(t,n){Object(p.a)(this,e),this.user=t,this.databaseId=n,this.Xe=new xa,this.tn=new ar((function(e){return Xt(e)}),(function(e,t){return Jt(e,t)})),this.uid=t.uid||""}return Object(v.a)(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Xe.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Xe.add(t)}));var a={collectionId:r,parent:ui(i)};return Ia(e).put(a)}return ye.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Y(t),""],!1,!0);return Ia(e).W(r).next((function(e){var r,i=Object(s.a)(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(li(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=_a(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=Ca(e);return a.next((function(e){o.put(Xi(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=_a(e),r=Ca(e),i=Sa(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=Sa(e),i=!0,a=new Map;return ye.forEach(this.en(t),(function(t){return n.nn(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=mr(),o=[];return ye.forEach(a,(function(i,a){var u;I("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(Xt(t)));var c=function(e,t){var n=ae(t);if(void 0===n)return null;var r,i=Object(s.a)(en(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=new Map,i=Object(s.a)(oe(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=Object(s.a)(en(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var c=a.value;switch(c.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),c.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),c.value),Array.from(r.values())}}}catch(l){u.e(l)}finally{u.f()}}}catch(l){i.e(l)}finally{i.f()}return null}(a,i),f=function(e,t){var n,r=[],i=!0,a=Object(s.a)(oe(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?tn(e,o.fieldPath,e.startAt):nn(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(c){a.e(c)}finally{a.f()}return new vt(r,i)}(a,i),h=function(e,t){var n,r=[],i=!0,a=Object(s.a)(oe(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?nn(e,o.fieldPath,e.endAt):tn(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(c){a.e(c)}finally{a.f()}return new vt(r,i)}(a,i),d=n.sn(i,a,f),p=n.sn(i,a,h),v=n.rn(i,a,l),m=n.on(i.indexId,c,d,f.inclusive,p,h.inclusive,v);return ye.forEach(m,(function(n){return r.J(n,t.limit).next((function(t){t.forEach((function(t){var n=re.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return ye.resolve(null)}))}},{key:"en",value:function(e){var t=this.tn.get(e);return t||(t=0===e.filters.length?[e]:va(kt.create(e.filters,"and")).map((function(t){return Yt(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.tn.set(e,t),t)}},{key:"on",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(){var s=t?u.un(t[h/c]):Ea,f=u.cn(e,s,n[h%c],r),p=u.an(e,s,i[h%c],a),v=o.map((function(t){return u.cn(e,s,t,!0)}));l.push.apply(l,Object(d.a)(u.createRange(f,p,v)))},h=0;h<s;++h)f();return l}},{key:"cn",value:function(e,t,n,r){var i=new la(e,re.empty(),t,n);return r?i:i.Ge()}},{key:"an",value:function(e,t,n,r){var i=new la(e,re.empty(),t,n);return r?i.Ge():i}},{key:"nn",value:function(e,t){var n=new da(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=Object(s.a)(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.We(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.en(t);return ye.forEach(i,(function(t){return n.nn(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new zt(ne.comparator),r=!1,i=Object(s.a)(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=t.value,u=Object(s.a)(o.getFlattenedFilters());try{for(u.s();!(a=u.n()).done;){var c=a.value;c.field.isKeyField()||("array-contains"===c.op||"array-contains-any"===c.op?r=!0:n=n.add(c.field))}}catch(d){u.e(d)}finally{u.f()}}}catch(d){i.e(d)}finally{i.f()}var l,f=Object(s.a)(e.orderBy);try{for(f.s();!(l=f.n()).done;){var h=l.value;h.field.isKeyField()||(n=n.add(h.field))}}catch(d){f.e(d)}finally{f.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"hn",value:function(e,t){var n,r=new ca,i=Object(s.a)(oe(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Ke(a.kind);ra.Ee.ae(o,u)}}catch(c){i.e(c)}finally{i.f()}return r.Be()}},{key:"un",value:function(e){var t=new ca;return ra.Ee.ae(e,t.Ke(0)),t.Be()}},{key:"ln",value:function(e,t){var n=new ca;return ra.Ee.ae(rt(this.databaseId,t),n.Ke(function(e){var t=oe(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Be()}},{key:"rn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new ca);var i,a=0,o=Object(s.a)(oe(e));try{for(o.s();!(i=o.n()).done;){var u,c=i.value,l=n[a++],f=Object(s.a)(r);try{for(f.s();!(u=f.n()).done;){var h=u.value;if(this.fn(t,c.fieldPath)&&at(l))r=this.dn(r,c,l);else{var d=h.Ke(c.kind);ra.Ee.ae(l,d)}}}catch(p){f.e(p)}finally{f.f()}}}catch(p){o.e(p)}finally{o.f()}return this._n(r)}},{key:"sn",value:function(e,t,n){return this.rn(e,t,n.position)}},{key:"_n",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Be();return t}},{key:"dn",value:function(e,t,n){var r,i=Object(d.a)(e),a=[],o=Object(s.a)(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,c=r.value,l=Object(s.a)(i);try{for(l.s();!(u=l.n()).done;){var f=u.value,h=new ca;h.seed(f.Be()),ra.Ee.ae(c,h.Ke(t.kind)),a.push(h)}}catch(p){l.e(p)}finally{l.f()}}}catch(p){o.e(p)}finally{o.f()}return a}},{key:"fn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof gt&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=_a(e),i=Ca(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next((function(e){var t=[];return ye.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new se(t.sequenceNumber,new fe(Ki(t.readTime),new re(li(t.documentKey)),t.largestBatchId)):se.empty(),r=e.fields.map((function(e){var t=Object(o.a)(e,2),n=t[0],r=t[1];return new ue(ne.fromServerFormat(n),r)}));return new ie(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Q(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=_a(e),a=Ca(e);return this.wn(e).next((function(e){return i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return ye.forEach(t,(function(t){return a.put(Xi(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return ye.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?ye.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),ye.forEach(a,(function(r){return n.mn(e,t,r).next((function(t){var a=n.gn(i,r);return t.isEqual(a)?ye.resolve():n.yn(e,i,r,t,a)}))}))}))}))}},{key:"pn",value:function(e,t,n,r){return Sa(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.ln(n,t.key),documentKey:t.key.path.toArray()})}},{key:"In",value:function(e,t,n,r){return Sa(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.ln(n,t.key),t.key.path.toArray()])}},{key:"mn",value:function(e,t,n){var r=Sa(e),i=new zt(fa);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.ln(n,t)])},(function(e,r){i=i.add(new la(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"gn",value:function(e,t){var n=new zt(fa),r=this.hn(t,e);if(null==r)return n;var i=ae(t);if(null!=i){var a=e.data.field(i.fieldPath);if(at(a)){var o,u=Object(s.a)(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var c=o.value;n=n.add(new la(t.indexId,e.key,this.un(c),r))}}catch(l){u.e(l)}finally{u.f()}}}else n=n.add(new la(t.indexId,e.key,Ea,r));return n}},{key:"yn",value:function(e,t,n,r,i){var a=this;I("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=Kt(a),s=Kt(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=Kt(o)):l?(i(u),u=Kt(a)):(u=Kt(a),s=Kt(o))}}(r,i,fa,(function(r){o.push(a.pn(e,t,n,r))}),(function(r){o.push(a.In(e,t,n,r))})),ye.waitFor(o)}},{key:"wn",value:function(e){var t=1;return Ca(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return fa(e,t)})).filter((function(e,t,n){return!t||0!==fa(e,n[t-1])}));var r=[];r.push(e);var i,a=Object(s.a)(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=fa(o,e),c=fa(o,t);if(0===u)r[0]=e.Ge();else if(u>0&&c<0)r.push(o),r.push(o.Ge());else if(c>0)break}}catch(p){a.e(p)}finally{a.f()}r.push(t);for(var l=[],f=0;f<r.length;f+=2){if(this.Tn(r[f],r[f+1]))return[];var h=[r[f].indexId,this.uid,r[f].arrayValue,r[f].directionalValue,Ea,[]],d=[r[f+1].indexId,this.uid,r[f+1].arrayValue,r[f+1].directionalValue,Ea,[]];l.push(IDBKeyRange.bound(h,d))}return l}},{key:"Tn",value:function(e,t){return fa(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(Aa)}},{key:"getMinOffset",value:function(e,t){var n=this;return ye.mapArray(this.en(t),(function(t){return n.nn(e,t).next((function(e){return e||A()}))})).next(Aa)}}]),e}();function Ia(e){return Pi(e,"collectionParents")}function Sa(e){return Pi(e,"indexEntries")}function _a(e){return Pi(e,"indexConfiguration")}function Ca(e){return Pi(e,"indexState")}function Aa(e){R(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;he(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new fe(t.readTime,t.documentKey,n)}var Ra={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Na=function(){function e(t,n,r){Object(p.a)(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Object(v.a)(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function Da(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,c=r.X({range:o},(function(e,t,n){return u++,n.delete()}));a.push(c.next((function(){R(1===u)})));var l,f=[],h=Object(s.a)(n.mutations);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=di(t,d.key.path,n.batchId);a.push(i.delete(p)),f.push(d.key)}}catch(v){h.e(v)}finally{h.f()}return ye.waitFor(a).next((function(){return f}))}function Pa(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw A();t=e.noDocument}return JSON.stringify(t).length}Na.DEFAULT_COLLECTION_PERCENTILE=10,Na.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Na.DEFAULT=new Na(41943040,Na.DEFAULT_COLLECTION_PERCENTILE,Na.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Na.DISABLED=new Na(-1,0,0);var Ma=function(){function e(t,n,r,i){Object(p.a)(this,e),this.userId=t,this.Tt=n,this.indexManager=r,this.referenceDelegate=i,this.En={}}return Object(v.a)(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Fa(e).X({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=Ua(e),o=Fa(e);return o.add({}).next((function(u){R("number"==typeof u);var c,l=new Mi(u,t,n,r),f=function(e,t,n){var r=n.baseMutations.map((function(t){return Hr(e.oe,t)})),i=n.mutations.map((function(t){return Hr(e.oe,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.Tt,i.userId,l),h=[],d=new zt((function(e,t){return Q(e.canonicalString(),t.canonicalString())})),p=Object(s.a)(r);try{for(p.s();!(c=p.n()).done;){var v=c.value,m=di(i.userId,v.key.path,u);d=d.add(v.key.path.popLast()),h.push(o.put(f)),h.push(a.put(m,pi))}}catch(y){p.e(y)}finally{p.f()}return d.forEach((function(t){h.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.En[u]=l.keys()})),ye.waitFor(h).next((function(){return l}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return Fa(e).get(t).next((function(e){return e?(R(e.userId===n.userId),Wi(n.Tt,e)):null}))}},{key:"An",value:function(e,t){var n=this;return this.En[t]?ye.resolve(this.En[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.En[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return Fa(e).X({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(R(t.batchId>=r),a=Wi(n.Tt,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Fa(e).X({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Fa(e).W("userMutationsIndex",n).next((function(e){return e.map((function(e){return Wi(t.Tt,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=hi(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Ua(e).X({range:i},(function(r,i,u){var s=Object(o.a)(r,3),c=s[0],l=s[1],f=s[2],h=li(l);if(c===n.userId&&t.path.isEqual(h))return Fa(e).get(f).next((function(e){if(!e)throw A();R(e.userId===n.userId),a.push(Wi(n.Tt,e))}));u.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new zt(Q),i=[];return t.forEach((function(t){var a=hi(n.userId,t.path),u=IDBKeyRange.lowerBound(a),s=Ua(e).X({range:u},(function(e,i,a){var u=Object(o.a)(e,3),s=u[0],c=u[1],l=u[2],f=li(c);s===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(s)})),ye.waitFor(i).next((function(){return n.Rn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=hi(this.userId,r),u=IDBKeyRange.lowerBound(a),s=new zt(Q);return Ua(e).X({range:u},(function(e,t,a){var u=Object(o.a)(e,3),c=u[0],l=u[1],f=u[2],h=li(l);c===n.userId&&r.isPrefixOf(h)?h.length===i&&(s=s.add(f)):a.done()})).next((function(){return n.Rn(e,s)}))}},{key:"Rn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Fa(e).get(t).next((function(e){if(null===e)throw A();R(e.userId===n.userId),r.push(Wi(n.Tt,e))})))})),ye.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return Da(e.re,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.bn(t.batchId)})),ye.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"bn",value:function(e){delete this.En[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return ye.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return Ua(e).X({range:r},(function(e,n,r){if(e[0]===t.userId){var a=li(e[1]);i.push(a)}else r.done()})).next((function(){R(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return La(e,this.userId,t)}},{key:"vn",value:function(e){var t=this;return Va(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"ue",value:function(t,n,r,i){return R(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function La(e,t,n){var r=hi(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),u=!1;return Ua(e).X({range:a,Z:!0},(function(e,n,r){var a=Object(o.a)(e,3),s=a[0],c=a[1];a[2];s===t&&c===i&&(u=!0),r.done()})).next((function(){return u}))}function Fa(e){return Pi(e,"mutations")}function Ua(e){return Pi(e,"documentMutations")}function Va(e){return Pi(e,"mutationQueues")}var Ba=function(){function e(t){Object(p.a)(this,e),this.Pn=t}return Object(v.a)(e,[{key:"next",value:function(){return this.Pn+=2,this.Pn}}],[{key:"Vn",value:function(){return new e(0)}},{key:"Sn",value:function(){return new e(-1)}}]),e}(),za=function(){function e(t,n){Object(p.a)(this,e),this.referenceDelegate=t,this.Tt=n}return Object(v.a)(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Dn(e).next((function(n){var r=new Ba(n.highestTargetId);return n.highestTargetId=r.next(),t.Cn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Dn(e).next((function(e){return J.fromTimestamp(new X(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Dn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Dn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Cn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.xn(e,t).next((function(){return n.Dn(e).next((function(r){return r.targetCount+=1,n.Nn(t,r),n.Cn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.xn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return qa(e).delete(t.targetId)})).next((function(){return n.Dn(e)})).next((function(t){return R(t.targetCount>0),t.targetCount-=1,n.Cn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return qa(e).X((function(o,u){var s=Gi(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return ye.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return qa(e).X((function(e,n){var r=Gi(n);t(r)}))}},{key:"Dn",value:function(e){return Ka(e).get("targetGlobalKey").next((function(e){return R(null!==e),e}))}},{key:"Cn",value:function(e,t){return Ka(e).put("targetGlobalKey",t)}},{key:"xn",value:function(e,t){return qa(e).put(Hi(this.Tt,t))}},{key:"Nn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Dn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Xt(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return qa(e).X({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=Gi(n);Jt(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=Wa(e);return t.forEach((function(t){var o=ui(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),ye.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=Wa(e);return ye.forEach(t,(function(t){var a=ui(t.path);return ye.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=Wa(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Wa(e),i=mr();return r.X({range:n,Z:!0},(function(e,t,n){var r=li(e[1]),a=new re(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=ui(t.path),r=IDBKeyRange.bound([n],[Y(n)],!1,!0),i=0;return Wa(e).X({index:"documentTargetsIndex",Z:!0,range:r},(function(e,t,n){var r=Object(o.a)(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"ie",value:function(e,t){return qa(e).get(t).next((function(e){return e?Gi(e):null}))}}]),e}();function qa(e){return Pi(e,"targets")}function Ka(e){return Pi(e,"targetGlobal")}function Wa(e){return Pi(e,"targetDocuments")}function Ga(e,t){var n=Object(o.a)(e,2),r=n[0],i=n[1],a=Object(o.a)(t,2),u=a[0],s=a[1],c=Q(r,u);return 0===c?Q(i,s):c}var Ha=function(){function e(t){Object(p.a)(this,e),this.kn=t,this.buffer=new zt(Ga),this.On=0}return Object(v.a)(e,[{key:"Mn",value:function(){return++this.On}},{key:"Fn",value:function(e){var t=[e,this.Mn()];if(this.buffer.size<this.kn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Ga(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Qa=function(){function e(t,n,r){Object(p.a)(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.$n=null}return Object(v.a)(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Bn(6e4)}},{key:"stop",value:function(){this.$n&&(this.$n.cancel(),this.$n=null)}},{key:"started",get:function(){return null!==this.$n}},{key:"Bn",value:function(e){var t=this;I("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.$n=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,Object(l.a)(Object(c.a)().mark((function e(){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.$n=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!we(e.t0)){e.next=12;break}I("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,ve(e.t0);case 14:return e.next=16,t.Bn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),$a=function(){function e(t,n){Object(p.a)(this,e),this.Ln=t,this.params=n}return Object(v.a)(e,[{key:"calculateTargetCount",value:function(e,t){return this.Ln.qn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return ye.resolve(_e.at);var r=new Ha(t);return this.Ln.forEachTarget(e,(function(e){return r.Fn(e.sequenceNumber)})).next((function(){return n.Ln.Un(e,(function(e){return r.Fn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Ln.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Ln.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(I("LruGarbageCollector","Garbage collection skipped; disabled"),ye.resolve(Ra)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(I("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Ra):n.Kn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Ln.getCacheSize(e)}},{key:"Kn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(I("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),E()<=b.a.DEBUG&&I("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),ye.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),Ya=function(){function e(t,n){Object(p.a)(this,e),this.db=t,this.garbageCollector=function(e,t){return new $a(e,t)}(this,n)}return Object(v.a)(e,[{key:"qn",value:function(e){var t=this.Gn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Gn",value:function(e){var t=0;return this.Un(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Un",value:function(e,t){return this.Qn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return Xa(e,n)}},{key:"removeReference",value:function(e,t,n){return Xa(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return Xa(e,t)}},{key:"jn",value:function(e,t){return function(e,t){var n=!1;return Va(e).tt((function(r){return La(e,r,t).next((function(e){return e&&(n=!0),ye.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Qn(e,(function(o,u){if(u<=t){var s=n.jn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,J.min()),Wa(e).delete([0,ui(o.path)])}))}));i.push(s)}})).next((function(){return ye.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return Xa(e,t)}},{key:"Qn",value:function(e,t){var n,r=Wa(e),i=_e.at;return r.X({index:"documentTargetsIndex"},(function(e,r){var a=Object(o.a)(e,2),u=a[0],s=(a[1],r.path),c=r.sequenceNumber;0===u?(i!==_e.at&&t(new re(li(n)),i),i=c,n=s):i=_e.at})).next((function(){i!==_e.at&&t(new re(li(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function Xa(e,t){return Wa(e).put(function(e,t){return{targetId:0,path:ui(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var Ja=function(){function e(){Object(p.a)(this,e),this.changes=new ar((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Object(v.a)(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Qt.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?ye.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Za=function(){function e(t){Object(p.a)(this,e),this.Tt=t}return Object(v.a)(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return ro(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return ro(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],zi(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.zn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Qt.newInvalidDocument(t);return ro(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(io(t))},(function(e,i){r=n.Wn(t,i)})).next((function(){return r}))}},{key:"Hn",value:function(e,t){var n=this,r={size:0,document:Qt.newInvalidDocument(t)};return ro(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(io(t))},(function(e,i){r={document:n.Wn(t,i),size:Pa(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=ur();return this.Jn(e,t,(function(e,t){var i=n.Wn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Yn",value:function(e,t){var n=this,r=ur(),i=new Ut(re.comparator);return this.Jn(e,t,(function(e,t){var a=n.Wn(e,t);r=r.insert(e,a),i=i.insert(e,Pa(t))})).next((function(){return{documents:r,Zn:i}}))}},{key:"Jn",value:function(e,t,n){if(t.isEmpty())return ye.resolve();var r=new zt(oo);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(io(r.first()),io(r.last())),a=r.getIterator(),o=a.getNext();return ro(e).X({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=re.fromSegments([].concat(Object(d.a)(t.prefixPath),[t.collectionGroup,t.documentId]));o&&oo(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.j(io(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a=t.path,o=[a.popLast().toArray(),a.lastSegment(),zi(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],u=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ro(e).W(IDBKeyRange.bound(o,u,!0)).next((function(e){var n,a=ur(),o=Object(s.a)(e);try{for(o.s();!(n=o.n()).done;){var u=n.value,c=i.Wn(re.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);c.isFoundDocument()&&(bn(t,c)||r.has(c.key))&&(a=a.insert(c.key,c))}}catch(l){o.e(l)}finally{o.f()}return a}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=ur(),o=ao(t,n),u=ao(t,fe.max());return ro(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.Wn(re.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new to(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return no(e).get("remoteDocumentGlobalKey").next((function(e){return R(!!e),e}))}},{key:"zn",value:function(e,t){return no(e).put("remoteDocumentGlobalKey",t)}},{key:"Wn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=Wr(e.oe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=re.fromSegments(t.noDocument.path),i=Ki(t.noDocument.readTime);n=Qt.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return A();var a=re.fromSegments(t.unknownDocument.path),o=Ki(t.unknownDocument.version);n=Qt.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new X(e[0],e[1]);return J.fromTimestamp(t)}(t.readTime)),n}(this.Tt,t);if(!n.isNoDocument()||!n.version.isEqual(J.min()))return n}return Qt.newInvalidDocument(e)}}]),e}();function eo(e){return new Za(e)}var to=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var i;return Object(p.a)(this,n),(i=t.call(this)).Xn=e,i.trackRemovals=r,i.ts=new ar((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return Object(v.a)(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new zt((function(e,t){return Q(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.ts.get(a);if(n.push(t.Xn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=Bi(t.Xn.Tt,o);i=i.add(a.path.popLast());var c=Pa(s);r+=c-u.size,n.push(t.Xn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=Bi(t.Xn.Tt,o.convertToNoDocument(J.min()));n.push(t.Xn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Xn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Xn.updateMetadata(e,r)),ye.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Xn.Hn(e,t).next((function(e){return n.ts.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Xn.Yn(e,t).next((function(e){var t=e.documents;return e.Zn.forEach((function(e,r){n.ts.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(Ja);function no(e){return Pi(e,"remoteDocumentGlobal")}function ro(e){return Pi(e,"remoteDocumentsV14")}function io(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function ao(e,t){var n=t.documentKey.path.toArray();return[e,zi(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function oo(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Q(n[a],r[a]))return i;return(i=Q(n.length,r.length))||((i=Q(n[n.length-2],r[r.length-2]))||Q(n[n.length-1],r[r.length-1]))}var uo=Object(v.a)((function e(t,n){Object(p.a)(this,e),this.overlayedDocument=t,this.mutatedFields=n})),so=function(){function e(t,n,r,i){Object(p.a)(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return Object(v.a)(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&Kn(r.mutation,e,Wt.empty(),X.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,mr()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:mr(),i=fr();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=cr();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=fr();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,mr())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=ur(),a=dr(),o=dr();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Qn)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),Kn(o.mutation,t,o.mutation.getFieldMask(),X.now())):a.set(t.key,Wt.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new uo(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=dr(),i=new Ut((function(e,t){return e-t})),a=mr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=Object(s.a)(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Wt.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||mr()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=hr();c.forEach((function(e){if(!a.has(e)){var n=zn(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return ye.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return re.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):ln(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):ye.resolve(fr()),u=-1,s=a;return o.next((function(t){return ye.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?ye.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,mr())})).next((function(e){return{batchId:u,changes:lr(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new re(t)).next((function(e){var t=cr();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=cr();return this.indexManager.getCollectionParents(e,i).next((function(o){return ye.forEach(o,(function(o){var u=function(e,t){return new rn(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,Qt.newInvalidDocument(r)))}));var n=cr();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&Kn(a.mutation,i,Wt.empty(),X.now()),bn(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),co=function(){function e(t){Object(p.a)(this,e),this.Tt=t,this.es=new Map,this.ns=new Map}return Object(v.a)(e,[{key:"getBundleMetadata",value:function(e,t){return ye.resolve(this.es.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.es.set(t.id,{id:(n=t).id,version:n.version,createTime:Pr(n.createTime)}),ye.resolve()}},{key:"getNamedQuery",value:function(e,t){return ye.resolve(this.ns.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ns.set(t.name,function(e){return{name:e.name,query:Qi(e.bundledQuery),readTime:Pr(e.readTime)}}(t)),ye.resolve()}}]),e}(),lo=function(){function e(){Object(p.a)(this,e),this.overlays=new Ut(re.comparator),this.ss=new Map}return Object(v.a)(e,[{key:"getOverlay",value:function(e,t){return ye.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=fr();return ye.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ce(e,t,i)})),ye.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.ss.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.ss.delete(n)),ye.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=fr(),i=t.length+1,a=new re(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return ye.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Ut((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=fr(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=fr(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return ye.resolve(s)}},{key:"ce",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.ss.get(r.largestBatchId).delete(n.key);this.ss.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Fi(t,n));var a=this.ss.get(t);void 0===a&&(a=mr(),this.ss.set(t,a)),this.ss.set(t,a.add(n.key))}}]),e}(),fo=function(){function e(){Object(p.a)(this,e),this.rs=new zt(ho.os),this.us=new zt(ho.cs)}return Object(v.a)(e,[{key:"isEmpty",value:function(){return this.rs.isEmpty()}},{key:"addReference",value:function(e,t){var n=new ho(e,t);this.rs=this.rs.add(n),this.us=this.us.add(n)}},{key:"hs",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.ls(new ho(e,t))}},{key:"fs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ds",value:function(e){var t=this,n=new re(new ee([])),r=new ho(n,e),i=new ho(n,e+1),a=[];return this.us.forEachInRange([r,i],(function(e){t.ls(e),a.push(e.key)})),a}},{key:"_s",value:function(){var e=this;this.rs.forEach((function(t){return e.ls(t)}))}},{key:"ls",value:function(e){this.rs=this.rs.delete(e),this.us=this.us.delete(e)}},{key:"ws",value:function(e){var t=new re(new ee([])),n=new ho(t,e),r=new ho(t,e+1),i=mr();return this.us.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new ho(e,0),n=this.rs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),ho=function(){function e(t,n){Object(p.a)(this,e),this.key=t,this.gs=n}return Object(v.a)(e,null,[{key:"os",value:function(e,t){return re.comparator(e.key,t.key)||Q(e.gs,t.gs)}},{key:"cs",value:function(e,t){return Q(e.gs,t.gs)||re.comparator(e.key,t.key)}}]),e}(),po=function(){function e(t,n){Object(p.a)(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ys=1,this.ps=new zt(ho.os)}return Object(v.a)(e,[{key:"checkEmpty",value:function(e){return ye.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ys;this.ys++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new Mi(i,t,n,r);this.mutationQueue.push(a);var o,u=Object(s.a)(r);try{for(u.s();!(o=u.n()).done;){var c=o.value;this.ps=this.ps.add(new ho(c.key,i)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast())}}catch(l){u.e(l)}finally{u.f()}return ye.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return ye.resolve(this.Is(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Ts(n),i=r<0?0:r;return ye.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return ye.resolve(0===this.mutationQueue.length?-1:this.ys-1)}},{key:"getAllMutationBatches",value:function(e){return ye.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new ho(t,0),i=new ho(t,Number.POSITIVE_INFINITY),a=[];return this.ps.forEachInRange([r,i],(function(e){var t=n.Is(e.gs);a.push(t)})),ye.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new zt(Q);return t.forEach((function(e){var t=new ho(e,0),i=new ho(e,Number.POSITIVE_INFINITY);n.ps.forEachInRange([t,i],(function(e){r=r.add(e.gs)}))})),ye.resolve(this.Es(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;re.isDocumentKey(i)||(i=i.child(""));var a=new ho(new re(i),0),o=new zt(Q);return this.ps.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.gs)),!0)}),a),ye.resolve(this.Es(o))}},{key:"Es",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Is(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;R(0===this.As(t.batchId,"removed")),this.mutationQueue.shift();var r=this.ps;return ye.forEach(t.mutations,(function(i){var a=new ho(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ps=r}))}},{key:"bn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new ho(t,0),r=this.ps.firstAfterOrEqual(n);return ye.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,ye.resolve()}},{key:"As",value:function(e,t){return this.Ts(e)}},{key:"Ts",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"Is",value:function(e){var t=this.Ts(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),vo=function(){function e(t){Object(p.a)(this,e),this.Rs=t,this.docs=new Ut(re.comparator),this.size=0}return Object(v.a)(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Rs(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return ye.resolve(n?n.document.mutableCopy():Qt.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=ur();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Qt.newInvalidDocument(e))})),ye.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=ur(),a=t.path,o=new re(a.child("")),u=this.docs.getIteratorFrom(o);u.hasNext();){var s=u.getNext(),c=s.key,l=s.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||he(le(l),n)<=0||(r.has(l.key)||bn(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return ye.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){A()}},{key:"bs",value:function(e,t){return ye.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new mo(this)}},{key:"getSize",value:function(e){return ye.resolve(this.size)}}]),e}(),mo=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(p.a)(this,n),(r=t.call(this)).Xn=e,r}return Object(v.a)(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Xn.addEntry(e,i)):t.Xn.removeEntry(r)})),ye.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Xn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Xn.getEntries(e,t)}}]),n}(Ja),yo=function(){function e(t){Object(p.a)(this,e),this.persistence=t,this.vs=new ar((function(e){return Xt(e)}),Jt),this.lastRemoteSnapshotVersion=J.min(),this.highestTargetId=0,this.Ps=0,this.Vs=new fo,this.targetCount=0,this.Ss=Ba.Vn()}return Object(v.a)(e,[{key:"forEachTarget",value:function(e,t){return this.vs.forEach((function(e,n){return t(n)})),ye.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return ye.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return ye.resolve(this.Ps)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ss.next(),ye.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ps&&(this.Ps=t),ye.resolve()}},{key:"xn",value:function(e){this.vs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ss=new Ba(t),this.highestTargetId=t),e.sequenceNumber>this.Ps&&(this.Ps=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.xn(t),this.targetCount+=1,ye.resolve()}},{key:"updateTargetData",value:function(e,t){return this.xn(t),ye.resolve()}},{key:"removeTargetData",value:function(e,t){return this.vs.delete(t.target),this.Vs.ds(t.targetId),this.targetCount-=1,ye.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.vs.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.vs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),ye.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return ye.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.vs.get(t)||null;return ye.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Vs.hs(t,n),ye.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Vs.fs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),ye.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Vs.ds(t),ye.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Vs.ws(t);return ye.resolve(n)}},{key:"containsKey",value:function(e,t){return ye.resolve(this.Vs.containsKey(t))}}]),e}(),bo=function(){function e(t,n){var r=this;Object(p.a)(this,e),this.Ds={},this.overlays={},this.Cs=new _e(0),this.xs=!1,this.xs=!0,this.referenceDelegate=t(this),this.Ns=new yo(this),this.indexManager=new ja,this.remoteDocumentCache=new vo((function(e){return r.referenceDelegate.ks(e)})),this.Tt=new Vi(n),this.Os=new co(this.Tt)}return Object(v.a)(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.xs=!1,Promise.resolve()}},{key:"started",get:function(){return this.xs}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new lo,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Ds[e.toKey()];return n||(n=new po(t,this.referenceDelegate),this.Ds[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Ns}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Os}},{key:"runTransaction",value:function(e,t,n){var r=this;I("MemoryPersistence","Starting transaction:",e);var i=new go(this.Cs.next());return this.referenceDelegate.Ms(),n(i).next((function(e){return r.referenceDelegate.Fs(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"$s",value:function(e,t){return ye.or(Object.values(this.Ds).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),go=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(p.a)(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return Object(v.a)(n)}(pe),ko=function(){function e(t){Object(p.a)(this,e),this.persistence=t,this.Bs=new fo,this.Ls=null}return Object(v.a)(e,[{key:"Us",get:function(){if(this.Ls)return this.Ls;throw A()}},{key:"addReference",value:function(e,t,n){return this.Bs.addReference(n,t),this.Us.delete(n.toString()),ye.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Bs.removeReference(n,t),this.Us.add(n.toString()),ye.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Us.add(t.toString()),ye.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Bs.ds(t.targetId).forEach((function(e){return n.Us.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Us.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Ms",value:function(){this.Ls=new Set}},{key:"Fs",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ye.forEach(this.Us,(function(r){var i=re.fromPath(r);return t.Ks(e,i).next((function(e){e||n.removeEntry(i,J.min())}))})).next((function(){return t.Ls=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Ks(e,t).next((function(e){e?n.Us.delete(t.toString()):n.Us.add(t.toString())}))}},{key:"ks",value:function(e){return 0}},{key:"Ks",value:function(e,t){var n=this;return ye.or([function(){return ye.resolve(n.Bs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.$s(e,t)}])}}],[{key:"qs",value:function(t){return new e(t)}}]),e}(),Oo=function(){function e(t){Object(p.a)(this,e),this.Tt=t}return Object(v.a)(e,[{key:"$",value:function(e,t,n,r){var i=this,a=new be("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",fi,{unique:!0}),e.createObjectStore("documentMutations")}(e),wo(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=ye.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),wo(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:J.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").W().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",fi,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return ye.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Gs(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Qs(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.js(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.zs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.Ws(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:Ti});t.createIndex("collectionPathOverlayIndex",Ii,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Si,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:vi});t.createIndex("documentKeyIndex",mi),t.createIndex("collectionGroupIndex",yi)}(e)})).next((function(){return i.Hs(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.Js(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:wi}).createIndex("sequenceNumberIndex",ji,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:xi}).createIndex("documentKeyIndex",Ei,{unique:!1})}(e)}))),o}},{key:"Qs",value:function(e){var t=0;return e.store("remoteDocuments").X((function(e,n){t+=Pa(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Gs",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next((function(n){return ye.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",i).next((function(r){return ye.forEach(r,(function(r){R(r.userId===n.userId);var i=Wi(t.Tt,r);return Da(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"js",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.X((function(n,i){var a=new ee(n),o=function(e){return[0,ui(e)]}(a);r.push(t.get(o).next((function(n){return n?ye.resolve():function(n){return t.put({targetId:0,path:ui(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return ye.waitFor(r)}))}))}},{key:"zs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:Oi});var n=t.store("collectionParents"),r=new xa,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:ui(i)})}};return t.store("remoteDocuments").X({Z:!0},(function(e,t){var n=new ee(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").X({Z:!0},(function(e,t){var n=Object(o.a)(e,3),r=(n[0],n[1]),a=(n[2],li(r));return i(a.popLast())}))}))}},{key:"Ws",value:function(e){var t=this,n=e.store("targets");return n.X((function(e,r){var i=Gi(r),a=Hi(t.Tt,i);return n.put(a)}))}},{key:"Hs",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.X((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new re(ee.fromString(i.document.name).popFirst(5)):i.noDocument?re.fromSegments(i.noDocument.path):i.unknownDocument?re.fromSegments(i.unknownDocument.path):A()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return ye.waitFor(r)}))}},{key:"Js",value:function(e,t){var n=this,r=t.store("mutations"),i=eo(this.Tt),a=new bo(ko.qs,this.Tt.oe);return r.W().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:mr();Wi(n.Tt,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),ye.forEach(r,(function(e,r){var o=new w(r),u=ta.ue(n.Tt,o),s=a.getIndexManager(o),c=Ma.ue(o,n.Tt,s,a.referenceDelegate);return new so(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new Di(t,_e.at),e).next()}))}))}}]),e}();function wo(e){e.createObjectStore("targetDocuments",{keyPath:gi}).createIndex("documentTargetsIndex",ki,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",bi,{unique:!0}),e.createObjectStore("targetGlobal")}var jo="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",xo=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(Object(p.a)(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Ys=a,this.window=o,this.document=u,this.Zs=c,this.Xs=l,this.ti=f,this.Cs=null,this.xs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ei=null,this.inForeground=!1,this.ni=null,this.si=null,this.ii=Number.NEGATIVE_INFINITY,this.ri=function(e){return Promise.resolve()},!e.C())throw new M(P.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ya(this,i),this.oi=n+"main",this.Tt=new Vi(s),this.ui=new ge(this.oi,this.ti,new Oo(this.Tt)),this.Ns=new za(this.referenceDelegate,this.Tt),this.remoteDocumentCache=eo(this.Tt),this.Os=new Ji,this.window&&this.window.localStorage?this.ci=this.window.localStorage:(this.ci=null,!1===l&&S("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return Object(v.a)(e,[{key:"start",value:function(){var e=this;return this.ai().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new M(P.FAILED_PRECONDITION,jo);return e.hi(),e.li(),e.fi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Ns.getHighestSequenceNumber(t)}))})).then((function(t){e.Cs=new _e(t,e.Zs)})).then((function(){e.xs=!0})).catch((function(t){return e.ui&&e.ui.close(),Promise.reject(t)}))}},{key:"di",value:function(e){var t=this;return this.ri=function(){var n=Object(l.a)(Object(c.a)().mark((function n(r){return Object(c.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ui.L(function(){var t=Object(l.a)(Object(c.a)().mark((function t(n){return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Ys.enqueueAndForget(Object(l.a)(Object(c.a)().mark((function e(){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ai();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ai",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return To(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e._i(t).next((function(t){t||(e.isPrimary=!1,e.Ys.enqueueRetryable((function(){return e.ri(!1)})))}))})).next((function(){return e.wi(t)})).next((function(n){return e.isPrimary&&!n?e.mi(t).next((function(){return!1})):!!n&&e.gi(t).next((function(){return!0}))}))})).catch((function(t){if(we(t))return I("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return I("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Ys.enqueueRetryable((function(){return e.ri(t)})),e.isPrimary=t}))}},{key:"_i",value:function(e){var t=this;return Eo(e).get("owner").next((function(e){return ye.resolve(t.yi(e))}))}},{key:"pi",value:function(e){return To(e).delete(this.clientId)}},{key:"Ii",value:function(){var e=Object(l.a)(Object(c.a)().mark((function e(){var t,n,r,i,a=this;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Ti(this.ii,18e5)){e.next=6;break}return this.ii=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Pi(e,"clientMetadata");return t.W().next((function(e){var n=a.Ei(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return ye.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.ci){n=Object(s.a)(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.ci.removeItem(this.Ai(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fi",value:function(){var e=this;this.si=this.Ys.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ai().then((function(){return e.Ii()})).then((function(){return e.fi()}))}))}},{key:"yi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"wi",value:function(e){var t=this;return this.Xs?ye.resolve(!0):Eo(e).get("owner").next((function(n){if(null!==n&&t.Ti(n.leaseTimestampMs,5e3)&&!t.Ri(n.ownerId)){if(t.yi(n)&&t.networkEnabled)return!0;if(!t.yi(n)){if(!n.allowTabSynchronization)throw new M(P.FAILED_PRECONDITION,jo);return!1}}return!(!t.networkEnabled||!t.inForeground)||To(e).W().next((function(e){return void 0===t.Ei(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&I("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Object(l.a)(Object(c.a)().mark((function e(){var t=this;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.xs=!1,this.bi(),this.si&&(this.si.cancel(),this.si=null),this.vi(),this.Pi(),e.next=7,this.ui.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new Di(e,_e.at);return t.mi(n).next((function(){return t.pi(n)}))}));case 7:this.ui.close(),this.Vi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ei",value:function(e,t){var n=this;return e.filter((function(e){return n.Ti(e.updateTimeMs,t)&&!n.Ri(e.clientId)}))}},{key:"Si",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return To(t).W().next((function(t){return e.Ei(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.xs}},{key:"getMutationQueue",value:function(e,t){return Ma.ue(e,this.Tt,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Ns}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new Ta(e,this.Tt.oe.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return ta.ue(this.Tt,e)}},{key:"getBundleCache",value:function(){return this.Os}},{key:"runTransaction",value:function(e,t,n){var r=this;I("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.ti)?Ni:14===i?Ri:13===i?Ai:12===i?Ci:11===i?_i:void A();return this.ui.runTransaction(e,o,u,(function(i){return a=new Di(i,r.Cs?r.Cs.next():_e.at),"readwrite-primary"===t?r._i(a).next((function(e){return!!e||r.wi(a)})).next((function(t){if(!t)throw S("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Ys.enqueueRetryable((function(){return r.ri(!1)})),new M(P.FAILED_PRECONDITION,de);return n(a)})).next((function(e){return r.gi(a).next((function(){return e}))})):r.Di(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Di",value:function(e){var t=this;return Eo(e).get("owner").next((function(e){if(null!==e&&t.Ti(e.leaseTimestampMs,5e3)&&!t.Ri(e.ownerId)&&!t.yi(e)&&!(t.Xs||t.allowTabSynchronization&&e.allowTabSynchronization))throw new M(P.FAILED_PRECONDITION,jo)}))}},{key:"gi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Eo(e).put("owner",t)}},{key:"mi",value:function(e){var t=this,n=Eo(e);return n.get("owner").next((function(e){return t.yi(e)?(I("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):ye.resolve()}))}},{key:"Ti",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(S("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"hi",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ni=function(){e.Ys.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ai()}))},this.document.addEventListener("visibilitychange",this.ni),this.inForeground="visible"===this.document.visibilityState)}},{key:"vi",value:function(){this.ni&&(this.document.removeEventListener("visibilitychange",this.ni),this.ni=null)}},{key:"li",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ei=function(){t.bi(),Object(g.z)()&&navigator.appVersion.match(/Version\/1[45]/)&&t.Ys.enterRestrictedMode(!0),t.Ys.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ei))}},{key:"Pi",value:function(){this.ei&&(this.window.removeEventListener("pagehide",this.ei),this.ei=null)}},{key:"Ri",value:function(e){var t;try{var n=null!==(null===(t=this.ci)||void 0===t?void 0:t.getItem(this.Ai(e)));return I("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return S("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"bi",value:function(){if(this.ci)try{this.ci.setItem(this.Ai(this.clientId),String(Date.now()))}catch(e){S("Failed to set zombie client id.",e)}}},{key:"Vi",value:function(){if(this.ci)try{this.ci.removeItem(this.Ai(this.clientId))}catch(e){}}},{key:"Ai",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"C",value:function(){return ge.C()}}]),e}();function Eo(e){return Pi(e,"owner")}function To(e){return Pi(e,"clientMetadata")}function Io(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var So=function(){function e(t,n,r,i){Object(p.a)(this,e),this.targetId=t,this.fromCache=n,this.Ci=r,this.xi=i}return Object(v.a)(e,null,[{key:"Ni",value:function(t,n){var r,i=mr(),a=mr(),o=Object(s.a)(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(c){o.e(c)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),_o=function(){function e(){Object(p.a)(this,e),this.ki=!1}return Object(v.a)(e,[{key:"initialize",value:function(e,t){this.Oi=e,this.indexManager=t,this.ki=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Mi(e,t).next((function(a){return a||i.Fi(e,t,r,n)})).next((function(n){return n||i.$i(e,t)}))}},{key:"Mi",value:function(e,t){var n=this;if(un(t))return ye.resolve(null);var r=hn(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=pn(t,null,"F"),r=hn(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=mr.apply(void 0,Object(d.a)(i));return n.Oi.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Bi(t,i);return n.Li(t,o,a,r.readTime)?n.Mi(e,pn(t,null,"F")):n.qi(e,o,t,r)}))}))})))}))}},{key:"Fi",value:function(e,t,n,r){var i=this;return un(t)||r.isEqual(J.min())?this.$i(e,t):this.Oi.getDocuments(e,n).next((function(a){var o=i.Bi(t,a);return i.Li(t,o,n,r)?i.$i(e,t):(E()<=b.a.DEBUG&&I("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),yn(t)),i.qi(e,o,t,ce(r,-1)))}))}},{key:"Bi",value:function(e,t){var n=new zt(kn(e));return t.forEach((function(t,r){bn(e,r)&&(n=n.add(r))})),n}},{key:"Li",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"$i",value:function(e,t){return E()<=b.a.DEBUG&&I("QueryEngine","Using full collection scan to execute query:",yn(t)),this.Oi.getDocumentsMatchingQuery(e,t,fe.min())}},{key:"qi",value:function(e,t,n,r){return this.Oi.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),Co=function(){function e(t,n,r,i){Object(p.a)(this,e),this.persistence=t,this.Ui=n,this.Tt=i,this.Ki=new Ut(Q),this.Gi=new ar((function(e){return Xt(e)}),Jt),this.Qi=new Map,this.ji=t.getRemoteDocumentCache(),this.Ns=t.getTargetCache(),this.Os=t.getBundleCache(),this.zi(r)}return Object(v.a)(e,[{key:"zi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new so(this.ji,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ji.setIndexManager(this.indexManager),this.Ui.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ki)}))}}]),e}();function Ao(e,t,n,r){return new Co(e,t,n,r)}function Ro(e,t){return No.apply(this,arguments)}function No(){return(No=Object(l.a)(Object(c.a)().mark((function e(t,n){var r;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=D(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.zi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=mr(),c=Object(s.a)(t);try{for(c.s();!(i=c.n()).done;){var l=i.value;a.push(l.batchId);var f,h=Object(s.a)(l.mutations);try{for(h.s();!(f=h.n()).done;){var d=f.value;u=u.add(d.key)}}catch(k){h.e(k)}finally{h.f()}}}catch(k){c.e(k)}finally{c.f()}var p,v=Object(s.a)(n);try{for(v.s();!(p=v.n()).done;){var m=p.value;o.push(m.batchId);var y,b=Object(s.a)(m.mutations);try{for(b.s();!(y=b.n()).done;){var g=y.value;u=u.add(g.key)}}catch(k){b.e(k)}finally{b.f()}}}catch(k){v.e(k)}finally{v.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{Wi:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Do(e,t){var n=D(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.ji.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=ye.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);R(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=mr(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function Po(e){var t=D(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Ns.getLastRemoteSnapshotVersion(e)}))}function Mo(e,t){var n=D(e),r=t.snapshotVersion,i=n.Ki;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.ji.newChangeBuffer({trackRemovals:!0});i=n.Ki;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Ns.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Ns.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(Ve.EMPTY_BYTE_STRING,J.min()).withLastLimboFreeSnapshotVersion(J.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Ns.updateTargetData(e,c))}}));var u=ur(),s=mr();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Lo(e,a,t.documentUpdates).next((function(e){u=e.Hi,s=e.Ji}))),!r.isEqual(J.min())){var c=n.Ns.getLastRemoteSnapshotVersion(e).next((function(t){return n.Ns.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return ye.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.Ki=i,e}))}function Lo(e,t,n){var r=mr(),i=mr();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=ur();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(J.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):I("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Hi:r,Ji:i}}))}function Fo(e,t){var n=D(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function Uo(e,t){var n=D(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Ns.getTargetData(e,t).next((function(i){return i?(r=i,ye.resolve(r)):n.Ns.allocateTargetId(e).next((function(i){return r=new Ui(t,i,0,e.currentSequenceNumber),n.Ns.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ki.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ki=n.Ki.insert(e.targetId,e),n.Gi.set(t,e.targetId)),e}))}function Vo(e,t,n){return Bo.apply(this,arguments)}function Bo(){return(Bo=Object(l.a)(Object(c.a)().mark((function e(t,n,r){var i,a,o;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=D(t),a=i.Ki.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),we(e.t1)){e.next=12;break}throw e.t1;case 12:I("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ki=i.Ki.remove(n),i.Gi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function zo(e,t,n){var r=D(e),i=J.min(),a=mr();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=D(e),i=r.Gi.get(n);return void 0!==i?ye.resolve(r.Ki.get(i)):r.Ns.getTargetData(t,n)}(r,e,hn(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ns.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Ui.getDocumentsMatchingQuery(e,t,n?i:J.min(),n?a:mr())})).next((function(e){return Wo(r,gn(t),e),{documents:e,Yi:a}}))}))}function qo(e,t){var n=D(e),r=D(n.Ns),i=n.Ki.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.ie(e,t).next((function(e){return e?e.target:null}))}))}function Ko(e,t){var n=D(e),r=n.Qi.get(t)||J.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.ji.getAllFromCollectionGroup(e,t,ce(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return Wo(n,t,e),e}))}function Wo(e,t,n){var r=e.Qi.get(t)||J.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Qi.set(t,r)}function Go(e,t,n,r){return Ho.apply(this,arguments)}function Ho(){return(Ho=Object(l.a)(Object(c.a)().mark((function e(t,n,r,i){var a,o,u,l,f,h,d,p,v,m;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=D(t),o=mr(),u=ur(),l=Object(s.a)(r);try{for(l.s();!(f=l.n()).done;)h=f.value,d=n.Zi(h.metadata.name),h.document&&(o=o.add(d)),(p=n.Xi(h)).setReadTime(n.tr(h.metadata.readTime)),u=u.insert(d,p)}catch(c){l.e(c)}finally{l.f()}return v=a.ji.newChangeBuffer({trackRemovals:!0}),e.next=7,Uo(a,function(e){return hn(on(ee.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return m=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Lo(e,v,u).next((function(t){return v.apply(e),t})).next((function(t){return a.Ns.removeMatchingKeysForTargetId(e,m.targetId).next((function(){return a.Ns.addMatchingKeys(e,o,m.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Hi,t.Ji)})).next((function(){return t.Hi}))}))})));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qo(e,t){return $o.apply(this,arguments)}function $o(){return $o=Object(l.a)(Object(c.a)().mark((function e(t,n){var r,i,a,o=arguments;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:mr(),e.next=3,Uo(t,hn(Qi(n.bundledQuery)));case 3:return i=e.sent,a=D(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Pr(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Os.saveNamedQuery(e,n);var o=i.withResumeToken(Ve.EMPTY_BYTE_STRING,t);return a.Ki=a.Ki.insert(o.targetId,o),a.Ns.updateTargetData(e,o).next((function(){return a.Ns.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Ns.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Os.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),$o.apply(this,arguments)}function Yo(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Xo(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Jo(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Zo=function(){function e(t,n,r,i){Object(p.a)(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return Object(v.a)(e,[{key:"nr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"er",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new M(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(S("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),eu=function(){function e(t,n,r){Object(p.a)(this,e),this.targetId=t,this.state=n,this.error=r}return Object(v.a)(e,[{key:"nr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"er",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new M(i.error.code,i.error.message))),a?new e(t,i.state,r):(S("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),tu=function(){function e(t,n){Object(p.a)(this,e),this.clientId=t,this.activeTargetIds=n}return Object(v.a)(e,null,[{key:"er",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=br(),o=0;i&&o<r.activeTargetIds.length;++o)i=Le(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(S("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),nu=function(){function e(t,n){Object(p.a)(this,e),this.clientId=t,this.onlineState=n}return Object(v.a)(e,null,[{key:"er",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(S("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),ru=function(){function e(){Object(p.a)(this,e),this.activeTargetIds=br()}return Object(v.a)(e,[{key:"sr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"ir",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"nr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),iu=function(){function e(t,n,r,i,a){Object(p.a)(this,e),this.window=t,this.Ys=n,this.persistenceKey=r,this.rr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ur=this.cr.bind(this),this.ar=new Ut(Q),this.started=!1,this.hr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.lr=Yo(this.persistenceKey,this.rr),this.dr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ar=this.ar.insert(this.rr,new ru),this._r=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.wr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.mr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.gr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.yr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.ur)}return Object(v.a)(e,[{key:"start",value:function(){var e=Object(l.a)(Object(c.a)().mark((function e(){var t,n,r,i,a,o,u,l,f,h,d,p=this;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Si();case 2:t=e.sent,n=Object(s.a)(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.rr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(Yo(this.persistenceKey,i)))&&(o=tu.er(i,a))&&(this.ar=this.ar.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.pr(),(u=this.storage.getItem(this.gr))&&(l=this.Ir(u))&&this.Tr(l),f=Object(s.a)(this.hr);try{for(f.s();!(h=f.n()).done;)d=h.value,this.cr(d)}catch(c){f.e(c)}finally{f.f()}this.hr=[],this.window.addEventListener("pagehide",(function(){return p.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.dr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Er(this.ar)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ar.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Ar(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Ar(e,t,n),this.Rr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Jo(this.persistenceKey,e));if(n){var r=eu.er(e,n);r&&(t=r.state)}}return this.br.sr(e),this.pr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.br.ir(e),this.pr()}},{key:"isLocalQueryTarget",value:function(e){return this.br.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(Jo(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.vr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Rr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Pr(e)}},{key:"notifyBundleLoaded",value:function(e){this.Vr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.ur),this.removeItem(this.lr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return I("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){I("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){I("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"cr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(I("SharedClientState","EVENT",n.key,n.newValue),n.key===this.lr)return void S("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ys.enqueueRetryable(Object(l.a)(Object(c.a)().mark((function e(){var r,i,a,o,u,s,l;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t._r.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Sr(n.key),e.abrupt("return",t.Dr(r,null));case 6:if(!(i=t.Cr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Dr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.wr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Nr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.kr(a));case 16:e.next=41;break;case 18:if(!t.mr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Or(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Mr(o));case 23:e.next=41;break;case 25:if(n.key!==t.gr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.Ir(n.newValue))){e.next=30;break}return e.abrupt("return",t.Tr(u));case 30:e.next=41;break;case 32:if(n.key!==t.dr){e.next=37;break}s=function(e){var t=_e.at;if(null!=e)try{var n=JSON.parse(e);R("number"==typeof n),t=n}catch(e){S("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==_e.at&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.yr){e.next=41;break}return l=t.Fr(n.newValue),e.next=41,Promise.all(l.map((function(e){return t.syncEngine.$r(e)})));case 41:e.next=44;break;case 43:t.hr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"br",get:function(){return this.ar.get(this.rr)}},{key:"pr",value:function(){this.setItem(this.lr,this.br.nr())}},{key:"Ar",value:function(e,t,n){var r=new Zo(this.currentUser,e,t,n),i=Xo(this.persistenceKey,this.currentUser,e);this.setItem(i,r.nr())}},{key:"Rr",value:function(e){var t=Xo(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Pr",value:function(e){var t={clientId:this.rr,onlineState:e};this.storage.setItem(this.gr,JSON.stringify(t))}},{key:"vr",value:function(e,t,n){var r=Jo(this.persistenceKey,e),i=new eu(e,t,n);this.setItem(r,i.nr())}},{key:"Vr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.yr,t)}},{key:"Sr",value:function(e){var t=this._r.exec(e);return t?t[1]:null}},{key:"Cr",value:function(e,t){var n=this.Sr(e);return tu.er(n,t)}},{key:"Nr",value:function(e,t){var n=this.wr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Zo.er(new w(i),r,t)}},{key:"Or",value:function(e,t){var n=this.mr.exec(e),r=Number(n[1]);return eu.er(r,t)}},{key:"Ir",value:function(e){return nu.er(e)}},{key:"Fr",value:function(e){return JSON.parse(e)}},{key:"kr",value:function(){var e=Object(l.a)(Object(c.a)().mark((function e(t){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Br(t.batchId,t.state,t.error));case 2:I("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Mr",value:function(e){return this.syncEngine.Lr(e.targetId,e.state,e.error)}},{key:"Dr",value:function(e,t){var n=this,r=t?this.ar.insert(e,t):this.ar.remove(e),i=this.Er(this.ar),a=this.Er(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.qr(o,u).then((function(){n.ar=r}))}},{key:"Tr",value:function(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Er",value:function(e){var t=br();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"C",value:function(e){return!(!e||!e.localStorage)}}]),e}(),au=function(){function e(){Object(p.a)(this,e),this.Ur=new ru,this.Kr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Object(v.a)(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Ur.sr(e),this.Kr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Kr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Ur.ir(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Ur.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Kr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Ur.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Ur.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Ur=new ru,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),ou=function(){function e(){Object(p.a)(this,e)}return Object(v.a)(e,[{key:"Gr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),uu=function(){function e(){var t=this;Object(p.a)(this,e),this.Qr=function(){return t.jr()},this.zr=function(){return t.Wr()},this.Hr=[],this.Jr()}return Object(v.a)(e,[{key:"Gr",value:function(e){this.Hr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Qr),window.removeEventListener("offline",this.zr)}},{key:"Jr",value:function(){window.addEventListener("online",this.Qr),window.addEventListener("offline",this.zr)}},{key:"jr",value:function(){I("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Object(s.a)(this.Hr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Wr",value:function(){I("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Object(s.a)(this.Hr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),su={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},cu=function(){function e(t){Object(p.a)(this,e),this.Yr=t.Yr,this.Zr=t.Zr}return Object(v.a)(e,[{key:"Xr",value:function(e){this.eo=e}},{key:"no",value:function(e){this.so=e}},{key:"onMessage",value:function(e){this.io=e}},{key:"close",value:function(){this.Zr()}},{key:"send",value:function(e){this.Yr(e)}},{key:"ro",value:function(){this.eo()}},{key:"oo",value:function(e){this.so(e)}},{key:"uo",value:function(e){this.io(e)}}]),e}(),lu=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(p.a)(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return Object(v.a)(n,[{key:"wo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new k.g;o.setWithCredentials(!0),o.listenOnce(k.c.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case k.a.NO_ERROR:var t=o.getResponseJson();I("Connection","XHR received:",JSON.stringify(t)),i(t);break;case k.a.TIMEOUT:I("Connection",'RPC "'+e+'" timed out'),a(new M(P.DEADLINE_EXCEEDED,"Request time out"));break;case k.a.HTTP_ERROR:var n=o.getStatus();if(I("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson();Array.isArray(r)&&(r=r[0]);var u=null==r?void 0:r.error;if(u&&u.status&&u.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(t)>=0?t:P.UNKNOWN}(u.status);a(new M(s,u.message))}else a(new M(P.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new M(P.UNAVAILABLE,"Connection failed."));break;default:A()}}finally{I("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"yo",value:function(e,t,n){var r=[this.co,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Object(k.h)(),a=Object(k.i)(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new k.d({})),this._o(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;var u=r.join("");I("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new cu({Yr:function(e){l?I("Connection","Not sending because WebChannel is closed:",e):(c||(I("Connection","Opening WebChannel transport."),s.open(),c=!0),I("Connection","WebChannel sending:",e),s.send(e))},Zr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,k.f.EventType.OPEN,(function(){l||I("Connection","WebChannel transport opened.")})),h(s,k.f.EventType.CLOSE,(function(){l||(l=!0,I("Connection","WebChannel transport closed"),f.oo())})),h(s,k.f.EventType.ERROR,(function(e){l||(l=!0,_("Connection","WebChannel transport errored:",e),f.oo(new M(P.UNAVAILABLE,"The operation could not be completed")))})),h(s,k.f.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];R(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){I("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Jn[e];if(void 0!==t)return ir(t)}(a),u=i.message;void 0===o&&(o=P.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.oo(new M(o,u)),s.close()}else I("Connection","WebChannel received:",n),f.uo(n)}})),h(a,k.b.STAT_EVENT,(function(e){e.stat===k.e.PROXY?I("Connection","Detected buffering proxy"):e.stat===k.e.NOPROXY&&I("Connection","Detected no buffering proxy")})),setTimeout((function(){f.ro()}),0),f}}]),n}(function(){function e(t){Object(p.a)(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.co=n+"://"+t.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Object(v.a)(e,[{key:"ho",get:function(){return!1}},{key:"lo",value:function(e,t,n,r,i){var a=this.fo(e,t);I("RestConnection","Sending: ",a,n);var o={};return this._o(o,r,i),this.wo(e,a,o,n).then((function(e){return I("RestConnection","Received: ",e),e}),(function(t){throw _("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"mo",value:function(e,t,n,r,i,a){return this.lo(e,t,n,r,i)}},{key:"_o",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+j,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"fo",value:function(e,t){var n=su[e];return"".concat(this.co,"/v1/").concat(t,":").concat(n)}}]),e}());function fu(){return"undefined"!=typeof window?window:null}function hu(){return"undefined"!=typeof document?document:null}function du(e){return new Ar(e,!0)}var pu=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Object(p.a)(this,e),this.Ys=t,this.timerId=n,this.po=r,this.Io=i,this.To=a,this.Eo=0,this.Ao=null,this.Ro=Date.now(),this.reset()}return Object(v.a)(e,[{key:"reset",value:function(){this.Eo=0}},{key:"bo",value:function(){this.Eo=this.To}},{key:"vo",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Eo+this.Po()),r=Math.max(0,Date.now()-this.Ro),i=Math.max(0,n-r);i>0&&I("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Eo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Ao=this.Ys.enqueueAfterDelay(this.timerId,i,(function(){return t.Ro=Date.now(),e()})),this.Eo*=this.Io,this.Eo<this.po&&(this.Eo=this.po),this.Eo>this.To&&(this.Eo=this.To)}},{key:"Vo",value:function(){null!==this.Ao&&(this.Ao.skipDelay(),this.Ao=null)}},{key:"cancel",value:function(){null!==this.Ao&&(this.Ao.cancel(),this.Ao=null)}},{key:"Po",value:function(){return(Math.random()-.5)*this.Eo}}]),e}(),vu=function(){function e(t,n,r,i,a,o,u,s){Object(p.a)(this,e),this.Ys=t,this.So=r,this.Do=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Co=0,this.xo=null,this.No=null,this.stream=null,this.ko=new pu(t,n)}return Object(v.a)(e,[{key:"Oo",value:function(){return 1===this.state||5===this.state||this.Mo()}},{key:"Mo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Fo()}},{key:"stop",value:function(){var e=Object(l.a)(Object(c.a)().mark((function e(){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Oo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"$o",value:function(){this.state=0,this.ko.reset()}},{key:"Bo",value:function(){var e=this;this.Mo()&&null===this.xo&&(this.xo=this.Ys.enqueueAfterDelay(this.So,6e4,(function(){return e.Lo()})))}},{key:"qo",value:function(e){this.Uo(),this.stream.send(e)}},{key:"Lo",value:function(){var e=Object(l.a)(Object(c.a)().mark((function e(){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Mo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Uo",value:function(){this.xo&&(this.xo.cancel(),this.xo=null)}},{key:"Ko",value:function(){this.No&&(this.No.cancel(),this.No=null)}},{key:"close",value:function(){var e=Object(l.a)(Object(c.a)().mark((function e(t,n){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Uo(),this.Ko(),this.ko.cancel(),this.Co++,4!==t?this.ko.reset():n&&n.code===P.RESOURCE_EXHAUSTED?(S(n.toString()),S("Using maximum backoff delay to prevent overloading the backend."),this.ko.bo()):n&&n.code===P.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Go(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.no(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Go",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Qo(this.Co),n=this.Co;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=Object(o.a)(t,2),i=r[0],a=r[1];e.Co===n&&e.jo(i,a)}),(function(n){t((function(){var t=new M(P.UNKNOWN,"Fetching auth token failed: "+n.message);return e.zo(t)}))}))}},{key:"jo",value:function(e,t){var n=this,r=this.Qo(this.Co);this.stream=this.Wo(e,t),this.stream.Xr((function(){r((function(){return n.state=2,n.No=n.Ys.enqueueAfterDelay(n.Do,1e4,(function(){return n.Mo()&&(n.state=3),Promise.resolve()})),n.listener.Xr()}))})),this.stream.no((function(e){r((function(){return n.zo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Fo",value:function(){var e=this;this.state=5,this.ko.vo(Object(l.a)(Object(c.a)().mark((function t(){return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"zo",value:function(e){return I("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Qo",value:function(e){var t=this;return function(n){t.Ys.enqueueAndForget((function(){return t.Co===e?n():(I("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),mu=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,i,a,o,u){var s;return Object(p.a)(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).Tt=o,s}return Object(v.a)(n,[{key:"Wo",value:function(e,t){return this.connection.yo("Listen",e,t)}},{key:"onMessage",value:function(e){this.ko.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:A()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.yt?(R(void 0===t||"string"==typeof t),Ve.fromBase64String(t||"")):(R(void 0===t||t instanceof Uint8Array),Ve.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?P.UNKNOWN:ir(e.code);return new M(t,e.message||"")}(o);n=new jr(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=Ur(e,s.document.name),l=Pr(s.document.updateTime),f=s.document.createTime?Pr(s.document.createTime):J.min(),h=new Gt({mapValue:{fields:s.document.fields}}),d=Qt.newFoundDocument(c,l,f,h),p=s.targetIds||[],v=s.removedTargetIds||[];n=new Or(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var y=Ur(e,m.document),b=m.readTime?Pr(m.readTime):J.min(),g=Qt.newNoDocument(y,b),k=m.removedTargetIds||[];n=new Or([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var O=t.documentRemove;O.document;var w=Ur(e,O.document),j=O.removedTargetIds||[];n=new Or([],j,w,null)}else{if(!("filter"in t))return A();t.filter;var x=t.filter;x.targetId;var E=x.count||0,T=new nr(E),I=x.targetId;n=new wr(I,T)}return n}(this.Tt,e),n=function(e){if(!("targetChange"in e))return J.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?J.min():t.readTime?Pr(t.readTime):J.min()}(e);return this.listener.Ho(t,n)}},{key:"Jo",value:function(e){var t={};t.database=zr(this.Tt),t.addTarget=function(e,t){var n,r=t.target;return(n=Zt(r)?{documents:$r(e,r)}:{query:Yr(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Nr(e,t.resumeToken):t.snapshotVersion.compareTo(J.min())>0&&(n.readTime=Rr(e,t.snapshotVersion.toTimestamp())),n}(this.Tt,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return A()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.Tt,e);n&&(t.labels=n),this.qo(t)}},{key:"Yo",value:function(e){var t={};t.database=zr(this.Tt),t.removeTarget=e,this.qo(t)}}]),n}(vu),yu=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,i,a,o,u){var s;return Object(p.a)(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).Tt=o,s.Zo=!1,s}return Object(v.a)(n,[{key:"Xo",get:function(){return this.Zo}},{key:"start",value:function(){this.Zo=!1,this.lastStreamToken=void 0,Object(i.a)(Object(a.a)(n.prototype),"start",this).call(this)}},{key:"Go",value:function(){this.Zo&&this.tu([])}},{key:"Wo",value:function(e,t){return this.connection.yo("Write",e,t)}},{key:"onMessage",value:function(e){if(R(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Zo){this.ko.reset();var t=function(e,t){return e&&e.length>0?(R(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Pr(e.updateTime):Pr(t);return n.isEqual(J.min())&&(n=Pr(t)),new Fn(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Pr(e.commitTime);return this.listener.eu(n,t)}return R(!e.writeResults||0===e.writeResults.length),this.Zo=!0,this.listener.nu()}},{key:"su",value:function(){var e={};e.database=zr(this.Tt),this.qo(e)}},{key:"tu",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Hr(t.Tt,e)}))};this.qo(n)}}]),n}(vu),bu=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,i,a){var o;return Object(p.a)(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.Tt=a,o.iu=!1,o}return Object(v.a)(n,[{key:"ru",value:function(){if(this.iu)throw new M(P.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"lo",value:function(e,t,n){var r=this;return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=Object(o.a)(i,2),u=a[0],s=a[1];return r.connection.lo(e,t,n,u,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===P.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new M(P.UNKNOWN,e.toString())}))}},{key:"mo",value:function(e,t,n,r){var i=this;return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var u=Object(o.a)(a,2),s=u[0],c=u[1];return i.connection.mo(e,t,n,s,c,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===P.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new M(P.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.iu=!0}}]),n}(function(){return Object(v.a)((function e(){Object(p.a)(this,e)}))}());var gu=function(){function e(t,n){Object(p.a)(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.ou=0,this.uu=null,this.cu=!0}return Object(v.a)(e,[{key:"au",value:function(){var e=this;0===this.ou&&(this.hu("Unknown"),this.uu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.uu=null,e.lu("Backend didn't respond within 10 seconds."),e.hu("Offline"),Promise.resolve()})))}},{key:"fu",value:function(e){"Online"===this.state?this.hu("Unknown"):(this.ou++,this.ou>=1&&(this.du(),this.lu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.hu("Offline")))}},{key:"set",value:function(e){this.du(),this.ou=0,"Online"===e&&(this.cu=!1),this.hu(e)}},{key:"hu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"lu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.cu?(S(t),this.cu=!1):I("OnlineStateTracker",t)}},{key:"du",value:function(){null!==this.uu&&(this.uu.cancel(),this.uu=null)}}]),e}(),ku=Object(v.a)((function e(t,n,r,i,a){var o=this;Object(p.a)(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this._u=[],this.wu=new Map,this.mu=new Set,this.gu=[],this.yu=a,this.yu.Gr((function(e){r.enqueueAndForget(Object(l.a)(Object(c.a)().mark((function e(){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Au(o),!e.t0){e.next=5;break}return I("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Object(l.a)(Object(c.a)().mark((function e(t){var n;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=D(t)).mu.add(4),e.next=4,ju(n);case 4:return n.pu.set("Unknown"),n.mu.delete(4),e.next=8,Ou(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.pu=new gu(r,i)}));function Ou(e){return wu.apply(this,arguments)}function wu(){return(wu=Object(l.a)(Object(c.a)().mark((function e(t){var n,r,i;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Au(t)){e.next=18;break}n=Object(s.a)(t.gu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})))).apply(this,arguments)}function ju(e){return xu.apply(this,arguments)}function xu(){return(xu=Object(l.a)(Object(c.a)().mark((function e(t){var n,r,i;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Object(s.a)(t.gu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)}function Eu(e,t){var n=D(e);n.wu.has(t.targetId)||(n.wu.set(t.targetId,t),Cu(n)?_u(n):os(n).Mo()&&Iu(n,t))}function Tu(e,t){var n=D(e),r=os(n);n.wu.delete(t),r.Mo()&&Su(n,t),0===n.wu.size&&(r.Mo()?r.Bo():Au(n)&&n.pu.set("Unknown"))}function Iu(e,t){e.Iu.Ft(t.targetId),os(e).Jo(t)}function Su(e,t){e.Iu.Ft(t),os(e).Yo(t)}function _u(e){e.Iu=new Er({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},ie:function(t){return e.wu.get(t)||null}}),os(e).start(),e.pu.au()}function Cu(e){return Au(e)&&!os(e).Oo()&&e.wu.size>0}function Au(e){return 0===D(e).mu.size}function Ru(e){e.Iu=void 0}function Nu(e){return Du.apply(this,arguments)}function Du(){return(Du=Object(l.a)(Object(c.a)().mark((function e(t){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.wu.forEach((function(e,n){Iu(t,e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pu(e,t){return Mu.apply(this,arguments)}function Mu(){return(Mu=Object(l.a)(Object(c.a)().mark((function e(t,n){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ru(t),Cu(t)?(t.pu.fu(n),_u(t)):t.pu.set("Unknown");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lu(e,t,n){return Fu.apply(this,arguments)}function Fu(){return Fu=Object(l.a)(Object(c.a)().mark((function e(t,n,r){var i;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.pu.set("Online"),!(n instanceof jr&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Object(l.a)(Object(c.a)().mark((function e(t,n){var r,i,a,o;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Object(s.a)(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.wu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.wu.delete(o),t.Iu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),I("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Uu(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Or?t.Iu.Qt(n):n instanceof wr?t.Iu.Zt(n):t.Iu.Wt(n),r.isEqual(J.min())){e.next=29;break}return e.prev=14,e.next=17,Po(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Iu.ee(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.wu.get(r);i&&e.wu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.wu.get(t);if(n){e.wu.set(t,n.withResumeToken(Ve.EMPTY_BYTE_STRING,n.snapshotVersion)),Su(e,t);var r=new Ui(n.target,t,1,n.sequenceNumber);Iu(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),I("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Uu(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),Fu.apply(this,arguments)}function Uu(e,t,n){return Vu.apply(this,arguments)}function Vu(){return(Vu=Object(l.a)(Object(c.a)().mark((function e(t,n,r){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(we(n)){e.next=2;break}throw n;case 2:return t.mu.add(1),e.next=5,ju(t);case 5:t.pu.set("Offline"),r||(r=function(){return Po(t.localStore)}),t.asyncQueue.enqueueRetryable(Object(l.a)(Object(c.a)().mark((function e(){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.mu.delete(1),e.next=6,Ou(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bu(e,t){return t().catch((function(n){return Uu(e,n,t)}))}function zu(e){return qu.apply(this,arguments)}function qu(){return(qu=Object(l.a)(Object(c.a)().mark((function e(t){var n,r,i,a;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=D(t),r=us(n),i=n._u.length>0?n._u[n._u.length-1].batchId:-1;case 2:if(!Ku(n)){e.next=19;break}return e.prev=3,e.next=6,Fo(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n._u.length&&r.Bo(),e.abrupt("break",19);case 10:i=a.batchId,Wu(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Uu(n,e.t0);case 17:e.next=2;break;case 19:Gu(n)&&Hu(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}function Ku(e){return Au(e)&&e._u.length<10}function Wu(e,t){e._u.push(t);var n=us(e);n.Mo()&&n.Xo&&n.tu(t.mutations)}function Gu(e){return Au(e)&&!us(e).Oo()&&e._u.length>0}function Hu(e){us(e).start()}function Qu(e){return $u.apply(this,arguments)}function $u(){return($u=Object(l.a)(Object(c.a)().mark((function e(t){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:us(t).su();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yu(e){return Xu.apply(this,arguments)}function Xu(){return(Xu=Object(l.a)(Object(c.a)().mark((function e(t){var n,r,i,a;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=us(t),r=Object(s.a)(t._u);try{for(r.s();!(i=r.n()).done;)a=i.value,n.tu(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ju(e,t,n){return Zu.apply(this,arguments)}function Zu(){return(Zu=Object(l.a)(Object(c.a)().mark((function e(t,n,r){var i,a;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t._u.shift(),a=Li.from(i,n,r),e.next=3,Bu(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,zu(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function es(e,t){return ts.apply(this,arguments)}function ts(){return ts=Object(l.a)(Object(c.a)().mark((function e(t,n){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&us(t).Xo,!e.t0){e.next=4;break}return e.next=4,function(){var e=Object(l.a)(Object(c.a)().mark((function e(t,n){var r,i;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!rr(i=n.code)||i===P.ABORTED){e.next=7;break}return r=t._u.shift(),us(t).$o(),e.next=5,Bu(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,zu(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Gu(t)&&Hu(t);case 5:case"end":return e.stop()}}),e)}))),ts.apply(this,arguments)}function ns(e,t){return rs.apply(this,arguments)}function rs(){return(rs=Object(l.a)(Object(c.a)().mark((function e(t,n){var r,i;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=D(t)).asyncQueue.verifyOperationInProgress(),I("RemoteStore","RemoteStore received new credentials"),i=Au(r),r.mu.add(3),e.next=6,ju(r);case 6:return i&&r.pu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.mu.delete(3),e.next=12,Ou(r);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function is(e,t){return as.apply(this,arguments)}function as(){return(as=Object(l.a)(Object(c.a)().mark((function e(t,n){var r;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=D(t),!n){e.next=7;break}return r.mu.delete(2),e.next=5,Ou(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.mu.add(2),e.next=12,ju(r);case 12:r.pu.set("Unknown");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function os(e){return e.Tu||(e.Tu=function(e,t,n){var r=D(e);return r.ru(),new mu(t,r.connection,r.authCredentials,r.appCheckCredentials,r.Tt,n)}(e.datastore,e.asyncQueue,{Xr:Nu.bind(null,e),no:Pu.bind(null,e),Ho:Lu.bind(null,e)}),e.gu.push(function(){var t=Object(l.a)(Object(c.a)().mark((function t(n){return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Tu.$o(),Cu(e)?_u(e):e.pu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Tu.stop();case 6:Ru(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Tu}function us(e){return e.Eu||(e.Eu=function(e,t,n){var r=D(e);return r.ru(),new yu(t,r.connection,r.authCredentials,r.appCheckCredentials,r.Tt,n)}(e.datastore,e.asyncQueue,{Xr:Qu.bind(null,e),no:es.bind(null,e),nu:Yu.bind(null,e),eu:Ju.bind(null,e)}),e.gu.push(function(){var t=Object(l.a)(Object(c.a)().mark((function t(n){return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Eu.$o(),t.next=4,zu(e);case 4:t.next=9;break;case 6:return t.next=8,e.Eu.stop();case 8:e._u.length>0&&(I("RemoteStore","Stopping write stream with ".concat(e._u.length," pending writes")),e._u=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Eu}var ss=function(){function e(t,n,r,i,a){Object(p.a)(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new L,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Object(v.a)(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new M(P.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function cs(e,t){if(S("AsyncQueue","".concat(t,": ").concat(e)),we(e))return new M(P.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var ls=function(){function e(t){Object(p.a)(this,e),this.comparator=t?function(e,n){return t(e,n)||re.comparator(e.key,n.key)}:function(e,t){return re.comparator(e.key,t.key)},this.keyedMap=cr(),this.sortedSet=new Ut(this.comparator)}return Object(v.a)(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),fs=function(){function e(){Object(p.a)(this,e),this.Au=new Ut(re.comparator)}return Object(v.a)(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Au.get(t);n?0!==e.type&&3===n.type?this.Au=this.Au.insert(t,e):3===e.type&&1!==n.type?this.Au=this.Au.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Au=this.Au.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Au=this.Au.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Au=this.Au.remove(t):1===e.type&&2===n.type?this.Au=this.Au.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Au=this.Au.insert(t,{type:2,doc:e.doc}):A():this.Au=this.Au.insert(t,e)}},{key:"Ru",value:function(){var e=[];return this.Au.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),hs=function(){function e(t,n,r,i,a,o,u,s,c){Object(p.a)(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s,this.hasCachedResults=c}return Object(v.a)(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vn(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,ls.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),ds=Object(v.a)((function e(){Object(p.a)(this,e),this.bu=void 0,this.listeners=[]})),ps=Object(v.a)((function e(){Object(p.a)(this,e),this.queries=new ar((function(e){return mn(e)}),vn),this.onlineState="Unknown",this.vu=new Set}));function vs(e,t){return ms.apply(this,arguments)}function ms(){return(ms=Object(l.a)(Object(c.a)().mark((function e(t,n){var r,i,a,o,u;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=D(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new ds),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.bu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=cs(e.t0,"Initialization of query '".concat(yn(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Pu(r.onlineState),o.bu&&n.Vu(o.bu)&&Os(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])})))).apply(this,arguments)}function ys(e,t){return bs.apply(this,arguments)}function bs(){return(bs=Object(l.a)(Object(c.a)().mark((function e(t,n){var r,i,a,o,u;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=D(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gs(e,t){var n,r=D(e),i=!1,a=Object(s.a)(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,c=r.queries.get(u);if(c){var l,f=Object(s.a)(c.listeners);try{for(f.s();!(l=f.n()).done;){l.value.Vu(o)&&(i=!0)}}catch(h){f.e(h)}finally{f.f()}c.bu=o}}}catch(h){a.e(h)}finally{a.f()}i&&Os(r)}function ks(e,t,n){var r=D(e),i=r.queries.get(t);if(i){var a,o=Object(s.a)(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function Os(e){e.vu.forEach((function(e){e.next()}))}var ws=function(){function e(t,n,r){Object(p.a)(this,e),this.query=t,this.Su=n,this.Du=!1,this.Cu=null,this.onlineState="Unknown",this.options=r||{}}return Object(v.a)(e,[{key:"Vu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Object(s.a)(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new hs(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Du?this.xu(e)&&(this.Su.next(e),a=!0):this.Nu(e,this.onlineState)&&(this.ku(e),a=!0),this.Cu=e,a}},{key:"onError",value:function(e){this.Su.error(e)}},{key:"Pu",value:function(e){this.onlineState=e;var t=!1;return this.Cu&&!this.Du&&this.Nu(this.Cu,e)&&(this.ku(this.Cu),t=!0),t}},{key:"Nu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Ou||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"xu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Cu&&this.Cu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"ku",value:function(e){e=hs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Du=!0,this.Su.next(e)}}]),e}(),js=function(){function e(t,n){Object(p.a)(this,e),this.Mu=t,this.byteLength=n}return Object(v.a)(e,[{key:"Fu",value:function(){return"metadata"in this.Mu}}]),e}(),xs=function(){function e(t){Object(p.a)(this,e),this.Tt=t}return Object(v.a)(e,[{key:"Zi",value:function(e){return Ur(this.Tt,e)}},{key:"Xi",value:function(e){return e.metadata.exists?Wr(this.Tt,e.document,!1):Qt.newNoDocument(this.Zi(e.metadata.name),this.tr(e.metadata.readTime))}},{key:"tr",value:function(e){return Pr(e)}}]),e}(),Es=function(){function e(t,n,r){Object(p.a)(this,e),this.$u=t,this.localStore=n,this.Tt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Ts(t)}return Object(v.a)(e,[{key:"Bu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.Mu.namedQuery)this.queries.push(e.Mu.namedQuery);else if(e.Mu.documentMetadata){this.documents.push({metadata:e.Mu.documentMetadata}),e.Mu.documentMetadata.exists||++t;var n=ee.fromString(e.Mu.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Mu.document&&(this.documents[this.documents.length-1].document=e.Mu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"Lu",value:function(e){var t,n=new Map,r=new xs(this.Tt),i=Object(s.a)(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Zi(a.metadata.name),c=Object(s.a)(a.metadata.queries);try{for(c.s();!(o=c.n()).done;){var l=o.value,f=(n.get(l)||mr()).add(u);n.set(l,f)}}catch(h){c.e(h)}finally{c.f()}}}}catch(h){i.e(h)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Object(l.a)(Object(c.a)().mark((function e(){var t,n,r,i,a;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Go(this.localStore,new xs(this.Tt),this.documents,this.$u.id);case 2:t=e.sent,n=this.Lu(this.documents),r=Object(s.a)(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,Qo(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,qu:this.collectionGroups,Uu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ts(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var Is=Object(v.a)((function e(t){Object(p.a)(this,e),this.key=t})),Ss=Object(v.a)((function e(t){Object(p.a)(this,e),this.key=t})),_s=function(){function e(t,n){Object(p.a)(this,e),this.query=t,this.Ku=n,this.Gu=null,this.hasCachedResults=!1,this.current=!1,this.Qu=mr(),this.mutatedKeys=mr(),this.ju=kn(t),this.zu=new ls(this.ju)}return Object(v.a)(e,[{key:"Wu",get:function(){return this.Ku}},{key:"Hu",value:function(e,t){var n=this,r=t?t.Ju:new fs,i=t?t.zu:this.zu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=bn(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Yu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.ju(f,s)>0||c&&n.ju(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{zu:o,Ju:r,Li:u,mutatedKeys:a}}},{key:"Yu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.zu;this.zu=e.zu,this.mutatedKeys=e.mutatedKeys;var a=e.Ju.Ru();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return A()}};return n(e)-n(t)}(e.type,t.type)||r.ju(e.doc,t.doc)})),this.Zu(n);var o=t?this.Xu():[],u=0===this.Qu.size&&this.current?1:0,s=u!==this.Gu;return this.Gu=u,0!==a.length||s?{snapshot:new hs(this.query,e.zu,i,a,e.mutatedKeys,0===u,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),tc:o}:{tc:o}}},{key:"Pu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({zu:this.zu,Ju:new fs,mutatedKeys:this.mutatedKeys,Li:!1},!1)):{tc:[]}}},{key:"ec",value:function(e){return!this.Ku.has(e)&&!!this.zu.has(e)&&!this.zu.get(e).hasLocalMutations}},{key:"Zu",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Ku=t.Ku.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Ku=t.Ku.delete(e)})),this.current=e.current)}},{key:"Xu",value:function(){var e=this;if(!this.current)return[];var t=this.Qu;this.Qu=mr(),this.zu.forEach((function(t){e.ec(t.key)&&(e.Qu=e.Qu.add(t.key))}));var n=[];return t.forEach((function(t){e.Qu.has(t)||n.push(new Ss(t))})),this.Qu.forEach((function(e){t.has(e)||n.push(new Is(e))})),n}},{key:"nc",value:function(e){this.Ku=e.Yi,this.Qu=mr();var t=this.Hu(e.documents);return this.applyChanges(t,!0)}},{key:"sc",value:function(){return hs.fromInitialDocuments(this.query,this.zu,this.mutatedKeys,0===this.Gu,this.hasCachedResults)}}]),e}(),Cs=Object(v.a)((function e(t,n,r){Object(p.a)(this,e),this.query=t,this.targetId=n,this.view=r})),As=Object(v.a)((function e(t){Object(p.a)(this,e),this.key=t,this.ic=!1})),Rs=function(){function e(t,n,r,i,a,o){Object(p.a)(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.rc={},this.oc=new ar((function(e){return mn(e)}),vn),this.uc=new Map,this.cc=new Set,this.ac=new Ut(re.comparator),this.hc=new Map,this.lc=new fo,this.fc={},this.dc=new Map,this._c=Ba.Sn(),this.onlineState="Unknown",this.wc=void 0}return Object(v.a)(e,[{key:"isPrimaryClient",get:function(){return!0===this.wc}}]),e}();function Ns(e,t){return Ds.apply(this,arguments)}function Ds(){return(Ds=Object(l.a)(Object(c.a)().mark((function e(t,n){var r,i,a,o,u,s;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Tc(t),!(o=r.oc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.sc(),e.next=15;break;case 6:return e.next=8,Uo(r.localStore,hn(n));case 8:return u=e.sent,r.isPrimaryClient&&Eu(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,Ps(r,n,i,"current"===s,u.resumeToken);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ps(e,t,n,r,i){return Ms.apply(this,arguments)}function Ms(){return Ms=Object(l.a)(Object(c.a)().mark((function e(t,n,r,i,a){var o,u,s,f,h,d;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.mc=function(e,n,r){return function(){var e=Object(l.a)(Object(c.a)().mark((function e(t,n,r,i){var a,o,u;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Hu(r),e.t0=a.Li,!e.t0){e.next=6;break}return e.next=5,zo(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Hu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(nc(t,n.targetId,u.tc),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,zo(t.localStore,n,!0);case 3:return o=e.sent,u=new _s(n,o.Yi),s=u.Hu(o.documents),f=kr.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),h=u.applyChanges(s,t.isPrimaryClient,f),nc(t,r,h.tc),d=new Cs(n,r,u),e.abrupt("return",(t.oc.set(n,d),t.uc.has(r)?t.uc.get(r).push(n):t.uc.set(r,[n]),h.snapshot));case 11:case"end":return e.stop()}}),e)}))),Ms.apply(this,arguments)}function Ls(e,t){return Fs.apply(this,arguments)}function Fs(){return(Fs=Object(l.a)(Object(c.a)().mark((function e(t,n){var r,i,a;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=D(t),i=r.oc.get(n),!((a=r.uc.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.uc.set(i.targetId,a.filter((function(e){return!vn(e,n)}))),void r.oc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Vo(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Tu(r.remoteStore,i.targetId),ec(r,i.targetId)})).catch(ve);case 9:e.next=14;break;case 11:return ec(r,i.targetId),e.next=14,Vo(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Us(e,t,n){return Vs.apply(this,arguments)}function Vs(){return(Vs=Object(l.a)(Object(c.a)().mark((function e(t,n,r){var i,a,o;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ic(t),e.prev=1,e.next=4,function(e,t){var n,r,i=D(e),a=X.now(),o=t.reduce((function(e,t){return e.add(t.key)}),mr());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=ur(),c=mr();return i.ji.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(c=c.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],c=Object(s.a)(t);try{for(c.s();!(o=c.n()).done;){var l=o.value,f=Wn(l,n.get(l.key).overlayedDocument);null!=f&&u.push(new Qn(l.key,f,Ht(f.value.mapValue),Un.exists(!0)))}}catch(h){c.e(h)}finally{c.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,c);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:lr(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.fc[e.currentUser.toKey()];r||(r=new Ut(Q)),r=r.insert(t,n),e.fc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,ac(i,a.changes);case 9:return e.next=11,zu(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=cs(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})))).apply(this,arguments)}function Bs(e,t){return zs.apply(this,arguments)}function zs(){return(zs=Object(l.a)(Object(c.a)().mark((function e(t,n){var r,i;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=D(t),e.prev=1,e.next=4,Mo(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.hc.get(t);n&&(R(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.ic=!0:e.modifiedDocuments.size>0?R(n.ic):e.removedDocuments.size>0&&(R(n.ic),n.ic=!1))})),e.next=8,ac(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,ve(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}function qs(e,t,n){var r=D(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.oc.forEach((function(e,n){var r=n.view.Pu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=D(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Object(s.a)(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Pu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&Os(n)}(r.eventManager,t),i.length&&r.rc.Ho(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Ks(e,t,n){return Ws.apply(this,arguments)}function Ws(){return(Ws=Object(l.a)(Object(c.a)().mark((function e(t,n,r){var i,a,o,u,s,l;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=D(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.hc.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new Ut(re.comparator)).insert(o,Qt.newNoDocument(o,J.min())),s=mr().add(o),l=new gr(J.min(),new Map,new zt(Q),u,s),e.next=9,Bs(i,l);case 9:i.ac=i.ac.remove(o),i.hc.delete(n),ic(i),e.next=16;break;case 14:return e.next=16,Vo(i.localStore,n,!1).then((function(){return ec(i,n,r)})).catch(ve);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gs(e,t){return Hs.apply(this,arguments)}function Hs(){return(Hs=Object(l.a)(Object(c.a)().mark((function e(t,n){var r,i,a;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=D(t),i=n.batch.batchId,e.prev=1,e.next=4,Do(r.localStore,n);case 4:return a=e.sent,Zs(r,i,null),Js(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,ac(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,ve(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function Qs(e,t,n){return $s.apply(this,arguments)}function $s(){return($s=Object(l.a)(Object(c.a)().mark((function e(t,n,r){var i,a;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=D(t),e.prev=1,e.next=4,function(e,t){var n=D(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return R(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Zs(i,n,r),Js(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,ac(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,ve(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function Ys(e,t){return Xs.apply(this,arguments)}function Xs(){return(Xs=Object(l.a)(Object(c.a)().mark((function e(t,n){var r,i,a,o;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Au((r=D(t)).remoteStore)||I("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=D(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.dc.get(i)||[]).push(n),r.dc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=cs(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}function Js(e,t){(e.dc.get(t)||[]).forEach((function(e){e.resolve()})),e.dc.delete(t)}function Zs(e,t,n){var r=D(e),i=r.fc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.fc[r.currentUser.toKey()]=i}}function ec(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Object(s.a)(e.uc.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.oc.delete(a),n&&e.rc.gc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.uc.delete(t),e.isPrimaryClient&&e.lc.ds(t).forEach((function(t){e.lc.containsKey(t)||tc(e,t)}))}function tc(e,t){e.cc.delete(t.path.canonicalString());var n=e.ac.get(t);null!==n&&(Tu(e.remoteStore,n),e.ac=e.ac.remove(t),e.hc.delete(n),ic(e))}function nc(e,t,n){var r,i=Object(s.a)(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof Is?(e.lc.addReference(a.key,t),rc(e,a)):a instanceof Ss?(I("SyncEngine","Document no longer in limbo: "+a.key),e.lc.removeReference(a.key,t),e.lc.containsKey(a.key)||tc(e,a.key)):A()}}catch(o){i.e(o)}finally{i.f()}}function rc(e,t){var n=t.key,r=n.path.canonicalString();e.ac.get(n)||e.cc.has(r)||(I("SyncEngine","New document in limbo: "+n),e.cc.add(r),ic(e))}function ic(e){for(;e.cc.size>0&&e.ac.size<e.maxConcurrentLimboResolutions;){var t=e.cc.values().next().value;e.cc.delete(t);var n=new re(ee.fromString(t)),r=e._c.next();e.hc.set(r,new As(n)),e.ac=e.ac.insert(n,r),Eu(e.remoteStore,new Ui(hn(on(n.path)),r,2,_e.at))}}function ac(e,t,n){return oc.apply(this,arguments)}function oc(){return oc=Object(l.a)(Object(c.a)().mark((function e(t,n,r){var i,a,o,u;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=D(t),a=[],o=[],u=[],e.t0=i.oc.isEmpty(),e.t0){e.next=9;break}return i.oc.forEach((function(e,t){u.push(i.mc(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=So.Ni(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.rc.Ho(a),e.next=9,function(){var e=Object(l.a)(Object(c.a)().mark((function e(t,n){var r,i,a,o,u,l,f,h;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=D(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return ye.forEach(n,(function(t){return ye.forEach(t.Ci,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return ye.forEach(t.xi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),we(e.t0)){e.next=10;break}throw e.t0;case 10:I("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Object(s.a)(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(l=r.Ki.get(u),f=l.snapshotVersion,h=l.withLastLimboFreeSnapshotVersion(f),r.Ki=r.Ki.insert(u,h))}catch(c){i.e(c)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),oc.apply(this,arguments)}function uc(e,t){return sc.apply(this,arguments)}function sc(){return(sc=Object(l.a)(Object(c.a)().mark((function e(t,n){var r,i;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=D(t)).currentUser.isEqual(n)){e.next=11;break}return I("SyncEngine","User change. New user:",n.toKey()),e.next=5,Ro(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.dc.forEach((function(e){e.forEach((function(e){e.reject(new M(P.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.dc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,ac(r,i.Wi);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cc(e,t){var n=D(e),r=n.hc.get(t);if(r&&r.ic)return mr().add(r.key);var i=mr(),a=n.uc.get(t);if(!a)return i;var o,u=Object(s.a)(a);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=n.oc.get(c);i=i.unionWith(l.view.Wu)}}catch(f){u.e(f)}finally{u.f()}return i}function lc(e,t){return fc.apply(this,arguments)}function fc(){return(fc=Object(l.a)(Object(c.a)().mark((function e(t,n){var r,i,a;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=D(t),e.next=3,zo(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.nc(i),e.abrupt("return",(r.isPrimaryClient&&nc(r,n.targetId,a.tc),a));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hc(e,t){return dc.apply(this,arguments)}function dc(){return(dc=Object(l.a)(Object(c.a)().mark((function e(t,n){var r;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=D(t),e.abrupt("return",Ko(r.localStore,n).then((function(e){return ac(r,e)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pc(e,t,n,r){return vc.apply(this,arguments)}function vc(){return(vc=Object(l.a)(Object(c.a)().mark((function e(t,n,r,i){var a,o;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=D(t),e.next=3,function(e,t){var n=D(e),r=D(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.An(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):ye.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,zu(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(Zs(a,n,i||null),Js(a,n),function(e,t){D(D(e).mutationQueue).bn(t)}(a.localStore,n)):A();case 11:return e.next=13,ac(a,o);case 13:e.next=16;break;case 15:I("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mc(e,t){return yc.apply(this,arguments)}function yc(){return(yc=Object(l.a)(Object(c.a)().mark((function e(t,n){var r,i,a,o,u,l,f,h;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Tc(r=D(t)),Ic(r),!0!==n||!0===r.wc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,bc(r,i.toArray());case 5:return a=e.sent,r.wc=!0,e.next=9,is(r.remoteStore,!0);case 9:o=Object(s.a)(a);try{for(o.s();!(u=o.n()).done;)l=u.value,Eu(r.remoteStore,l)}catch(c){o.e(c)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.wc){e.next=25;break}return f=[],h=Promise.resolve(),r.uc.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?f.push(t):h=h.then((function(){return ec(r,t),Vo(r.localStore,t,!0)})),Tu(r.remoteStore,t)})),e.next=19,h;case 19:return e.next=21,bc(r,f);case 21:return function(e){var t=D(e);t.hc.forEach((function(e,n){Tu(t.remoteStore,n)})),t.lc._s(),t.hc=new Map,t.ac=new Ut(re.comparator)}(r),r.wc=!1,e.next=25,is(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bc(e,t,n){return gc.apply(this,arguments)}function gc(){return(gc=Object(l.a)(Object(c.a)().mark((function e(t,n,r){var i,a,o,u,l,f,h,d,p,v,m,y,b,g;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=D(t),a=[],o=[],u=Object(s.a)(n),e.prev=2,u.s();case 4:if((l=u.n()).done){e.next=45;break}if(f=l.value,h=void 0,!(d=i.uc.get(f))||0===d.length){e.next=34;break}return e.next=11,Uo(i.localStore,hn(d[0]));case 11:h=e.sent,p=Object(s.a)(d),e.prev=13,p.s();case 15:if((v=p.n()).done){e.next=24;break}return m=v.value,y=i.oc.get(m),e.next=20,lc(i,y);case 20:(b=e.sent).snapshot&&o.push(b.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),p.e(e.t0);case 29:return e.prev=29,p.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,qo(i.localStore,f);case 36:return g=e.sent,e.next=39,Uo(i.localStore,g);case 39:return h=e.sent,e.next=42,Ps(i,kc(g),f,!1,h.resumeToken);case 42:a.push(h);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.rc.Ho(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])})))).apply(this,arguments)}function kc(e){return an(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Oc(e){var t=D(e);return D(D(t.localStore).persistence).Si()}function wc(e,t,n,r){return jc.apply(this,arguments)}function jc(){return(jc=Object(l.a)(Object(c.a)().mark((function e(t,n,r,i){var a,o,u,s;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=D(t)).wc){e.next=3;break}return e.abrupt("return",void I("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.uc.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,Ko(a.localStore,gn(o[0]));case 10:return u=e.sent,s=gr.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,Ve.EMPTY_BYTE_STRING),e.next=14,ac(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,Vo(a.localStore,n,!0);case 17:return ec(a,n,i),e.abrupt("break",20);case 19:A();case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xc(e,t,n){return Ec.apply(this,arguments)}function Ec(){return(Ec=Object(l.a)(Object(c.a)().mark((function e(t,n,r){var i,a,o,u,l,f,h,d,p;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=Tc(t)).wc){e.next=45;break}a=Object(s.a)(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.uc.has(u)){e.next=10;break}return I("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,qo(i.localStore,u);case 12:return l=e.sent,e.next=15,Uo(i.localStore,l);case 15:return f=e.sent,e.next=18,Ps(i,kc(l),f.targetId,!1,f.resumeToken);case 18:Eu(i.remoteStore,f);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:h=Object(s.a)(r),e.prev=30,p=Object(c.a)().mark((function e(){var t;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=d.value,e.t0=i.uc.has(t),!e.t0){e.next=5;break}return e.next=5,Vo(i.localStore,t,!1).then((function(){Tu(i.remoteStore,t),ec(i,t)})).catch(ve);case 5:case"end":return e.stop()}}),e)})),h.s();case 33:if((d=h.n()).done){e.next=37;break}return e.delegateYield(p(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),h.e(e.t2);case 42:return e.prev=42,h.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])})))).apply(this,arguments)}function Tc(e){var t=D(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Bs.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=cc.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Ks.bind(null,t),t.rc.Ho=gs.bind(null,t.eventManager),t.rc.gc=ks.bind(null,t.eventManager),t}function Ic(e){var t=D(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Gs.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Qs.bind(null,t),t}function Sc(e,t,n){var r=D(e);(function(){var e=Object(l.a)(Object(c.a)().mark((function e(t,n,r){var i,a,o,u,s;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=D(e),r=Pr(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Os.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(Ts(i)),a=new Es(i,t.localStore,n.Tt),e.next=15,n.yc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Bu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.yc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,ac(t,s.Uu,void 0);case 31:return e.next=33,function(e,t){var n=D(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Os.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.qu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(_("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var _c=function(){function e(){Object(p.a)(this,e),this.synchronizeTabs=!1}return Object(v.a)(e,[{key:"initialize",value:function(){var e=Object(l.a)(Object(c.a)().mark((function e(t){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Tt=du(t.databaseInfo.databaseId),this.sharedClientState=this.Ic(t),this.persistence=this.Tc(t),e.next=5,this.persistence.start();case 5:this.localStore=this.Ec(t),this.gcScheduler=this.Ac(t,this.localStore),this.indexBackfillerScheduler=this.Rc(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ac",value:function(e,t){return null}},{key:"Rc",value:function(e,t){return null}},{key:"Ec",value:function(e){return Ao(this.persistence,new _o,e.initialUser,this.Tt)}},{key:"Tc",value:function(e){return new bo(ko.qs,this.Tt)}},{key:"Ic",value:function(e){return new au}},{key:"terminate",value:function(){var e=Object(l.a)(Object(c.a)().mark((function e(){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Cc=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,i){var a;return Object(p.a)(this,n),(a=t.call(this)).bc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return Object(v.a)(n,[{key:"initialize",value:function(){var e=Object(l.a)(Object(c.a)().mark((function e(t){var r=this;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.a)(Object(a.a)(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.bc.initialize(this,t);case 4:return e.next=6,Ic(this.bc.syncEngine);case 6:return e.next=8,zu(this.bc.remoteStore);case 8:return e.next=10,this.persistence.di((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ec",value:function(e){return Ao(this.persistence,new _o,e.initialUser,this.Tt)}},{key:"Ac",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new Qa(n,e.asyncQueue,t)}},{key:"Rc",value:function(e,t){var n=new Se(t,this.persistence);return new Ie(e.asyncQueue,n)}},{key:"Tc",value:function(e){var t=Io(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Na.withCacheSize(this.cacheSizeBytes):Na.DEFAULT;return new xo(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,fu(),hu(),this.Tt,this.sharedClientState,!!this.forceOwnership)}},{key:"Ic",value:function(e){return new au}}]),n}(_c),Ac=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var i;return Object(p.a)(this,n),(i=t.call(this,e,r,!1)).bc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return Object(v.a)(n,[{key:"initialize",value:function(){var e=Object(l.a)(Object(c.a)().mark((function e(t){var r,o=this;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.a)(Object(a.a)(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.bc.syncEngine,e.t0=this.sharedClientState instanceof iu,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Br:pc.bind(null,r),Lr:wc.bind(null,r),qr:xc.bind(null,r),Si:Oc.bind(null,r),$r:hc.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.di(function(){var e=Object(l.a)(Object(c.a)().mark((function e(t){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mc(o.bc.syncEngine,t);case 2:o.gcScheduler&&(t&&!o.gcScheduler.started?o.gcScheduler.start():t||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(t&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():t||o.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ic",value:function(e){var t=fu();if(!iu.C(t))throw new M(P.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Io(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new iu(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(Cc),Rc=function(){function e(){Object(p.a)(this,e)}return Object(v.a)(e,[{key:"initialize",value:function(){var e=Object(l.a)(Object(c.a)().mark((function e(t,n){var r=this;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return qs(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=uc.bind(null,this.syncEngine),e.next=12,is(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new ps}},{key:"createDatastore",value:function(e){var t,n=du(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new lu(t));return function(e,t,n,r){return new bu(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return qs(o.syncEngine,e,0)},a=uu.C()?new uu:new ou,new ku(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new Rs(e,t,n,r,i,a);return o&&(u.wc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Object(l.a)(Object(c.a)().mark((function e(t){var n;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=D(t),I("RemoteStore","RemoteStore shutting down."),n.mu.add(5),e.next=5,ju(n);case 5:n.yu.shutdown(),n.pu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function Nc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Object(l.a)(Object(c.a)().mark((function r(){var i;return Object(c.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Object(l.a)(Object(c.a)().mark((function e(){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.resolve()}}var Dc=function(){function e(t){Object(p.a)(this,e),this.observer=t,this.muted=!1}return Object(v.a)(e,[{key:"next",value:function(e){this.observer.next&&this.vc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.vc(this.observer.error,e):S("Uncaught Error in snapshot listener:",e.toString())}},{key:"Pc",value:function(){this.muted=!0}},{key:"vc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),Pc=function(){function e(t,n){var r=this;Object(p.a)(this,e),this.Vc=t,this.Tt=n,this.metadata=new L,this.buffer=new Uint8Array,this.Sc=new TextDecoder("utf-8"),this.Dc().then((function(e){e&&e.Fu()?r.metadata.resolve(e.Mu.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.Mu))))}),(function(e){return r.metadata.reject(e)}))}return Object(v.a)(e,[{key:"close",value:function(){return this.Vc.cancel()}},{key:"getMetadata",value:function(){var e=Object(l.a)(Object(c.a)().mark((function e(){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"yc",value:function(){var e=Object(l.a)(Object(c.a)().mark((function e(){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Dc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Dc",value:function(){var e=Object(l.a)(Object(c.a)().mark((function e(){var t,n,r,i;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Cc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Sc.decode(t),r=Number(n),isNaN(r)&&this.xc("length string (".concat(n,") is not valid number")),e.next=9,this.Nc(r);case 9:return i=e.sent,e.abrupt("return",new js(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"kc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Cc",value:function(){var e=Object(l.a)(Object(c.a)().mark((function e(){var t,n;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.kc()<0)){e.next=7;break}return e.next=3,this.Oc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.kc())<0&&this.xc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Nc",value:function(){var e=Object(l.a)(Object(c.a)().mark((function e(t){var n;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Oc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.xc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Sc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"xc",value:function(e){throw this.Vc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Oc",value:function(){var e=Object(l.a)(Object(c.a)().mark((function e(){var t,n;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Vc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Mc=function(){function e(t){Object(p.a)(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return Object(v.a)(e,[{key:"lookup",value:function(){var e=Object(l.a)(Object(c.a)().mark((function e(t){var n,r=this;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new M(P.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Object(l.a)(Object(c.a)().mark((function e(t,n){var r,i,a,o,u,s;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=D(t),i=zr(r.Tt)+"/documents",a={documents:n.map((function(e){return Fr(r.Tt,e)}))},e.next=5,r.mo("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=Gr(r.Tt,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());R(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new er(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Object(l.a)(Object(c.a)().mark((function e(){var t,n=this;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=re.fromPath(t);n.mutations.push(new tr(r,n.precondition(r)))})),e.next=7,function(){var e=Object(l.a)(Object(c.a)().mark((function e(t,n){var r,i,a;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=D(t),i=zr(r.Tt)+"/documents",a={writes:n.map((function(e){return Hr(r.Tt,e)}))},e.next=3,r.lo("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw A();t=J.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new M(P.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(J.min())?Un.exists(!1):Un.updateTime(t):Un.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(J.min()))throw new M(P.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Un.updateTime(t)}return Un.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),Lc=function(){function e(t,n,r,i,a){Object(p.a)(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Mc=r.maxAttempts,this.ko=new pu(this.asyncQueue,"transaction_retry")}return Object(v.a)(e,[{key:"run",value:function(){this.Mc-=1,this.Fc()}},{key:"Fc",value:function(){var e=this;this.ko.vo(Object(l.a)(Object(c.a)().mark((function t(){var n,r;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new Mc(e.datastore),(r=e.$c(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Bc(t)}))}))})).catch((function(t){e.Bc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"$c",value:function(e){try{var t=this.updateFunction(e);return!Pe(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Bc",value:function(e){var t=this;this.Mc>0&&this.Lc(e)?(this.Mc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Fc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Lc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!rr(t)}return!1}}]),e}(),Fc=function(){function e(t,n,r,i){var a=this;Object(p.a)(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=w.UNAUTHENTICATED,this.clientId=H.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Object(l.a)(Object(c.a)().mark((function e(t){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return I("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return Object(v.a)(e,[{key:"getConfiguration",value:function(){var e=Object(l.a)(Object(c.a)().mark((function e(){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new M(P.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new L;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Object(l.a)(Object(c.a)().mark((function n(){var r;return Object(c.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=cs(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function Uc(e,t){return Vc.apply(this,arguments)}function Vc(){return Vc=Object(l.a)(Object(c.a)().mark((function e(t,n){var r,i;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),I("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Object(l.a)(Object(c.a)().mark((function e(t){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Ro(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),Vc.apply(this,arguments)}function Bc(e,t){return zc.apply(this,arguments)}function zc(){return(zc=Object(l.a)(Object(c.a)().mark((function e(t,n){var r,i;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,qc(t);case 3:return r=e.sent,I("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return ns(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return ns(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qc(e){return Kc.apply(this,arguments)}function Kc(){return(Kc=Object(l.a)(Object(c.a)().mark((function e(t){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return I("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,Uc(t,new _c);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wc(e){return Gc.apply(this,arguments)}function Gc(){return(Gc=Object(l.a)(Object(c.a)().mark((function e(t){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return I("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,Bc(t,new Rc);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hc(e){return qc(e).then((function(e){return e.persistence}))}function Qc(e){return qc(e).then((function(e){return e.localStore}))}function $c(e){return Wc(e).then((function(e){return e.remoteStore}))}function Yc(e){return Wc(e).then((function(e){return e.syncEngine}))}function Xc(e){return Wc(e).then((function(e){return e.datastore}))}function Jc(e){return Zc.apply(this,arguments)}function Zc(){return(Zc=Object(l.a)(Object(c.a)().mark((function e(t){var n,r;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wc(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=Ns.bind(null,n.syncEngine),r.onUnlisten=Ls.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function el(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new L;return e.asyncQueue.enqueueAndForget(Object(l.a)(Object(c.a)().mark((function i(){return Object(c.a)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Dc({next:function(a){t.enqueueAndForget((function(){return ys(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new M(P.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new M(P.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new ws(on(n.path),a,{includeMetadataChanges:!0,Ou:!0});return vs(e,o)},i.next=3,Jc(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function tl(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new L;return e.asyncQueue.enqueueAndForget(Object(l.a)(Object(c.a)().mark((function i(){return Object(c.a)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Dc({next:function(n){t.enqueueAndForget((function(){return ys(e,o)})),n.fromCache&&"server"===r.source?i.reject(new M(P.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new ws(n,a,{includeMetadataChanges:!0,Ou:!0});return vs(e,o)},i.next=3,Jc(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var nl=new Map;function rl(e,t,n){if(!n)throw new M(P.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function il(e,t,n,r){if(!0===t&&!0===r)throw new M(P.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function al(e){if(!re.isDocumentKey(e))throw new M(P.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function ol(e){if(re.isDocumentKey(e))throw new M(P.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function ul(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":A()}function sl(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new M(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=ul(e);throw new M(P.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function cl(e,t){if(t<=0)throw new M(P.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var ll=function(){function e(t){var n;if(Object(p.a)(this,e),void 0===t.host){if(void 0!==t.ssl)throw new M(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new M(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,il("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return Object(v.a)(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),fl=function(){function e(t,n,r,i){Object(p.a)(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ll({}),this._settingsFrozen=!1}return Object(v.a)(e,[{key:"app",get:function(){if(!this._app)throw new M(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new M(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ll(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new U;switch(e.type){case"gapi":var t=e.client;return new q(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new M(P.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=nl.get(e);t&&(I("ComponentProvider","Removing Datastore"),nl.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function hl(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=sl(e,fl))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&_("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=w.MOCK_USER;else{o=Object(g.g)(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new M(P.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new w(s)}e._authCredentials=new V(new F(o,u))}}var dl=function(){function e(t,n,r){Object(p.a)(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Object(v.a)(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new vl(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),pl=function(){function e(t,n,r){Object(p.a)(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Object(v.a)(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),vl=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,i){var a;return Object(p.a)(this,n),(a=t.call(this,e,r,on(i)))._path=i,a.type="collection",a}return Object(v.a)(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new dl(this.firestore,null,new re(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(pl);function ml(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Object(g.p)(e),rl("collection","path",t),e instanceof fl){var a=ee.fromString.apply(ee,[t].concat(r));return ol(a),new vl(e,null,a)}if(!(e instanceof dl||e instanceof vl))throw new M(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(ee.fromString.apply(ee,[t].concat(r)));return ol(o),new vl(e.firestore,null,o)}function yl(e,t){if(e=sl(e,fl),rl("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new M(P.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new pl(e,null,function(e){return new rn(ee.emptyPath(),e)}(t))}function bl(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Object(g.p)(e),1===arguments.length&&(t=H.R()),rl("doc","path",t),e instanceof fl){var a=ee.fromString.apply(ee,[t].concat(r));return al(a),new dl(e,null,new re(a))}if(!(e instanceof dl||e instanceof vl))throw new M(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(ee.fromString.apply(ee,[t].concat(r)));return al(o),new dl(e.firestore,e instanceof vl?e.converter:null,new re(o))}function gl(e,t){return e=Object(g.p)(e),t=Object(g.p)(t),(e instanceof dl||e instanceof vl)&&(t instanceof dl||t instanceof vl)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function kl(e,t){return e=Object(g.p)(e),t=Object(g.p)(t),e instanceof pl&&t instanceof pl&&e.firestore===t.firestore&&vn(e._query,t._query)&&e.converter===t.converter}var Ol=function(){function e(){var t=this;Object(p.a)(this,e),this.qc=Promise.resolve(),this.Uc=[],this.Kc=!1,this.Gc=[],this.Qc=null,this.jc=!1,this.zc=!1,this.Wc=[],this.ko=new pu(this,"async_queue_retry"),this.Hc=function(){var e=hu();e&&I("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ko.Vo()};var n=hu();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Hc)}return Object(v.a)(e,[{key:"isShuttingDown",get:function(){return this.Kc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Jc(),this.Yc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Kc){this.Kc=!0,this.zc=e||!1;var t=hu();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Hc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Jc(),this.Kc)return new Promise((function(){}));var n=new L;return this.Yc((function(){return t.Kc&&t.zc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Uc.push(e),t.Zc()}))}},{key:"Zc",value:function(){var e=Object(l.a)(Object(c.a)().mark((function e(){var t=this;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Uc.length){e.next=14;break}return e.prev=1,e.next=4,this.Uc[0]();case 4:this.Uc.shift(),this.ko.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),we(e.t0)){e.next=12;break}throw e.t0;case 12:I("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Uc.length>0&&this.ko.vo((function(){return t.Zc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Yc",value:function(e){var t=this,n=this.qc.then((function(){return t.jc=!0,e().catch((function(e){t.Qc=e,t.jc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw S("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.jc=!1,e}))}));return this.qc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Jc(),this.Wc.indexOf(e)>-1&&(t=0);var i=ss.createAndSchedule(this,e,t,n,(function(e){return r.Xc(e)}));return this.Gc.push(i),i}},{key:"Jc",value:function(){this.Qc&&A()}},{key:"verifyOperationInProgress",value:function(){}},{key:"ta",value:function(){var e=Object(l.a)(Object(c.a)().mark((function e(){var t;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.qc,e.next=3,t;case 3:if(t!==this.qc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ea",value:function(e){var t,n=Object(s.a)(this.Gc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"na",value:function(e){var t=this;return this.ta().then((function(){t.Gc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Object(s.a)(t.Gc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.ta()}))}},{key:"sa",value:function(e){this.Wc.push(e)}},{key:"Xc",value:function(e){var t=this.Gc.indexOf(e);this.Gc.splice(t,1)}}]),e}();function wl(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Object(s.a)(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var jl=function(){function e(){Object(p.a)(this,e),this._progressObserver={},this._taskCompletionResolver=new L,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return Object(v.a)(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),xl=-1,El=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,i,a){var o;return Object(p.a)(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new Ol,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return Object(v.a)(n,[{key:"_terminate",value:function(){return this._firestoreClient||Il(this),this._firestoreClient.terminate()}}]),n}(fl);function Tl(e){return e._firestoreClient||Il(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Il(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Ce(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Fc(e._authCredentials,e._appCheckCredentials,e._queue,r)}function Sl(e,t){Ll(e=sl(e,El));var n=Tl(e),r=e._freezeSettings(),i=new Rc;return Cl(n,i,new Cc(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}function _l(e){Ll(e=sl(e,El));var t=Tl(e),n=e._freezeSettings(),r=new Rc;return Cl(t,r,new Ac(r,n.cacheSizeBytes))}function Cl(e,t,n){var r=new L;return e.asyncQueue.enqueue(Object(l.a)(Object(c.a)().mark((function i(){var a;return Object(c.a)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Uc(e,n);case 3:return i.next=5,Bc(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===P.FAILED_PRECONDITION||e.code===P.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(a=i.t0)){i.next=13;break}throw a;case 13:_("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function Al(e){if(e._initialized&&!e._terminated)throw new M(P.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new L;return e._queue.enqueueAndForgetEvenWhileRestricted(Object(l.a)(Object(c.a)().mark((function n(){return Object(c.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Object(l.a)(Object(c.a)().mark((function e(t){var n;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ge.C()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,ge.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(Io(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}function Rl(e){return function(e){var t=new L;return e.asyncQueue.enqueueAndForget(Object(l.a)(Object(c.a)().mark((function n(){return Object(c.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Ys,n.next=3,Yc(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(Tl(e=sl(e,El)))}function Nl(e){return function(e){return e.asyncQueue.enqueue(Object(l.a)(Object(c.a)().mark((function t(){var n,r;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Hc(e);case 2:return n=t.sent,t.next=5,$c(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=D(e);return t.mu.delete(0),Ou(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(Tl(e=sl(e,El)))}function Dl(e){return function(e){return e.asyncQueue.enqueue(Object(l.a)(Object(c.a)().mark((function t(){var n,r;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Hc(e);case 2:return n=t.sent,t.next=5,$c(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Object(l.a)(Object(c.a)().mark((function e(t){var n;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=D(t)).mu.add(0),e.next=4,ju(n);case 4:n.pu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(Tl(e=sl(e,El)))}function Pl(e,t){var n=Tl(e=sl(e,El)),r=new jl;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new Pc(e,t)}(function(e,t){if(e instanceof Uint8Array)return Nc(e,t);if(e instanceof ArrayBuffer)return Nc(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,du(t));e.asyncQueue.enqueueAndForget(Object(l.a)(Object(c.a)().mark((function t(){return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Sc,t.next=3,Yc(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function Ml(e,t){return function(e,t){return e.asyncQueue.enqueue(Object(l.a)(Object(c.a)().mark((function n(){return Object(c.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=D(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Os.getNamedQuery(e,t)}))},n.next=3,Qc(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(Tl(e=sl(e,El)),t).then((function(t){return t?new pl(e,null,t.query):null}))}function Ll(e){if(e._initialized||e._terminated)throw new M(P.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Fl=function(){function e(t){Object(p.a)(this,e),this._byteString=t}return Object(v.a)(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Ve.fromBase64String(t))}catch(t){throw new M(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Ve.fromUint8Array(t))}}]),e}(),Ul=function(){function e(){Object(p.a)(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new M(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ne(n)}return Object(v.a)(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var Vl=Object(v.a)((function e(t){Object(p.a)(this,e),this._methodName=t})),Bl=function(){function e(t,n){if(Object(p.a)(this,e),!isFinite(t)||t<-90||t>90)throw new M(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new M(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object(v.a)(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Q(this._lat,e._lat)||Q(this._long,e._long)}}]),e}(),zl=/^__.*__$/,ql=function(){function e(t,n,r){Object(p.a)(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Object(v.a)(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Qn(e,this.data,this.fieldMask,t,this.fieldTransforms):new Hn(e,this.data,t,this.fieldTransforms)}}]),e}(),Kl=function(){function e(t,n,r){Object(p.a)(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Object(v.a)(e,[{key:"toMutation",value:function(e,t){return new Qn(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function Wl(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw A()}}var Gl=function(){function e(t,n,r,i,a,o){Object(p.a)(this,e),this.settings=t,this.databaseId=n,this.Tt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ia(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Object(v.a)(e,[{key:"path",get:function(){return this.settings.path}},{key:"ra",get:function(){return this.settings.ra}},{key:"oa",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.Tt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ua",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.oa({path:n,ca:!1});return r.aa(e),r}},{key:"ha",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.oa({path:n,ca:!1});return r.ia(),r}},{key:"la",value:function(e){return this.oa({path:void 0,ca:!0})}},{key:"fa",value:function(e){return df(e,this.settings.methodName,this.settings.da||!1,this.path,this.settings._a)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"ia",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.aa(this.path.get(e))}},{key:"aa",value:function(e){if(0===e.length)throw this.fa("Document fields must not be empty");if(Wl(this.ra)&&zl.test(e))throw this.fa('Document fields cannot begin and end with "__"')}}]),e}(),Hl=function(){function e(t,n,r){Object(p.a)(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.Tt=r||du(t)}return Object(v.a)(e,[{key:"wa",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Gl({ra:e,methodName:t,_a:n,path:ne.emptyPath(),ca:!1,da:r},this.databaseId,this.Tt,this.ignoreUndefinedProperties)}}]),e}();function Ql(e){var t=e._freezeSettings(),n=du(e._databaseId);return new Hl(e._databaseId,!!t.ignoreUndefinedProperties,n)}function $l(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.wa(a.merge||a.mergeFields?2:0,t,n,i);cf("Data must be an object, but it was:",o,r);var u,c,l=uf(r,o);if(a.merge)u=new Wt(o.fieldMask),c=o.fieldTransforms;else if(a.mergeFields){var f,h=[],d=Object(s.a)(a.mergeFields);try{for(d.s();!(f=d.n()).done;){var p=lf(t,f.value,n);if(!o.contains(p))throw new M(P.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));pf(h,p)||h.push(p)}}catch(v){d.e(v)}finally{d.f()}u=new Wt(h),c=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,c=o.fieldTransforms;return new ql(new Gt(l),u,c)}var Yl=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.ra)throw 1===e.ra?e.fa("".concat(this._methodName,"() can only appear at the top level of your update data")):e.fa("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(Vl);function Xl(e,t,n){return new Gl({ra:3,_a:t.settings._a,methodName:e._methodName,ca:n},t.databaseId,t.Tt,t.ignoreUndefinedProperties)}var Jl=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"_toFieldTransform",value:function(e){return new Ln(e.path,new _n)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(Vl),Zl=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var i;return Object(p.a)(this,n),(i=t.call(this,e)).ma=r,i}return Object(v.a)(n,[{key:"_toFieldTransform",value:function(e){var t=Xl(this,e,!0),n=this.ma.map((function(e){return of(e,t)})),r=new Cn(n);return new Ln(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Vl),ef=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var i;return Object(p.a)(this,n),(i=t.call(this,e)).ma=r,i}return Object(v.a)(n,[{key:"_toFieldTransform",value:function(e){var t=Xl(this,e,!0),n=this.ma.map((function(e){return of(e,t)})),r=new Rn(n);return new Ln(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Vl),tf=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var i;return Object(p.a)(this,n),(i=t.call(this,e)).ga=r,i}return Object(v.a)(n,[{key:"_toFieldTransform",value:function(e){var t=new Dn(e.Tt,xn(e.Tt,this.ga));return new Ln(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Vl);function nf(e,t,n,r){var i=e.wa(1,t,n);cf("Data must be an object, but it was:",i,r);var a=[],o=Gt.empty();Ne(r,(function(e,r){var u=hf(t,e,n);r=Object(g.p)(r);var s=i.ha(u);if(r instanceof Yl)a.push(u);else{var c=of(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new Wt(a);return new Kl(o,u,i.fieldTransforms)}function rf(e,t,n,r,i,a){var o=e.wa(1,t,n),u=[lf(t,r,n)],s=[i];if(a.length%2!=0)throw new M(P.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(lf(t,a[c])),s.push(a[c+1]);for(var l=[],f=Gt.empty(),h=u.length-1;h>=0;--h)if(!pf(l,u[h])){var d=u[h],p=s[h];p=Object(g.p)(p);var v=o.ha(d);if(p instanceof Yl)l.push(d);else{var m=of(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new Wt(l);return new Kl(f,y,o.fieldTransforms)}function af(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return of(n,e.wa(r?4:3,t))}function of(e,t){if(sf(e=Object(g.p)(e)))return cf("Unsupported field value:",t,e),uf(e,t);if(e instanceof Vl)return function(e,t){if(!Wl(t.ra))throw t.fa("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.fa("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ca&&4!==t.ra)throw t.fa("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Object(s.a)(e);try{for(a.s();!(n=a.n()).done;){var o=of(n.value,t.la(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Object(g.p)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return xn(t.Tt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=X.fromDate(e);return{timestampValue:Rr(t.Tt,n)}}if(e instanceof X){var r=new X(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Rr(t.Tt,r)}}if(e instanceof Bl)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Fl)return{bytesValue:Nr(t.Tt,e._byteString)};if(e instanceof dl){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.fa("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Mr(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.fa("Unsupported field value: ".concat(ul(e)))}(e,t)}function uf(e,t){var n={};return De(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ne(e,(function(e,r){var i=of(r,t.ua(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function sf(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof X||e instanceof Bl||e instanceof Fl||e instanceof dl||e instanceof Vl)}function cf(e,t,n){if(!sf(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=ul(n);throw"an object"===r?t.fa(e+" a custom object"):t.fa(e+" "+r)}}function lf(e,t,n){if((t=Object(g.p)(t))instanceof Ul)return t._internalPath;if("string"==typeof t)return hf(e,t);throw df("Field path arguments must be of type string or ",e,!1,void 0,n)}var ff=new RegExp("[~\\*/\\[\\]]");function hf(e,t,n){if(t.search(ff)>=0)throw df("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Object(r.a)(Ul,Object(d.a)(t.split(".")))._internalPath}catch(i){throw df("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function df(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new M(P.INVALID_ARGUMENT,u+e+s)}function pf(e,t){return e.some((function(e){return e.isEqual(t)}))}var vf=function(){function e(t,n,r,i,a){Object(p.a)(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Object(v.a)(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new dl(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new mf(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(yf("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),mf=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"data",value:function(){return Object(i.a)(Object(a.a)(n.prototype),"data",this).call(this)}}]),n}(vf);function yf(e,t){return"string"==typeof t?hf(e,t):t instanceof Ul?t._internalPath:t._delegate._internalPath}function bf(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new M(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var gf=Object(v.a)((function e(){Object(p.a)(this,e)})),kf=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n)}(gf);function Of(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof gf&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof xf})).length,n=e.filter((function(e){return e instanceof wf})).length;if(t>1||t>0&&n>0)throw new M(P.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,u=Object(s.a)(n);try{for(u.s();!(o=u.n()).done;){e=o.value._apply(e)}}catch(c){u.e(c)}finally{u.f()}return e}var wf=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,i){var a;return Object(p.a)(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return Object(v.a)(n,[{key:"_apply",value:function(e){var t=this._parse(e);return Uf(e._query,t),new pl(e.firestore,e.converter,dn(e._query,t))}},{key:"_parse",value:function(e){var t=Ql(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new M(P.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){Ff(o,a);var c,l=[],f=Object(s.a)(o);try{for(f.s();!(c=f.n()).done;){var h=c.value;l.push(Lf(r,e,h))}}catch(d){f.e(d)}finally{f.f()}u={arrayValue:{values:l}}}else u=Lf(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||Ff(o,a),u=af(n,"where",o,"in"===a||"not-in"===a);return gt.create(i,a,u)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(kf);function jf(e,t,n){var r=t,i=yf("where",e);return wf._create(i,r,n)}var xf=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var i;return Object(p.a)(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return Object(v.a)(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:kt.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=t.getFlattenedFilters(),a=Object(s.a)(i);try{for(a.s();!(n=a.n()).done;){var o=n.value;Uf(r,o),r=dn(r,o)}}catch(u){a.e(u)}finally{a.f()}}(e._query,t),new pl(e.firestore,e.converter,dn(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(gf);var Ef=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var i;return Object(p.a)(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return Object(v.a)(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new M(P.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new M(P.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Lt(t,n);return function(e,t){if(null===sn(e)){var n=cn(e);null!==n&&Vf(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new pl(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new rn(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(kf);function Tf(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=yf("orderBy",e);return Ef._create(n,t)}var If=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,i){var a;return Object(p.a)(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return Object(v.a)(n,[{key:"_apply",value:function(e){return new pl(e.firestore,e.converter,pn(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(kf);function Sf(e){return cl("limit",e),If._create("limit",e,"F")}function _f(e){return cl("limitToLast",e),If._create("limitToLast",e,"L")}var Cf=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,i){var a;return Object(p.a)(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return Object(v.a)(n,[{key:"_apply",value:function(e){var t=Mf(e,this.type,this._docOrFields,this._inclusive);return new pl(e.firestore,e.converter,function(e,t){return new rn(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(kf);function Af(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Cf._create("startAt",t,!0)}function Rf(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Cf._create("startAfter",t,!1)}var Nf=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,i){var a;return Object(p.a)(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return Object(v.a)(n,[{key:"_apply",value:function(e){var t=Mf(e,this.type,this._docOrFields,this._inclusive);return new pl(e.firestore,e.converter,function(e,t){return new rn(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(kf);function Df(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Nf._create("endBefore",t,!1)}function Pf(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Nf._create("endAt",t,!0)}function Mf(e,t,n,r){if(n[0]=Object(g.p)(n[0]),n[0]instanceof vf)return function(e,t,n,r,i){if(!r)throw new M(P.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=Object(s.a)(fn(e));try{for(u.s();!(a=u.n()).done;){var c=a.value;if(c.field.isKeyField())o.push(rt(t,r.key));else{var l=r.data.field(c.field);if(We(l))throw new M(P.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===l){var f=c.field.canonicalString();throw new M(P.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(f,"' (used as the orderBy) does not exist."))}o.push(l)}}}catch(h){u.e(h)}finally{u.f()}return new vt(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=Ql(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new M(P.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new M(P.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!ln(e)&&-1!==c.indexOf("/"))throw new M(P.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(ee.fromString(c));if(!re.isDocumentKey(l))throw new M(P.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new re(l);u.push(rt(t,f))}else{var h=af(n,r,c);u.push(h)}}return new vt(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function Lf(e,t,n){if("string"==typeof(n=Object(g.p)(n))){if(""===n)throw new M(P.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ln(t)&&-1!==n.indexOf("/"))throw new M(P.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(ee.fromString(n));if(!re.isDocumentKey(r))throw new M(P.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return rt(e,new re(r))}if(n instanceof dl)return rt(e,n._key);throw new M(P.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(ul(n),"."))}function Ff(e,t){if(!Array.isArray(e)||0===e.length)throw new M(P.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Uf(e,t){if(t.isInequality()){var n=cn(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new M(P.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=sn(e);null!==i&&Vf(e,r,i)}var a=function(e,t){var n,r=Object(s.a)(e);try{for(r.s();!(n=r.n()).done;){var i,a=n.value,o=Object(s.a)(a.getFlattenedFilters());try{for(o.s();!(i=o.n()).done;){var u=i.value;if(t.indexOf(u.op)>=0)return u.op}}catch(c){o.e(c)}finally{o.f()}}}catch(c){r.e(c)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new M(P.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new M(P.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function Vf(e,t,n){if(!n.isEqual(t))throw new M(P.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var Bf=function(){function e(){Object(p.a)(this,e)}return Object(v.a)(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Ye(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ke(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw A()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Ne(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new Bl(qe(e.latitude),qe(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Ge(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(He(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=ze(e);return new X(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=ee.fromString(e);R(oi(n));var r=new Ae(n.get(1),n.get(3)),i=new re(n.popFirst(5));return r.isEqual(t)||S("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function zf(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var qf=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(p.a)(this,n),(r=t.call(this)).firestore=e,r}return Object(v.a)(n,[{key:"convertBytes",value:function(e){return new Fl(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new dl(this.firestore,null,t)}}]),n}(Bf);var Kf=function(){function e(t,n){Object(p.a)(this,e),this.hasPendingWrites=t,this.fromCache=n}return Object(v.a)(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),Wf=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,i,a,o,u){var s;return Object(p.a)(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return Object(v.a)(n,[{key:"exists",value:function(){return Object(i.a)(Object(a.a)(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new Gf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(yf("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(vf),Gf=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(i.a)(Object(a.a)(n.prototype),"data",this).call(this,e)}}]),n}(Wf),Hf=function(){function e(t,n,r,i){Object(p.a)(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Kf(i.hasPendingWrites,i.fromCache),this.query=r}return Object(v.a)(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Gf(n._firestore,n._userDataWriter,r.key,r,new Kf(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new M(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new Gf(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Kf(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Gf(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Kf(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Qf(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function Qf(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return A()}}function $f(e,t){return e instanceof Wf&&t instanceof Wf?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Hf&&t instanceof Hf&&e._firestore===t._firestore&&kl(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Yf(e){e=sl(e,dl);var t=sl(e.firestore,El);return el(Tl(t),e._key).then((function(n){return lh(t,e,n)}))}var Xf=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(p.a)(this,n),(r=t.call(this)).firestore=e,r}return Object(v.a)(n,[{key:"convertBytes",value:function(e){return new Fl(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new dl(this.firestore,null,t)}}]),n}(Bf);function Jf(e){e=sl(e,dl);var t=sl(e.firestore,El),n=Tl(t),r=new Xf(t);return function(e,t){var n=new L;return e.asyncQueue.enqueueAndForget(Object(l.a)(Object(c.a)().mark((function r(){return Object(c.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Object(l.a)(Object(c.a)().mark((function e(t,n,r){var i,a;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=D(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new M(P.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=cs(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,Qc(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new Wf(t,r,e._key,n,new Kf(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function Zf(e){e=sl(e,dl);var t=sl(e.firestore,El);return el(Tl(t),e._key,{source:"server"}).then((function(n){return lh(t,e,n)}))}function eh(e){e=sl(e,pl);var t=sl(e.firestore,El),n=Tl(t),r=new Xf(t);return bf(e._query),tl(n,e._query).then((function(n){return new Hf(t,r,e,n)}))}function th(e){e=sl(e,pl);var t=sl(e.firestore,El),n=Tl(t),r=new Xf(t);return function(e,t){var n=new L;return e.asyncQueue.enqueueAndForget(Object(l.a)(Object(c.a)().mark((function r(){return Object(c.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Object(l.a)(Object(c.a)().mark((function e(t,n,r){var i,a,o,u,s;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,zo(t,n,!0);case 3:i=e.sent,a=new _s(n,i.Yi),o=a.Hu(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=cs(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,Qc(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new Hf(t,r,e,n)}))}function nh(e){e=sl(e,pl);var t=sl(e.firestore,El),n=Tl(t),r=new Xf(t);return tl(n,e._query,{source:"server"}).then((function(n){return new Hf(t,r,e,n)}))}function rh(e,t,n){e=sl(e,dl);var r=sl(e.firestore,El),i=zf(e.converter,t,n);return ch(r,[$l(Ql(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Un.none())])}function ih(e,t,n){e=sl(e,dl);for(var r=sl(e.firestore,El),i=Ql(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return ch(r,[("string"==typeof(t=Object(g.p)(t))||t instanceof Ul?rf(i,"updateDoc",e._key,t,n,o):nf(i,"updateDoc",e._key,t)).toMutation(e._key,Un.exists(!0))])}function ah(e){return ch(sl(e.firestore,El),[new er(e._key,Un.none())])}function oh(e,t){var n=sl(e.firestore,El),r=bl(e),i=zf(e.converter,t);return ch(n,[$l(Ql(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Un.exists(!1))]).then((function(){return r}))}function uh(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Object(g.p)(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||wl(n[s])||(u=n[s],s++);var f,h,d,p={includeMetadataChanges:u.includeMetadataChanges};if(wl(n[s])){var v=n[s];n[s]=null===(i=v.next)||void 0===i?void 0:i.bind(v),n[s+1]=null===(a=v.error)||void 0===a?void 0:a.bind(v),n[s+2]=null===(o=v.complete)||void 0===o?void 0:o.bind(v)}if(e instanceof dl)h=sl(e.firestore,El),d=on(e._key.path),f={next:function(t){n[s]&&n[s](lh(h,e,t))},error:n[s+1],complete:n[s+2]};else{var m=sl(e,pl);h=sl(m.firestore,El),d=m._query;var y=new Xf(h);f={next:function(e){n[s]&&n[s](new Hf(h,y,m,e))},error:n[s+1],complete:n[s+2]},bf(e._query)}return function(e,t,n,r){var i=new Dc(r),a=new ws(t,i,n);return e.asyncQueue.enqueueAndForget(Object(l.a)(Object(c.a)().mark((function t(){return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=vs,t.next=3,Jc(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Pc(),e.asyncQueue.enqueueAndForget(Object(l.a)(Object(c.a)().mark((function t(){return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=ys,t.next=3,Jc(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Tl(h),d,p,f)}function sh(e,t){return function(e,t){var n=new Dc(t);return e.asyncQueue.enqueueAndForget(Object(l.a)(Object(c.a)().mark((function t(){return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){D(e).vu.add(t),t.next()},t.next=3,Jc(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Pc(),e.asyncQueue.enqueueAndForget(Object(l.a)(Object(c.a)().mark((function t(){return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){D(e).vu.delete(t)},t.next=3,Jc(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Tl(e=sl(e,El)),wl(t)?t:{next:t})}function ch(e,t){return function(e,t){var n=new L;return e.asyncQueue.enqueueAndForget(Object(l.a)(Object(c.a)().mark((function r(){return Object(c.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=Us,r.next=3,Yc(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(Tl(e),t)}function lh(e,t,n){var r=n.docs.get(t._key),i=new Xf(e);return new Wf(e,i,t._key,r,new Kf(n.hasPendingWrites,n.fromCache),t.converter)}var fh={maxAttempts:5},hh=function(){function e(t,n){Object(p.a)(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Ql(t)}return Object(v.a)(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=dh(e,this._firestore),i=zf(r.converter,t,n),a=$l(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Un.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=dh(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Object(g.p)(t))||t instanceof Ul?rf(this._dataReader,"WriteBatch.update",i._key,t,n,o):nf(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Un.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=dh(e,this._firestore);return this._mutations=this._mutations.concat(new er(t._key,Un.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new M(P.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function dh(e,t){if((e=Object(g.p)(e)).firestore!==t)throw new M(P.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var ph=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var i;return Object(p.a)(this,n),(i=t.call(this,e,r))._firestore=e,i}return Object(v.a)(n,[{key:"get",value:function(e){var t=this,r=dh(e,this._firestore),o=new Xf(this._firestore);return Object(i.a)(Object(a.a)(n.prototype),"get",this).call(this,e).then((function(e){return new Wf(t._firestore,o,r._key,e._document,new Kf(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){Object(p.a)(this,e),this._firestore=t,this._transaction=n,this._dataReader=Ql(t)}return Object(v.a)(e,[{key:"get",value:function(e){var t=this,n=dh(e,this._firestore),r=new qf(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return A();var i=e[0];if(i.isFoundDocument())return new vf(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new vf(t._firestore,r,n._key,null,n.converter);throw A()}))}},{key:"set",value:function(e,t,n){var r=dh(e,this._firestore),i=zf(r.converter,t,n),a=$l(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=dh(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Object(g.p)(t))||t instanceof Ul?rf(this._dataReader,"Transaction.update",i._key,t,n,o):nf(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=dh(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function vh(e,t,n){e=sl(e,El);var r=Object.assign(Object.assign({},fh),n);return function(e){if(e.maxAttempts<1)throw new M(P.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new L;return e.asyncQueue.enqueueAndForget(Object(l.a)(Object(c.a)().mark((function i(){var a;return Object(c.a)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Xc(e);case 2:a=i.sent,new Lc(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(Tl(e),(function(n){return t(new ph(e,n))}),r)}function mh(){return new Yl("deleteField")}function yh(){return new Jl("serverTimestamp")}function bh(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Zl("arrayUnion",t)}function gh(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ef("arrayRemove",t)}function kh(e){return new tf("increment",e)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){j=e}(m.SDK_VERSION),Object(m._registerComponent)(new y.a("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new El(new B(e.getProvider("auth-internal")),new W(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new M(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ae(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Object(m.registerVersion)(O,"3.8.4",e),Object(m.registerVersion)(O,"3.8.4","esm2017")}()}).call(this,n(69))},function(e,t,n){"use strict";n.d(t,"a",(function(){return Z})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return te})),n.d(t,"d",(function(){return H})),n.d(t,"e",(function(){return w})),n.d(t,"f",(function(){return k})),n.d(t,"g",(function(){return O})),n.d(t,"h",(function(){return g})),n.d(t,"i",(function(){return T})),n.d(t,"j",(function(){return ve})),n.d(t,"k",(function(){return ne})),n.d(t,"l",(function(){return $})),n.d(t,"m",(function(){return z})),n.d(t,"n",(function(){return C})),n.d(t,"o",(function(){return I})),n.d(t,"p",(function(){return Q})),n.d(t,"q",(function(){return K}));var r,i=n(0),a=n(4),o=n(5),u=n(2),s=n(3),c=n(11),l=n(12),f=n(45),h=n(15),d=n(59),p=n(9),v=n(18);function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));var y,b="popstate";function g(e){void 0===e&&(e={});var t,n=e,i=n.initialEntries,a=void 0===i?["/"]:i,o=n.initialIndex,u=n.v5Compat,s=void 0!==u&&u;t=a.map((function(e,t){return p(e,"string"===typeof e?null:e.state,0===t?"default":void 0)}));var c=h(null==o?t.length-1:o),l=r.Pop,f=null;function h(e){return Math.min(Math.max(e,0),t.length-1)}function d(){return t[c]}function p(e,n,r){void 0===n&&(n=null);var i=E(t?d().pathname:"/",e,n,r);return j("/"===i.pathname.charAt(0),"relative pathnames are not supported in memory history: "+JSON.stringify(e)),i}function v(e){return"string"===typeof e?e:T(e)}return{get index(){return c},get action(){return l},get location(){return d()},createHref:v,createURL:function(e){return new URL(v(e),"http://localhost")},encodeLocation:function(e){var t="string"===typeof e?I(e):e;return{pathname:t.pathname||"",search:t.search||"",hash:t.hash||""}},push:function(e,n){l=r.Push;var i=p(e,n);c+=1,t.splice(c,t.length,i),s&&f&&f({action:l,location:i,delta:1})},replace:function(e,n){l=r.Replace;var i=p(e,n);t[c]=i,s&&f&&f({action:l,location:i,delta:0})},go:function(e){l=r.Pop;var n=h(c+e),i=t[n];c=n,f&&f({action:l,location:i,delta:e})},listen:function(e){return f=e,function(){f=null}}}}function k(e){return void 0===e&&(e={}),S((function(e,t){var n=e.location;return E("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:T(t)}),null,e)}function O(e){return void 0===e&&(e={}),S((function(e,t){var n=I(e.location.hash.substr(1)),r=n.pathname,i=void 0===r?"/":r,a=n.search,o=void 0===a?"":a,u=n.hash;return E("",{pathname:i,search:o,hash:void 0===u?"":u},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){var n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){var i=e.location.href,a=i.indexOf("#");r=-1===a?i:i.slice(0,a)}return r+"#"+("string"===typeof t?t:T(t))}),(function(e,t){j("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),e)}function w(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function j(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function x(e,t){return{usr:e.state,key:e.key,idx:t}}function E(e,t,n,r){return void 0===n&&(n=null),m({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?I(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function T(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function I(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function S(e,t,n,i){void 0===i&&(i={});var a=i,o=a.window,u=void 0===o?document.defaultView:o,s=a.v5Compat,c=void 0!==s&&s,l=u.history,f=r.Pop,h=null,d=p();function p(){return(l.state||{idx:null}).idx}function v(){f=r.Pop;var e=p(),t=null==e?null:e-d;d=e,h&&h({action:f,location:g.location,delta:t})}function y(e){var t="null"!==u.location.origin?u.location.origin:u.location.href,n="string"===typeof e?e:T(e);return w(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==d&&(d=0,l.replaceState(m({},l.state,{idx:d}),""));var g={get action(){return f},get location(){return e(u,l)},listen:function(e){if(h)throw new Error("A history only accepts one active listener");return u.addEventListener(b,v),h=e,function(){u.removeEventListener(b,v),h=null}},createHref:function(e){return t(u,e)},createURL:y,encodeLocation:function(e){var t=y(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){f=r.Push;var i=E(g.location,e,t);n&&n(i,e);var a=x(i,d=p()+1),o=g.createHref(i);try{l.pushState(a,"",o)}catch(s){u.location.assign(o)}c&&h&&h({action:f,location:g.location,delta:1})},replace:function(e,t){f=r.Replace;var i=E(g.location,e,t);n&&n(i,e);var a=x(i,d=p()),o=g.createHref(i);l.replaceState(a,"",o),c&&h&&h({action:f,location:g.location,delta:0})},go:function(e){return l.go(e)}};return g}function _(e,t,n){return void 0===t&&(t=[]),void 0===n&&(n=new Set),e.map((function(e,r){var i=[].concat(Object(v.a)(t),[r]),a="string"===typeof e.id?e.id:i.join("-");return w(!0!==e.index||!e.children,"Cannot specify children on an index route"),w(!n.has(a),'Found a route id collision on id "'+a+"\".  Route id's must be globally unique within Data Router usages"),n.add(a),function(e){return!0===e.index}(e)?m({},e,{id:a}):m({},e,{id:a,children:e.children?_(e.children,i,n):void 0})}))}function C(e,t,n){void 0===n&&(n="/");var r=K(("string"===typeof t?I(t):t).pathname||"/",n);if(null==r)return null;var i=A(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=B(i[o],q(r));return a}function A(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(w(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var u=$([r,o.relativePath]),s=n.concat(o);e.children&&e.children.length>0&&(w(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+u+'".'),A(e.children,t,s,u)),(null!=e.path||e.index)&&t.push({path:u,score:V(u,e.index),routesMeta:s})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=Object(p.a)(R(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(u){a.e(u)}finally{a.f()}}else i(e,t)})),t}function R(e){var t=e.split("/");if(0===t.length)return[];var n=Object(d.a)(t),r=n[0],i=n.slice(1),a=r.endsWith("?"),o=r.replace(/\?$/,"");if(0===i.length)return a?[o,""]:[o];var u=R(i.join("/")),s=[];return s.push.apply(s,Object(v.a)(u.map((function(e){return""===e?o:[o,e].join("/")})))),a&&s.push.apply(s,Object(v.a)(u)),s.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(y||(y={}));var N=/^:\w+$/,D=3,P=2,M=1,L=10,F=-2,U=function(e){return"*"===e};function V(e,t){var n=e.split("/"),r=n.length;return n.some(U)&&(r+=F),t&&(r+=P),n.filter((function(e){return!U(e)})).reduce((function(e,t){return e+(N.test(t)?D:""===t?M:L)}),r)}function B(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=z({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:$([i,l.pathname]),pathnameBase:Y($([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=$([i,l.pathnameBase]))}return a}function z(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);W("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=Object(h.a)(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return W(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c[n]||"",t),e}),{}),pathname:u,pathnameBase:s,pattern:e}}function q(e){try{return decodeURI(e)}catch(t){return W(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function K(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function W(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function G(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function H(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function Q(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=I(e):(w(!(i=m({},e)).pathname||!i.pathname.includes("?"),G("?","pathname","search",i)),w(!i.pathname||!i.pathname.includes("#"),G("#","pathname","hash",i)),w(!i.search||!i.search.includes("#"),G("#","search","hash",i)));var a,o=""===e||""===i.pathname,u=o?"/":i.pathname;if(r||null==u)a=n;else{var s=t.length-1;if(u.startsWith("..")){for(var c=u.split("/");".."===c[0];)c.shift(),s-=1;i.pathname=c.join("/")}a=s>=0?t[s]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?I(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:X(a),hash:J(u)}}(i,a),f=u&&"/"!==u&&u.endsWith("/"),h=(o||"."===u)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!h||(l.pathname+="/"),l}var $=function(e){return e.join("/").replace(/\/\/+/g,"/")},Y=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},X=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},J=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},Z=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n)}(Object(f.a)(Error)),ee=function(){function e(t,n){var r,i=this;Object(s.a)(this,e),this.pendingKeysSet=new Set,this.subscribers=new Set,this.deferredKeys=[],w(t&&"object"===typeof t&&!Array.isArray(t),"defer() only accepts plain objects"),this.abortPromise=new Promise((function(e,t){return r=t})),this.controller=new AbortController;var a=function(){return r(new Z("Deferred data aborted"))};this.unlistenAbortSignal=function(){return i.controller.signal.removeEventListener("abort",a)},this.controller.signal.addEventListener("abort",a),this.data=Object.entries(t).reduce((function(e,t){var n=Object(h.a)(t,2),r=n[0],a=n[1];return Object.assign(e,Object(o.a)({},r,i.trackPromise(r,a)))}),{}),this.done&&this.unlistenAbortSignal(),this.init=n}return Object(u.a)(e,[{key:"trackPromise",value:function(e,t){var n=this;if(!(t instanceof Promise))return t;this.deferredKeys.push(e),this.pendingKeysSet.add(e);var r=Promise.race([t,this.abortPromise]).then((function(t){return n.onSettle(r,e,null,t)}),(function(t){return n.onSettle(r,e,t)}));return r.catch((function(){})),Object.defineProperty(r,"_tracked",{get:function(){return!0}}),r}},{key:"onSettle",value:function(e,t,n,r){return this.controller.signal.aborted&&n instanceof Z?(this.unlistenAbortSignal(),Object.defineProperty(e,"_error",{get:function(){return n}}),Promise.reject(n)):(this.pendingKeysSet.delete(t),this.done&&this.unlistenAbortSignal(),n?(Object.defineProperty(e,"_error",{get:function(){return n}}),this.emit(!1,t),Promise.reject(n)):(Object.defineProperty(e,"_data",{get:function(){return r}}),this.emit(!1,t),r))}},{key:"emit",value:function(e,t){this.subscribers.forEach((function(n){return n(e,t)}))}},{key:"subscribe",value:function(e){var t=this;return this.subscribers.add(e),function(){return t.subscribers.delete(e)}}},{key:"cancel",value:function(){var e=this;this.controller.abort(),this.pendingKeysSet.forEach((function(t,n){return e.pendingKeysSet.delete(n)})),this.emit(!0)}},{key:"resolveData",value:function(){var e=Object(a.a)(Object(i.a)().mark((function e(t){var n,r,a=this;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!1,this.done){e.next=7;break}return r=function(){return a.cancel()},t.addEventListener("abort",r),e.next=6,new Promise((function(e){a.subscribe((function(n){t.removeEventListener("abort",r),(n||a.done)&&e(n)}))}));case 6:n=e.sent;case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"done",get:function(){return 0===this.pendingKeysSet.size}},{key:"unwrappedData",get:function(){return w(null!==this.data&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce((function(e,t){var n=Object(h.a)(t,2),r=n[0],i=n[1];return Object.assign(e,Object(o.a)({},r,function(e){if(!function(e){return e instanceof Promise&&!0===e._tracked}(e))return e;if(e._error)throw e._error;return e._data}(i)))}),{})}},{key:"pendingKeys",get:function(){return Array.from(this.pendingKeysSet)}}]),e}();var te=Object(u.a)((function e(t,n,r,i){Object(s.a)(this,e),void 0===i&&(i=!1),this.status=t,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}));function ne(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var re=["post","put","patch","delete"],ie=new Set(re),ae=["get"].concat(re),oe=new Set(ae),ue=new Set([301,302,303,307,308]),se=new Set([307,308]),ce={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},le={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},fe={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},he=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,de="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,pe=!de;function ve(e){w(e.routes.length>0,"You must provide a non-empty routes array to createRouter");var t,n=_(e.routes),u=null,s=new Set,c=null,l=null,f=null,d=null!=e.hydrationData,b=C(n,e.history.location,e.basename),g=null;if(null==b){var k=Ce(404,{pathname:e.history.location.pathname}),O=_e(n),j=O.matches,x=O.route;b=j,g=Object(o.a)({},x.id,k)}var T,I,S=!b.some((function(e){return e.route.loader}))||null!=e.hydrationData,A={historyAction:e.history.action,location:e.history.location,matches:b,initialized:S,navigation:ce,restoreScrollPosition:null==e.hydrationData&&null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||g,fetchers:new Map,blockers:new Map},R=r.Pop,N=!1,D=!1,P=!1,M=[],L=[],F=new Map,U=0,V=-1,B=new Map,z=new Set,q=new Map,G=new Map,H=new Map,Q=!1;function $(e){A=m({},A,e),s.forEach((function(e){return e(A)}))}function Y(i,a){var o,u,s,c=null!=A.actionData&&null!=A.navigation.formMethod&&Fe(A.navigation.formMethod)&&"loading"===A.navigation.state&&!0!==(null==(o=i.state)?void 0:o._isRedirect);s=a.actionData?Object.keys(a.actionData).length>0?a.actionData:null:c?A.actionData:null;var l,f=a.loaderData?Ie(A.loaderData,a.loaderData,a.matches||[],a.errors):A.loaderData,d=Object(p.a)(H);try{for(d.s();!(l=d.n()).done;){ze(Object(h.a)(l.value,1)[0])}}catch(y){d.e(y)}finally{d.f()}var v=!0===N||null!=A.navigation.formMethod&&Fe(A.navigation.formMethod)&&!0!==(null==(u=i.state)?void 0:u._isRedirect);t&&(n=t,t=void 0),$(m({},a,{actionData:s,loaderData:f,historyAction:R,location:i,initialized:!0,navigation:ce,revalidation:"idle",restoreScrollPosition:$e(i,a.matches||A.matches),preventScrollReset:v,blockers:new Map(A.blockers)})),D||R===r.Pop||(R===r.Push?e.history.push(i,i.state):R===r.Replace&&e.history.replace(i,i.state)),R=r.Pop,N=!1,D=!1,P=!1,M=[],L=[]}function X(e,t){return J.apply(this,arguments)}function J(){return J=Object(a.a)(Object(i.a)().mark((function t(n,a){var o,u,s,c,l,f,h,d,p,v;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("number"!==typeof n){t.next=3;break}return e.history.go(n),t.abrupt("return");case 3:if(o=me(n,a),u=o.path,s=o.submission,c=o.error,l=A.location,f=m({},f=E(A.location,u,a&&a.state),e.history.encodeLocation(f)),h=a&&null!=a.replace?a.replace:void 0,d=r.Push,!0===h?d=r.Replace:!1===h||null!=s&&Fe(s.formMethod)&&s.formAction===A.location.pathname+A.location.search&&(d=r.Replace),p=a&&"preventScrollReset"in a?!0===a.preventScrollReset:void 0,!(v=Ge({currentLocation:l,nextLocation:f,historyAction:d}))){t.next=15;break}return qe(v,{state:"blocked",location:f,proceed:function(){qe(v,{state:"proceeding",proceed:void 0,reset:void 0,location:f}),X(n,a)},reset:function(){ze(v),$({blockers:new Map(A.blockers)})}}),t.abrupt("return");case 15:return t.next=17,Z(d,f,{submission:s,pendingError:c,preventScrollReset:p,replace:a&&a.replace});case 17:return t.abrupt("return",t.sent);case 18:case"end":return t.stop()}}),t)}))),J.apply(this,arguments)}function Z(e,t,n){return ee.apply(this,arguments)}function ee(){return ee=Object(a.a)(Object(i.a)().mark((function r(a,u,s){var c,l,f,h,d,p,v,y,b,g,k,O,w,j,x,E;return Object(i.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(I&&I.abort(),I=null,R=a,D=!0===(s&&s.startUninterruptedRevalidation),Qe(A.location,A.matches),N=!0===(s&&s.preventScrollReset),c=t||n,l=s&&s.overrideNavigation,f=C(c,u,e.basename)){r.next=15;break}return h=Ce(404,{pathname:u.pathname}),d=_e(c),p=d.matches,v=d.route,He(),Y(u,{matches:p,loaderData:{},errors:Object(o.a)({},v.id,h)}),r.abrupt("return");case 15:if(i=A.location,T=u,i.pathname!==T.pathname||i.search!==T.search||i.hash===T.hash||s&&s.submission&&Fe(s.submission.formMethod)){r.next=18;break}return Y(u,{matches:f}),r.abrupt("return");case 18:if(I=new AbortController,y=je(e.history,u,I.signal,s&&s.submission),!s||!s.pendingError){r.next=24;break}g=Object(o.a)({},Se(f).route.id,s.pendingError),r.next=35;break;case 24:if(!(s&&s.submission&&Fe(s.submission.formMethod))){r.next=35;break}return r.next=27,te(y,u,s.submission,f,{replace:s.replace});case 27:if(!(k=r.sent).shortCircuited){r.next=30;break}return r.abrupt("return");case 30:b=k.pendingActionData,g=k.pendingActionError,O=m({state:"loading",location:u},s.submission),l=O,y=new Request(y.url,{signal:y.signal});case 35:return r.next=37,re(y,u,f,l,s&&s.submission,s&&s.replace,b,g);case 37:if(w=r.sent,j=w.shortCircuited,x=w.loaderData,E=w.errors,!j){r.next=43;break}return r.abrupt("return");case 43:I=null,Y(u,m({matches:f},b?{actionData:b}:{},{loaderData:x,errors:E}));case 45:case"end":return r.stop()}var i,T}),r)}))),ee.apply(this,arguments)}function te(e,t,n,r,i){return ne.apply(this,arguments)}function ne(){return ne=Object(a.a)(Object(i.a)().mark((function e(t,n,a,u,s){var c,l,f,h;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(we(),$({navigation:m({state:"submitting",location:n},a)}),(l=We(u,n)).route.action){e.next=8;break}c={type:y.error,error:Ce(405,{method:t.method,pathname:n.pathname,routeId:l.route.id})},e.next=13;break;case 8:return e.next=10,Oe("action",t,l,u,T.basename);case 10:if(c=e.sent,!t.signal.aborted){e.next=13;break}return e.abrupt("return",{shortCircuited:!0});case 13:if(!Pe(c)){e.next=18;break}return f=s&&null!=s.replace?s.replace:c.location===A.location.pathname+A.location.search,e.next=17,ve(A,c,{submission:a,replace:f});case 17:return e.abrupt("return",{shortCircuited:!0});case 18:if(!De(c)){e.next=22;break}return h=Se(u,l.route.id),!0!==(s&&s.replace)&&(R=r.Push),e.abrupt("return",{pendingActionData:{},pendingActionError:Object(o.a)({},h.route.id,c.error)});case 22:if(!Ne(c)){e.next=24;break}throw Ce(400,{type:"defer-action"});case 24:return e.abrupt("return",{pendingActionData:Object(o.a)({},l.route.id,c.data)});case 25:case"end":return e.stop()}}),e)}))),ne.apply(this,arguments)}function re(e,t,n,r,i,a,o,u){return ie.apply(this,arguments)}function ie(){return ie=Object(a.a)(Object(i.a)().mark((function r(a,o,u,s,c,l,f,d){var p,v,y,b,g,k,O,w,j,x,E,T,S,_,C,R,N,B;return Object(i.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if((p=s)||(v=m({state:"loading",location:o,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},c),p=v),y=c||(p.formMethod&&p.formAction&&p.formData&&p.formEncType?{formMethod:p.formMethod,formAction:p.formAction,formData:p.formData,formEncType:p.formEncType}:void 0),b=t||n,g=be(e.history,A,u,y,o,P,M,L,q,b,e.basename,f,d),k=Object(h.a)(g,2),O=k[0],w=k[1],He((function(e){return!(u&&u.some((function(t){return t.route.id===e})))||O&&O.some((function(t){return t.route.id===e}))})),0!==O.length||0!==w.length){r.next=9;break}return Y(o,m({matches:u,loaderData:{},errors:d||null},f?{actionData:f}:{})),r.abrupt("return",{shortCircuited:!0});case 9:return D||(w.forEach((function(e){var t=A.fetchers.get(e.key),n={state:"loading",data:t&&t.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};A.fetchers.set(e.key,n)})),j=f||A.actionData,$(m({navigation:p},j?0===Object.keys(j).length?{actionData:null}:{actionData:j}:{},w.length>0?{fetchers:new Map(A.fetchers)}:{}))),V=++U,w.forEach((function(e){return F.set(e.key,I)})),r.next=14,ge(A.matches,u,O,w,a);case 14:if(x=r.sent,E=x.results,T=x.loaderResults,S=x.fetcherResults,!a.signal.aborted){r.next=20;break}return r.abrupt("return",{shortCircuited:!0});case 20:if(w.forEach((function(e){return F.delete(e.key)})),!(_=Ae(E))){r.next=26;break}return r.next=25,ve(A,_,{replace:l});case 25:return r.abrupt("return",{shortCircuited:!0});case 26:return C=Te(A,u,O,T,d,w,S,G),R=C.loaderData,N=C.errors,G.forEach((function(e,t){e.subscribe((function(n){(n||e.done)&&G.delete(t)}))})),Le(),B=Ve(V),r.abrupt("return",m({loaderData:R,errors:N},B||w.length>0?{fetchers:new Map(A.fetchers)}:{}));case 31:case"end":return r.stop()}}),r)}))),ie.apply(this,arguments)}function ae(e){return A.fetchers.get(e)||le}function oe(){return oe=Object(a.a)(Object(i.a)().mark((function r(a,u,s,c,l,f){var d,p,v,y,b,g,k,O,j,x,E,S,_,N,D,K,W,H,Q,X,J,Z,ee,te,ne,re,ie;return Object(i.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(we(),q.delete(a),c.route.action){r.next=6;break}return d=Ce(405,{method:f.formMethod,pathname:s,routeId:u}),xe(a,u,d),r.abrupt("return");case 6:return p=A.fetchers.get(a),v=m({state:"submitting"},f,{data:p&&p.data," _hasFetcherDoneAnything ":!0}),A.fetchers.set(a,v),$({fetchers:new Map(A.fetchers)}),y=new AbortController,b=je(e.history,s,y.signal,f),F.set(a,y),r.next=15,Oe("action",b,c,l,T.basename);case 15:if(g=r.sent,!b.signal.aborted){r.next=19;break}return F.get(a)===y&&F.delete(a),r.abrupt("return");case 19:if(!Pe(g)){r.next=26;break}return F.delete(a),z.add(a),k=m({state:"loading"},f,{data:void 0," _hasFetcherDoneAnything ":!0}),A.fetchers.set(a,k),$({fetchers:new Map(A.fetchers)}),r.abrupt("return",ve(A,g,{isFetchActionRedirect:!0}));case 26:if(!De(g)){r.next=29;break}return xe(a,u,g.error),r.abrupt("return");case 29:if(!Ne(g)){r.next=31;break}throw Ce(400,{type:"defer-action"});case 31:return O=A.navigation.location||A.location,j=je(e.history,O,y.signal),x=t||n,w(E="idle"!==A.navigation.state?C(x,A.navigation.location,e.basename):A.matches,"Didn't find any matches after fetcher action"),S=++U,B.set(a,S),_=m({state:"loading",data:g.data},f,{" _hasFetcherDoneAnything ":!0}),A.fetchers.set(a,_),N=be(e.history,A,E,f,O,P,M,L,q,x,e.basename,Object(o.a)({},c.route.id,g.data),void 0),D=Object(h.a)(N,2),K=D[0],(W=D[1]).filter((function(e){return e.key!==a})).forEach((function(e){var t=e.key,n=A.fetchers.get(t),r={state:"loading",data:n&&n.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};A.fetchers.set(t,r),F.set(t,y)})),$({fetchers:new Map(A.fetchers)}),r.next=45,ge(A.matches,E,K,W,j);case 45:if(H=r.sent,Q=H.results,X=H.loaderResults,J=H.fetcherResults,!y.signal.aborted){r.next=51;break}return r.abrupt("return");case 51:if(B.delete(a),F.delete(a),W.forEach((function(e){return F.delete(e.key)})),!(Z=Ae(Q))){r.next=57;break}return r.abrupt("return",ve(A,Z));case 57:ee=Te(A,A.matches,K,X,void 0,W,J,G),te=ee.loaderData,ne=ee.errors,re={state:"idle",data:g.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0},A.fetchers.set(a,re),ie=Ve(S),"loading"===A.navigation.state&&S>V?(w(R,"Expected pending action"),I&&I.abort(),Y(A.navigation.location,{matches:E,loaderData:te,errors:ne,fetchers:new Map(A.fetchers)})):($(m({errors:ne,loaderData:Ie(A.loaderData,te,E,ne)},ie?{fetchers:new Map(A.fetchers)}:{})),P=!1);case 62:case"end":return r.stop()}}),r)}))),oe.apply(this,arguments)}function ue(){return ue=Object(a.a)(Object(i.a)().mark((function t(n,r,a,u,s,c){var l,f,h,d,p,v,y;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l=A.fetchers.get(n),f=m({state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},c,{data:l&&l.data," _hasFetcherDoneAnything ":!0}),A.fetchers.set(n,f),$({fetchers:new Map(A.fetchers)}),h=new AbortController,d=je(e.history,a,h.signal),F.set(n,h),t.next=9,Oe("loader",d,u,s,T.basename);case 9:if(!Ne(p=t.sent)){t.next=17;break}return t.next=13,Be(p,d.signal,!0);case 13:if(t.t0=t.sent,t.t0){t.next=16;break}t.t0=p;case 16:p=t.t0;case 17:if(F.get(n)===h&&F.delete(n),!d.signal.aborted){t.next=20;break}return t.abrupt("return");case 20:if(!Pe(p)){t.next=24;break}return t.next=23,ve(A,p);case 23:return t.abrupt("return");case 24:if(!De(p)){t.next=29;break}return v=Se(A.matches,r),A.fetchers.delete(n),$({fetchers:new Map(A.fetchers),errors:Object(o.a)({},v.route.id,p.error)}),t.abrupt("return");case 29:w(!Ne(p),"Unhandled fetcher deferred data"),y={state:"idle",data:p.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0},A.fetchers.set(n,y),$({fetchers:new Map(A.fetchers)});case 33:case"end":return t.stop()}}),t)}))),ue.apply(this,arguments)}function ve(e,t,n){return ye.apply(this,arguments)}function ye(){return ye=Object(a.a)(Object(i.a)().mark((function t(n,a,o){var u,s,c,l,f,h,d,p,v,y,b,g,k,O;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=(s=void 0===o?{}:o).submission,l=s.replace,f=s.isFetchActionRedirect,a.revalidate&&(P=!0),w(h=E(n.location,a.location,m({_isRedirect:!0},f?{_isFetchActionRedirect:!0}:{})),"Expected a location on the redirect navigation"),!he.test(a.location)||!de||"undefined"===typeof(null==(u=window)?void 0:u.location)){t.next=10;break}if(d=e.history.createURL(a.location),p=null==K(d.pathname,e.basename||"/"),window.location.origin===d.origin&&!p){t.next=10;break}return l?window.location.replace(a.location):window.location.assign(a.location),t.abrupt("return");case 10:if(I=null,v=!0===l?r.Replace:r.Push,y=n.navigation,b=y.formMethod,g=y.formAction,k=y.formEncType,O=y.formData,!c&&b&&g&&O&&k&&(c={formMethod:b,formAction:g,formEncType:k,formData:O}),!(se.has(a.status)&&c&&Fe(c.formMethod))){t.next=19;break}return t.next=17,Z(v,h,{submission:m({},c,{formAction:a.location}),preventScrollReset:N});case 17:t.next=21;break;case 19:return t.next=21,Z(v,h,{overrideNavigation:{state:"loading",location:h,formMethod:c?c.formMethod:void 0,formAction:c?c.formAction:void 0,formEncType:c?c.formEncType:void 0,formData:c?c.formData:void 0},preventScrollReset:N});case 21:case"end":return t.stop()}}),t)}))),ye.apply(this,arguments)}function ge(e,t,n,r,i){return ke.apply(this,arguments)}function ke(){return ke=Object(a.a)(Object(i.a)().mark((function t(n,r,a,o,u){var s,c,l;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([].concat(Object(v.a)(a.map((function(e){return Oe("loader",u,e,r,T.basename)}))),Object(v.a)(o.map((function(t){return t.matches&&t.match?Oe("loader",je(e.history,t.path,u.signal),t.match,t.matches,T.basename):{type:y.error,error:Ce(404,{pathname:t.path})}})))));case 2:return s=t.sent,c=s.slice(0,a.length),l=s.slice(a.length),t.next=7,Promise.all([Ue(n,a,c,u.signal,!1,A.loaderData),Ue(n,o.map((function(e){return e.match})),l,u.signal,!0)]);case 7:return t.abrupt("return",{results:s,loaderResults:c,fetcherResults:l});case 8:case"end":return t.stop()}}),t)}))),ke.apply(this,arguments)}function we(){var e;P=!0,(e=M).push.apply(e,Object(v.a)(He())),q.forEach((function(e,t){F.has(t)&&(L.push(t),Re(t))}))}function xe(e,t,n){var r=Se(A.matches,t);Ee(e),$({errors:Object(o.a)({},r.route.id,n),fetchers:new Map(A.fetchers)})}function Ee(e){F.has(e)&&Re(e),q.delete(e),B.delete(e),z.delete(e),A.fetchers.delete(e)}function Re(e){var t=F.get(e);w(t,"Expected fetch controller: "+e),t.abort(),F.delete(e)}function Me(e){var t,n=Object(p.a)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i={state:"idle",data:ae(r).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};A.fetchers.set(r,i)}}catch(a){n.e(a)}finally{n.f()}}function Le(){var e,t=[],n=Object(p.a)(z);try{for(n.s();!(e=n.n()).done;){var r=e.value,i=A.fetchers.get(r);w(i,"Expected fetcher: "+r),"loading"===i.state&&(z.delete(r),t.push(r))}}catch(a){n.e(a)}finally{n.f()}Me(t)}function Ve(e){var t,n=[],r=Object(p.a)(B);try{for(r.s();!(t=r.n()).done;){var i=Object(h.a)(t.value,2),a=i[0];if(i[1]<e){var o=A.fetchers.get(a);w(o,"Expected fetcher: "+a),"loading"===o.state&&(Re(a),B.delete(a),n.push(a))}}}catch(u){r.e(u)}finally{r.f()}return Me(n),n.length>0}function ze(e){A.blockers.delete(e),H.delete(e)}function qe(e,t){var n=A.blockers.get(e)||fe;w("unblocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"proceeding"===t.state||"blocked"===n.state&&"unblocked"===t.state||"proceeding"===n.state&&"unblocked"===t.state,"Invalid blocker state transition: "+n.state+" -> "+t.state),A.blockers.set(e,t),$({blockers:new Map(A.blockers)})}function Ge(e){var t=e.currentLocation,n=e.nextLocation,r=e.historyAction;if(0!==H.size){H.size>1&&W(!1,"A router only supports one blocker at a time");var i=Array.from(H.entries()),a=Object(h.a)(i[i.length-1],2),o=a[0],u=a[1],s=A.blockers.get(o);if(!s||"proceeding"!==s.state)return u({currentLocation:t,nextLocation:n,historyAction:r})?o:void 0}}function He(e){var t=[];return G.forEach((function(n,r){e&&!e(r)||(n.cancel(),t.push(r),G.delete(r))})),t}function Qe(e,t){if(c&&l&&f){var n=t.map((function(e){return Ke(e,A.loaderData)})),r=l(e,n)||e.key;c[r]=f()}}function $e(e,t){if(c&&l&&f){var n=t.map((function(e){return Ke(e,A.loaderData)})),r=l(e,n)||e.key,i=c[r];if("number"===typeof i)return i}return null}return T={get basename(){return e.basename},get state(){return A},get routes(){return n},initialize:function(){return u=e.history.listen((function(t){var n=t.action,r=t.location,i=t.delta;if(!Q){W(0===H.size||null!=i,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");var a=Ge({currentLocation:A.location,nextLocation:r,historyAction:n});return a&&null!=i?(Q=!0,e.history.go(-1*i),void qe(a,{state:"blocked",location:r,proceed:function(){qe(a,{state:"proceeding",proceed:void 0,reset:void 0,location:r}),e.history.go(i)},reset:function(){ze(a),$({blockers:new Map(T.state.blockers)})}})):Z(n,r)}Q=!1})),A.initialized||Z(r.Pop,A.location),T},subscribe:function(e){return s.add(e),function(){return s.delete(e)}},enableScrollRestoration:function(e,t,n){if(c=e,f=t,l=n||function(e){return e.key},!d&&A.navigation===ce){d=!0;var r=$e(A.location,A.matches);null!=r&&$({restoreScrollPosition:r})}return function(){c=null,f=null,l=null}},navigate:X,fetch:function(r,i,a,o){if(pe)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");F.has(r)&&Re(r);var u=C(t||n,a,e.basename);if(u){var s=me(a,o,!0),c=s.path,l=s.submission,f=We(u,c);N=!0===(o&&o.preventScrollReset),l&&Fe(l.formMethod)?function(e,t,n,r,i,a){oe.apply(this,arguments)}(r,i,c,f,u,l):(q.set(r,{routeId:i,path:c}),function(e,t,n,r,i,a){ue.apply(this,arguments)}(r,i,c,f,u,l))}else xe(r,i,Ce(404,{pathname:a}))},revalidate:function(){we(),$({revalidation:"loading"}),"submitting"!==A.navigation.state&&("idle"!==A.navigation.state?Z(R||A.historyAction,A.navigation.location,{overrideNavigation:A.navigation}):Z(A.historyAction,A.location,{startUninterruptedRevalidation:!0}))},createHref:function(t){return e.history.createHref(t)},encodeLocation:function(t){return e.history.encodeLocation(t)},getFetcher:ae,deleteFetcher:Ee,dispose:function(){u&&u(),s.clear(),I&&I.abort(),A.fetchers.forEach((function(e,t){return Ee(t)})),A.blockers.forEach((function(e,t){return ze(t)}))},getBlocker:function(e,t){var n=A.blockers.get(e)||fe;return H.get(e)!==t&&H.set(e,t),n},deleteBlocker:ze,_internalFetchControllers:F,_internalActiveDeferreds:G,_internalSetRoutes:function(e){t=e}},T}Symbol("deferred");function me(e,t,n){void 0===n&&(n=!1);var r,i="string"===typeof e?e:T(e);if(!t||!function(e){return null!=e&&"formData"in e}(t))return{path:i};if(t.formMethod&&!Le(t.formMethod))return{path:i,error:Ce(405,{method:t.formMethod})};if(t.formData&&Fe((r={formMethod:t.formMethod||"get",formAction:Re(i),formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:t.formData}).formMethod))return{path:i,submission:r};var a=I(i),o=xe(t.formData);return n&&a.search&&qe(a.search)&&o.append("index",""),a.search="?"+o,{path:T(a),submission:r}}function ye(e,t){var n=e;if(t){var r=e.findIndex((function(e){return e.route.id===t}));r>=0&&(n=e.slice(0,r))}return n}function be(e,t,n,r,i,a,o,u,s,c,l,f,h){var d=h?Object.values(h)[0]:f?Object.values(f)[0]:void 0,p=e.createURL(t.location),v=e.createURL(i),y=a||p.toString()===v.toString()||p.search!==v.search,b=h?Object.keys(h)[0]:void 0,g=ye(n,b).filter((function(e,n){if(null==e.route.loader)return!1;if(function(e,t,n){var r=!t||n.route.id!==t.route.id,i=void 0===e[n.route.id];return r||i}(t.loaderData,t.matches[n],e)||o.some((function(t){return t===e.route.id})))return!0;var i=t.matches[n],a=e;return ke(e,m({currentUrl:p,currentParams:i.params,nextUrl:v,nextParams:a.params},r,{actionResult:d,defaultShouldRevalidate:y||ge(i,a)}))})),k=[];return s.forEach((function(e,i){if(n.some((function(t){return t.route.id===e.routeId}))){var a=C(c,e.path,l);if(a){var o=We(a,e.path);if(u.includes(i))k.push(m({key:i,matches:a,match:o},e));else ke(o,m({currentUrl:p,currentParams:t.matches[t.matches.length-1].params,nextUrl:v,nextParams:n[n.length-1].params},r,{actionResult:d,defaultShouldRevalidate:y}))&&k.push(m({key:i,matches:a,match:o},e))}else k.push(m({key:i},e,{matches:null,match:null}))}})),[g,k]}function ge(e,t){var n=e.route.path;return e.pathname!==t.pathname||null!=n&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function ke(e,t){if(e.route.shouldRevalidate){var n=e.route.shouldRevalidate(t);if("boolean"===typeof n)return n}return t.defaultShouldRevalidate}function Oe(e,t,n,r,i,a,o,u){return we.apply(this,arguments)}function we(){return(we=Object(a.a)(Object(i.a)().mark((function e(t,n,r,a,o,u,s,c){var l,f,h,d,p,v,m,b,g,k,O,j,x,E,I,S,_,C,A;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===o&&(o="/"),void 0===u&&(u=!1),void 0===s&&(s=!1),d=new Promise((function(e,t){return h=t})),p=function(){return h()},n.signal.addEventListener("abort",p),e.prev=6,w(v=r.route[t],"Could not find the "+t+' to run on the "'+r.route.id+'" route'),e.next=11,Promise.race([v({request:n,params:r.params,context:c}),d]);case 11:w(void 0!==(f=e.sent),"You defined "+("action"===t?"an action":"a loader")+' for route "'+r.route.id+"\" but didn't return anything from your `"+t+"` function. Please return a value or `null`."),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(6),l=y.error,f=e.t0;case 19:return e.prev=19,n.signal.removeEventListener("abort",p),e.finish(19);case 22:if(!Me(f)){e.next=47;break}if(m=f.status,!ue.has(m)){e.next=32;break}if(w(b=f.headers.get("Location"),"Redirects returned/thrown from loaders/actions must have a Location header"),he.test(b)?u||(x=new URL(n.url),E=b.startsWith("//")?new URL(x.protocol+b):new URL(b),I=null!=K(E.pathname,o),E.origin===x.origin&&I&&(b=E.pathname+E.search+E.hash)):(g=a.slice(0,a.indexOf(r)+1),k=H(g).map((function(e){return e.pathnameBase})),w(T(O=Q(b,k,new URL(n.url).pathname)),"Unable to resolve redirect location: "+b),o&&(j=O.pathname,O.pathname="/"===j?o:$([o,j])),b=T(O)),!u){e.next=31;break}throw f.headers.set("Location",b),f;case 31:return e.abrupt("return",{type:y.redirect,status:m,location:b,revalidate:null!==f.headers.get("X-Remix-Revalidate")});case 32:if(!s){e.next=34;break}throw{type:l||y.data,response:f};case 34:if(!(_=f.headers.get("Content-Type"))||!/\bapplication\/json\b/.test(_)){e.next=41;break}return e.next=38,f.json();case 38:S=e.sent,e.next=44;break;case 41:return e.next=43,f.text();case 43:S=e.sent;case 44:if(l!==y.error){e.next=46;break}return e.abrupt("return",{type:l,error:new te(m,f.statusText,S),headers:f.headers});case 46:return e.abrupt("return",{type:y.data,data:S,statusCode:f.status,headers:f.headers});case 47:if(l!==y.error){e.next=49;break}return e.abrupt("return",{type:l,error:f});case 49:if(!(f instanceof ee)){e.next=51;break}return e.abrupt("return",{type:y.deferred,deferredData:f,statusCode:null==(C=f.init)?void 0:C.status,headers:(null==(A=f.init)?void 0:A.headers)&&new Headers(f.init.headers)});case 51:return e.abrupt("return",{type:y.data,data:f});case 52:case"end":return e.stop()}}),e,null,[[6,15,19,22]])})))).apply(this,arguments)}function je(e,t,n,r){var i=e.createURL(Re(t)).toString(),a={signal:n};if(r&&Fe(r.formMethod)){var o=r.formMethod,u=r.formEncType,s=r.formData;a.method=o.toUpperCase(),a.body="application/x-www-form-urlencoded"===u?xe(s):s}return new Request(i,a)}function xe(e){var t,n=new URLSearchParams,r=Object(p.a)(e.entries());try{for(r.s();!(t=r.n()).done;){var i=Object(h.a)(t.value,2),a=i[0],o=i[1];n.append(a,o instanceof File?o.name:o)}}catch(u){r.e(u)}finally{r.f()}return n}function Ee(e,t,n,r,i){var a,o={},u=null,s=!1,c={};return n.forEach((function(n,l){var f=t[l].route.id;if(w(!Pe(n),"Cannot handle redirect results in processLoaderData"),De(n)){var h=Se(e,f),d=n.error;r&&(d=Object.values(r)[0],r=void 0),null==(u=u||{})[h.route.id]&&(u[h.route.id]=d),o[f]=void 0,s||(s=!0,a=ne(n.error)?n.error.status:500),n.headers&&(c[f]=n.headers)}else Ne(n)?(i.set(f,n.deferredData),o[f]=n.deferredData.data):o[f]=n.data,null==n.statusCode||200===n.statusCode||s||(a=n.statusCode),n.headers&&(c[f]=n.headers)})),r&&(u=r,o[Object.keys(r)[0]]=void 0),{loaderData:o,errors:u,statusCode:a||200,loaderHeaders:c}}function Te(e,t,n,r,i,a,u,s){for(var c=Ee(t,n,r,i,s),l=c.loaderData,f=c.errors,h=0;h<a.length;h++){var d=a[h],p=d.key,v=d.match;w(void 0!==u&&void 0!==u[h],"Did not find corresponding fetcher result");var y=u[h];if(De(y)){var b=Se(e.matches,null==v?void 0:v.route.id);f&&f[b.route.id]||(f=m({},f,Object(o.a)({},b.route.id,y.error))),e.fetchers.delete(p)}else if(Pe(y))w(!1,"Unhandled fetcher revalidation redirect");else if(Ne(y))w(!1,"Unhandled fetcher deferred data");else{var g={state:"idle",data:y.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};e.fetchers.set(p,g)}}return{loaderData:l,errors:f}}function Ie(e,t,n,r){var i,a=m({},t),o=Object(p.a)(n);try{for(o.s();!(i=o.n()).done;){var u=i.value,s=u.route.id;if(t.hasOwnProperty(s)?void 0!==t[s]&&(a[s]=t[s]):void 0!==e[s]&&u.route.loader&&(a[s]=e[s]),r&&r.hasOwnProperty(s))break}}catch(c){o.e(c)}finally{o.f()}return a}function Se(e,t){return(t?e.slice(0,e.findIndex((function(e){return e.route.id===t}))+1):Object(v.a)(e)).reverse().find((function(e){return!0===e.route.hasErrorBoundary}))||e[0]}function _e(e){var t=e.find((function(e){return e.index||!e.path||"/"===e.path}))||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Ce(e,t){var n=void 0===t?{}:t,r=n.pathname,i=n.routeId,a=n.method,o=n.type,u="Unknown Server Error",s="Unknown @remix-run/router error";return 400===e?(u="Bad Request",a&&r&&i?s="You made a "+a+' request to "'+r+'" but did not provide a `loader` for route "'+i+'", so there is no way to handle the request.':"defer-action"===o&&(s="defer() is not supported in actions")):403===e?(u="Forbidden",s='Route "'+i+'" does not match URL "'+r+'"'):404===e?(u="Not Found",s='No route matches URL "'+r+'"'):405===e&&(u="Method Not Allowed",a&&r&&i?s="You made a "+a.toUpperCase()+' request to "'+r+'" but did not provide an `action` for route "'+i+'", so there is no way to handle the request.':a&&(s='Invalid request method "'+a.toUpperCase()+'"')),new te(e||500,u,new Error(s),!0)}function Ae(e){for(var t=e.length-1;t>=0;t--){var n=e[t];if(Pe(n))return n}}function Re(e){return T(m({},"string"===typeof e?I(e):e,{hash:""}))}function Ne(e){return e.type===y.deferred}function De(e){return e.type===y.error}function Pe(e){return(e&&e.type)===y.redirect}function Me(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"object"===typeof e.headers&&"undefined"!==typeof e.body}function Le(e){return oe.has(e)}function Fe(e){return ie.has(e)}function Ue(e,t,n,r,i,a){return Ve.apply(this,arguments)}function Ve(){return(Ve=Object(a.a)(Object(i.a)().mark((function e(t,n,r,a,o,u){var s,c;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=Object(i.a)().mark((function e(s){var c,l,f,h;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=r[s],l=n[s]){e.next=4;break}return e.abrupt("return","continue");case 4:if(f=t.find((function(e){return e.route.id===l.route.id})),h=null!=f&&!ge(f,l)&&void 0!==(u&&u[l.route.id]),!Ne(c)||!o&&!h){e.next=9;break}return e.next=9,Be(c,a,o).then((function(e){e&&(r[s]=e||r[s])}));case 9:case"end":return e.stop()}}),e)})),c=0;case 2:if(!(c<r.length)){e.next=10;break}return e.delegateYield(s(c),"t0",4);case 4:if("continue"!==e.t0){e.next=7;break}return e.abrupt("continue",7);case 7:c++,e.next=2;break;case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Be(e,t,n){return ze.apply(this,arguments)}function ze(){return(ze=Object(a.a)(Object(i.a)().mark((function e(t,n,r){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=!1),e.next=3,t.deferredData.resolveData(n);case 3:if(!e.sent){e.next=6;break}return e.abrupt("return");case 6:if(!r){e.next=14;break}return e.prev=7,e.abrupt("return",{type:y.data,data:t.deferredData.unwrappedData});case 11:return e.prev=11,e.t0=e.catch(7),e.abrupt("return",{type:y.error,error:e.t0});case 14:return e.abrupt("return",{type:y.data,data:t.deferredData.data});case 15:case"end":return e.stop()}}),e,null,[[7,11]])})))).apply(this,arguments)}function qe(e){return new URLSearchParams(e).getAll("index").some((function(e){return""===e}))}function Ke(e,t){var n=e.route,r=e.pathname,i=e.params;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}function We(e,t){var n="string"===typeof t?I(t).search:t.search;if(e[e.length-1].route.index&&qe(n||""))return e[e.length-1];var r=H(e);return r[r.length-1]}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(56);var i=n(40),a=n(57);function o(e,t){return Object(r.a)(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(l){c=!0,i=l}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return u}}(e,t)||Object(i.a)(e,t)||Object(a.a)()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return G})),n.d(t,"b",(function(){return H})),n.d(t,"c",(function(){return Q})),n.d(t,"d",(function(){return $})),n.d(t,"e",(function(){return Y})),n.d(t,"f",(function(){return g})),n.d(t,"g",(function(){return k})),n.d(t,"h",(function(){return w})),n.d(t,"i",(function(){return x})),n.d(t,"j",(function(){return Z})),n.d(t,"k",(function(){return K})),n.d(t,"l",(function(){return T})),n.d(t,"m",(function(){return S})),n.d(t,"n",(function(){return z})),n.d(t,"o",(function(){return _})),n.d(t,"p",(function(){return B})),n.d(t,"q",(function(){return A}));var r=n(18),i=n(3),a=n(2),o=n(11),u=n(12),s=n(15),c=n(14),l=n(1);function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}var h="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},d=l.useState,p=l.useEffect,v=l.useLayoutEffect,m=l.useDebugValue;function y(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!h(n,r)}catch(i){return!0}}var b=!!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?function(e,t,n){return t()}:function(e,t,n){var r=t(),i=d({inst:{value:r,getSnapshot:t}}),a=Object(s.a)(i,2),o=a[0].inst,u=a[1];return v((function(){o.value=r,o.getSnapshot=t,y(o)&&u({inst:o})}),[e,r,t]),p((function(){y(o)&&u({inst:o});return e((function(){y(o)&&u({inst:o})}))}),[e]),m(r),r},g=("useSyncExternalStore"in l&&function(e){e.useSyncExternalStore}(l),l.createContext(null));var k=l.createContext(null);var O=l.createContext(null);var w=l.createContext(null);var j=l.createContext(null);var x=l.createContext({outlet:null,matches:[]});var E=l.createContext(null);function T(e,t){var n=(void 0===t?{}:t).relative;I()||Object(c.e)(!1);var r=l.useContext(w),i=r.basename,a=r.navigator,o=A(e,{relative:n}),u=o.hash,s=o.pathname,f=o.search,h=s;return"/"!==i&&(h="/"===s?i:Object(c.l)([i,s])),a.createHref({pathname:h,search:f,hash:u})}function I(){return null!=l.useContext(j)}function S(){return I()||Object(c.e)(!1),l.useContext(j).location}function _(){I()||Object(c.e)(!1);var e=l.useContext(w),t=e.basename,n=e.navigator,r=l.useContext(x).matches,i=S().pathname,a=JSON.stringify(Object(c.d)(r).map((function(e){return e.pathnameBase}))),o=l.useRef(!1);return l.useEffect((function(){o.current=!0})),l.useCallback((function(e,r){if(void 0===r&&(r={}),o.current)if("number"!==typeof e){var u=Object(c.p)(e,JSON.parse(a),i,"path"===r.relative);"/"!==t&&(u.pathname="/"===u.pathname?t:Object(c.l)([t,u.pathname])),(r.replace?n.replace:n.push)(u,r.state,r)}else n.go(e)}),[t,n,a,i])}var C=l.createContext(null);function A(e,t){var n=(void 0===t?{}:t).relative,r=l.useContext(x).matches,i=S().pathname,a=JSON.stringify(Object(c.d)(r).map((function(e){return e.pathnameBase})));return l.useMemo((function(){return Object(c.p)(e,JSON.parse(a),i,"path"===n)}),[e,a,i,n])}function R(){var e=function(){var e,t=l.useContext(E),n=U(D.UseRouteError),r=V(D.UseRouteError);if(t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=Object(c.k)(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r};return l.createElement(l.Fragment,null,l.createElement("h2",null,"Unexpected Application Error!"),l.createElement("h3",{style:{fontStyle:"italic"}},t),n?l.createElement("pre",{style:i},n):null,null)}var N,D,P=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).state={location:e.location,error:e.error},r}return Object(a.a)(n,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?l.createElement(x.Provider,{value:this.props.routeContext},l.createElement(E.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),n}(l.Component);function M(e){var t=e.routeContext,n=e.match,r=e.children,i=l.useContext(g);return i&&i.static&&i.staticContext&&n.route.errorElement&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),l.createElement(x.Provider,{value:t},r)}function L(e,t,n){if(void 0===t&&(t=[]),null==e){if(null==n||!n.errors)return null;e=n.matches}var r=e,i=null==n?void 0:n.errors;if(null!=i){var a=r.findIndex((function(e){return e.route.id&&(null==i?void 0:i[e.route.id])}));a>=0||Object(c.e)(!1),r=r.slice(0,Math.min(r.length,a+1))}return r.reduceRight((function(e,a,o){var u=a.route.id?null==i?void 0:i[a.route.id]:null,s=n?a.route.errorElement||l.createElement(R,null):null,c=t.concat(r.slice(0,o+1)),f=function(){return l.createElement(M,{match:a,routeContext:{outlet:e,matches:c}},u?s:void 0!==a.route.element?a.route.element:e)};return n&&(a.route.errorElement||0===o)?l.createElement(P,{location:n.location,component:s,error:u,children:f(),routeContext:{outlet:null,matches:c}}):f()}),null)}function F(e){var t=l.useContext(g);return t||Object(c.e)(!1),t}function U(e){var t=l.useContext(k);return t||Object(c.e)(!1),t}function V(e){var t=function(e){var t=l.useContext(x);return t||Object(c.e)(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||Object(c.e)(!1),n.route.id}function B(){return U(D.UseNavigation).navigation}function z(){var e=U(D.UseMatches),t=e.matches,n=e.loaderData;return l.useMemo((function(){return t.map((function(e){var t=e.pathname,r=e.params;return{id:e.route.id,pathname:t,params:r,data:n[e.route.id],handle:e.route.handle}}))}),[t,n])}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"}(N||(N={})),function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(D||(D={}));var q=0;function K(e){var t=F(N.UseBlocker).router,n=l.useState((function(){return String(++q)})),r=Object(s.a)(n,1)[0],i=l.useCallback((function(t){return"function"===typeof e?!!e(t):!!e}),[e]),a=t.getBlocker(r,i);return l.useEffect((function(){return function(){return t.deleteBlocker(r)}}),[t,r]),a}var W;function G(e){var t=e.to,n=e.replace,r=e.state,i=e.relative;I()||Object(c.e)(!1);var a=l.useContext(k),o=_();return l.useEffect((function(){a&&"idle"!==a.navigation.state||o(t,{replace:n,state:r,relative:i})})),null}function H(e){return function(e){var t=l.useContext(x).outlet;return t?l.createElement(C.Provider,{value:e},t):t}(e.context)}function Q(e){Object(c.e)(!1)}function $(e){var t=e.basename,n=void 0===t?"/":t,r=e.children,i=void 0===r?null:r,a=e.location,o=e.navigationType,u=void 0===o?c.b.Pop:o,s=e.navigator,f=e.static,h=void 0!==f&&f;I()&&Object(c.e)(!1);var d=n.replace(/^\/*/,"/"),p=l.useMemo((function(){return{basename:d,navigator:s,static:h}}),[d,s,h]);"string"===typeof a&&(a=Object(c.o)(a));var v=a,m=v.pathname,y=void 0===m?"/":m,b=v.search,g=void 0===b?"":b,k=v.hash,O=void 0===k?"":k,x=v.state,E=void 0===x?null:x,T=v.key,S=void 0===T?"default":T,_=l.useMemo((function(){var e=Object(c.q)(y,d);return null==e?null:{pathname:e,search:g,hash:O,state:E,key:S}}),[d,y,g,O,E,S]);return null==_?null:l.createElement(w.Provider,{value:p},l.createElement(j.Provider,{children:i,value:{location:_,navigationType:u}}))}function Y(e){var t=e.children,n=e.location,r=l.useContext(g);return function(e,t){I()||Object(c.e)(!1);var n,r=l.useContext(w).navigator,i=l.useContext(k),a=l.useContext(x).matches,o=a[a.length-1],u=o?o.params:{},s=(o&&o.pathname,o?o.pathnameBase:"/"),h=(o&&o.route,S());if(t){var d,p="string"===typeof t?Object(c.o)(t):t;"/"===s||(null==(d=p.pathname)?void 0:d.startsWith(s))||Object(c.e)(!1),n=p}else n=h;var v=n.pathname||"/",m="/"===s?v:v.slice(s.length)||"/",y=Object(c.n)(e,{pathname:m}),b=L(y&&y.map((function(e){return Object.assign({},e,{params:Object.assign({},u,e.params),pathname:Object(c.l)([s,r.encodeLocation?r.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?s:Object(c.l)([s,r.encodeLocation?r.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),a,i||void 0);return t&&b?l.createElement(j.Provider,{value:{location:f({pathname:"/",search:"",hash:"",state:null,key:"default"},n),navigationType:c.b.Pop}},b):b}(r&&!t?r.router.routes:J(t),n)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(W||(W={}));var X=new Promise((function(){}));l.Component;function J(e,t){void 0===t&&(t=[]);var n=[];return l.Children.forEach(e,(function(e,i){if(l.isValidElement(e))if(e.type!==l.Fragment){e.type!==Q&&Object(c.e)(!1),e.props.index&&e.props.children&&Object(c.e)(!1);var a=[].concat(Object(r.a)(t),[i]),o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,hasErrorBoundary:null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle};e.props.children&&(o.children=J(e.props.children,a)),n.push(o)}else n.push.apply(n,J(e.props.children,t))})),n}function Z(e){return e.map((function(e){var t=f({},e);return null==t.hasErrorBoundary&&(t.hasErrorBoundary=null!=t.errorElement),t.children&&(t.children=Z(t.children)),t}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(41);function i(e,t){if(null==e)return{};var n,i,a=Object(r.a)(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(53);var i=n(58),a=n(40);function o(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||Object(i.a)(e)||Object(a.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,n){"use strict";function r(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}t.a=function(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}},function(e,t,n){"use strict";var r=n(8),i=n(17),a=n(1),o=n.n(a),u=n(60),s=n.n(u),c=n(126),l=n(115),f=n(131),h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var a=t.defaultTheme,u=t.withTheme,h=void 0!==u&&u,d=t.name,p=Object(i.a)(t,["defaultTheme","withTheme","name"]);var v=d,m=Object(c.a)(e,Object(r.a)({defaultTheme:a,Component:n,name:d||n.displayName,classNamePrefix:v},p)),y=o.a.forwardRef((function(e,t){e.classes;var u,s=e.innerRef,c=Object(i.a)(e,["classes","innerRef"]),p=m(Object(r.a)({},n.defaultProps,e)),v=c;return("string"===typeof d||h)&&(u=Object(f.a)()||a,d&&(v=Object(l.a)({theme:u,name:d,props:c})),h&&!v.theme&&(v.theme=u)),o.a.createElement(n,Object(r.a)({ref:s||t,classes:p},v))}));return s()(y,n),y}},d=n(47);t.a=function(e,t){return h(e,Object(r.a)({defaultTheme:d.a},t))}},function(e,t,n){"use strict";n.r(t),n.d(t,"FirebaseError",(function(){return h.c})),n.d(t,"SDK_VERSION",(function(){return X})),n.d(t,"_DEFAULT_ENTRY_NAME",(function(){return F})),n.d(t,"_addComponent",(function(){return z})),n.d(t,"_addOrOverwriteComponent",(function(){return q})),n.d(t,"_apps",(function(){return V})),n.d(t,"_clearComponents",(function(){return H})),n.d(t,"_components",(function(){return B})),n.d(t,"_getProvider",(function(){return W})),n.d(t,"_registerComponent",(function(){return K})),n.d(t,"_removeServiceInstance",(function(){return G})),n.d(t,"deleteApp",(function(){return te})),n.d(t,"getApp",(function(){return Z})),n.d(t,"getApps",(function(){return ee})),n.d(t,"initializeApp",(function(){return J})),n.d(t,"onLog",(function(){return ie})),n.d(t,"registerVersion",(function(){return re})),n.d(t,"setLogLevel",(function(){return ae}));var r=n(18),i=n(0),a=n(4),o=n(9),u=n(5),s=n(3),c=n(2),l=n(28),f=n(29),h=n(6);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){Object(u.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v,m,y=function(e,t){return t.some((function(t){return e instanceof t}))};var b=new WeakMap,g=new WeakMap,k=new WeakMap,O=new WeakMap,w=new WeakMap;var j={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return g.get(e);if("objectStoreNames"===t)return e.objectStoreNames||k.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return T(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function x(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(m||(m=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(I(this),n),T(b.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return T(e.apply(I(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[I(this),t].concat(r));return k.set(a,t.sort?t.sort():[t]),T(a)}}function E(e){return"function"===typeof e?x(e):(e instanceof IDBTransaction&&function(e){if(!g.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));g.set(e,t)}}(e),y(e,v||(v=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,j):e)}function T(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(T(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&b.set(t,e)})).catch((function(){})),w.set(t,e),t}(e);if(O.has(e))return O.get(e);var t=E(e);return t!==e&&(O.set(e,t),w.set(t,e)),t}var I=function(e){return w.get(e)};var S,_,C=["get","getKey","getAll","getAllKeys","count"],A=["put","add","delete","clear"],R=new Map;function N(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(R.get(t))return R.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,o=A.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(o||C.includes(n))){var u=function(){var e=Object(a.a)(Object(i.a)().mark((function e(t){var a,u,s,c,l,f,h=arguments;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(u=this.transaction(t,o?"readwrite":"readonly"),s=u.store,c=h.length,l=new Array(c>1?c-1:0),f=1;f<c;f++)l[f-1]=h[f];return r&&(s=s.index(l.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,l),o&&u.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return R.set(t,u),u}}}j=function(e){return p(p({},e),{},{get:function(t,n,r){return N(t,n)||e.get(t,n,r)},has:function(t,n){return!!N(t,n)||e.has(t,n)}})}(j);var D=function(){function e(t){Object(s.a)(this,e),this.container=t}return Object(c.a)(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var P="@firebase/app",M="0.9.4",L=new f.b("@firebase/app"),F="[DEFAULT]",U=(S={},Object(u.a)(S,P,"fire-core"),Object(u.a)(S,"@firebase/app-compat","fire-core-compat"),Object(u.a)(S,"@firebase/analytics","fire-analytics"),Object(u.a)(S,"@firebase/analytics-compat","fire-analytics-compat"),Object(u.a)(S,"@firebase/app-check","fire-app-check"),Object(u.a)(S,"@firebase/app-check-compat","fire-app-check-compat"),Object(u.a)(S,"@firebase/auth","fire-auth"),Object(u.a)(S,"@firebase/auth-compat","fire-auth-compat"),Object(u.a)(S,"@firebase/database","fire-rtdb"),Object(u.a)(S,"@firebase/database-compat","fire-rtdb-compat"),Object(u.a)(S,"@firebase/functions","fire-fn"),Object(u.a)(S,"@firebase/functions-compat","fire-fn-compat"),Object(u.a)(S,"@firebase/installations","fire-iid"),Object(u.a)(S,"@firebase/installations-compat","fire-iid-compat"),Object(u.a)(S,"@firebase/messaging","fire-fcm"),Object(u.a)(S,"@firebase/messaging-compat","fire-fcm-compat"),Object(u.a)(S,"@firebase/performance","fire-perf"),Object(u.a)(S,"@firebase/performance-compat","fire-perf-compat"),Object(u.a)(S,"@firebase/remote-config","fire-rc"),Object(u.a)(S,"@firebase/remote-config-compat","fire-rc-compat"),Object(u.a)(S,"@firebase/storage","fire-gcs"),Object(u.a)(S,"@firebase/storage-compat","fire-gcs-compat"),Object(u.a)(S,"@firebase/firestore","fire-fst"),Object(u.a)(S,"@firebase/firestore-compat","fire-fst-compat"),Object(u.a)(S,"fire-js","fire-js"),Object(u.a)(S,"firebase","fire-js-all"),S),V=new Map,B=new Map;function z(e,t){try{e.container.addComponent(t)}catch(n){L.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function q(e,t){e.container.addOrOverwriteComponent(t)}function K(e){var t=e.name;if(B.has(t))return L.debug("There were multiple attempts to register component ".concat(t,".")),!1;B.set(t,e);var n,r=Object(o.a)(V.values());try{for(r.s();!(n=r.n()).done;){z(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function W(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function G(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:F;W(e,t).clearInstance(n)}function H(){B.clear()}var Q=(_={},Object(u.a)(_,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Object(u.a)(_,"bad-app-name","Illegal App name: '{$appName}"),Object(u.a)(_,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Object(u.a)(_,"app-deleted","Firebase App named '{$appName}' already deleted"),Object(u.a)(_,"no-options","Need to provide options, when not being deployed to hosting via source."),Object(u.a)(_,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Object(u.a)(_,"invalid-log-argument","First argument to `onLog` must be null or a function."),Object(u.a)(_,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),Object(u.a)(_,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),Object(u.a)(_,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),Object(u.a)(_,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),_),$=new h.b("app","Firebase",Q),Y=function(){function e(t,n,r){var i=this;Object(s.a)(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new l.a("app",(function(){return i}),"PUBLIC"))}return Object(c.a)(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw $.create("app-deleted",{appName:this._name})}}]),e}(),X="9.17.2";function J(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:F,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw $.create("bad-app-name",{appName:String(i)});if(n||(n=Object(h.l)()),!n)throw $.create("no-options");var a=V.get(i);if(a){if(Object(h.i)(n,a.options)&&Object(h.i)(r,a.config))return a;throw $.create("duplicate-app",{appName:i})}var u,s=new l.b(i),c=Object(o.a)(B.values());try{for(c.s();!(u=c.n()).done;){var f=u.value;s.addComponent(f)}}catch(p){c.e(p)}finally{c.f()}var d=new Y(n,r,s);return V.set(i,d),d}function Z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=V.get(e);if(!t&&e===F)return J();if(!t)throw $.create("no-app",{appName:e});return t}function ee(){return Array.from(V.values())}function te(e){return ne.apply(this,arguments)}function ne(){return(ne=Object(a.a)(Object(i.a)().mark((function e(t){var n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!V.has(n)){e.next=6;break}return V.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(e,t,n){var r,i=null!==(r=U[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void L.warn(u.join(" "))}K(new l.a("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function ie(e,t){if(null!==e&&"function"!==typeof e)throw $.create("invalid-log-argument");Object(f.d)(e,t)}function ae(e){Object(f.c)(e)}var oe="firebase-heartbeat-database",ue=1,se="firebase-heartbeat-store",ce=null;function le(){return ce||(ce=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=T(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(T(u.result),e.oldVersion,e.newVersion,T(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}(oe,ue,{upgrade:function(e,t){if(0===t)e.createObjectStore(se)}}).catch((function(e){throw $.create("idb-open",{originalErrorMessage:e.message})}))),ce}function fe(e){return he.apply(this,arguments)}function he(){return(he=Object(a.a)(Object(i.a)().mark((function e(t){var n,r;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,le();case 3:return n=e.sent,e.abrupt("return",n.transaction(se).objectStore(se).get(ve(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof h.c?L.warn(e.t0.message):(r=$.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),L.warn(r.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function de(e,t){return pe.apply(this,arguments)}function pe(){return(pe=Object(a.a)(Object(i.a)().mark((function e(t,n){var r,a,o,u;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,le();case 3:return r=e.sent,a=r.transaction(se,"readwrite"),o=a.objectStore(se),e.next=8,o.put(n,ve(t));case 8:return e.abrupt("return",a.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof h.c?L.warn(e.t0.message):(u=$.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),L.warn(u.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function ve(e){return"".concat(e.name,"!").concat(e.options.appId)}var me=1024,ye=function(){function e(t){var n=this;Object(s.a)(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Oe(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return Object(c.a)(e,[{key:"triggerHeartbeat",value:function(){var e=Object(a.a)(Object(i.a)().mark((function e(){var t,n,r;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=be(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Object(a.a)(Object(i.a)().mark((function e(){var t,n,r,a,o;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=be(),n=ge(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,a=n.unsentEntries,o=Object(h.e)(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(a.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=a,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",o);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function be(){return(new Date).toISOString().substring(0,10)}function ge(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:me,r=[],i=e.slice(),a=Object(o.a)(e);try{var u=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),we(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),we(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){if("break"===u())break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var ke,Oe=function(){function e(t){Object(s.a)(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return Object(c.a)(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Object(a.a)(Object(i.a)().mark((function e(){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(h.v)()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",Object(h.C)().then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Object(a.a)(Object(i.a)().mark((function e(){var t;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,fe(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Object(a.a)(Object(i.a)().mark((function e(t){var n,r;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",de(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Object(a.a)(Object(i.a)().mark((function e(t){var n,a;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return a=e.sent,e.abrupt("return",de(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:a.lastSentHeartbeatDate,heartbeats:[].concat(Object(r.a)(a.heartbeats),Object(r.a)(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function we(e){return Object(h.e)(JSON.stringify({version:2,heartbeats:e})).length}ke="",K(new l.a("platform-logger",(function(e){return new D(e)}),"PRIVATE")),K(new l.a("heartbeat",(function(e){return new ye(e)}),"PRIVATE")),re(P,M,ke),re(P,M,"esm2017"),re("fire-js","")},,function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(83)},function(e,t,n){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,"a",(function(){return r}))},,function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(74);function i(e){if("string"!==typeof e)throw new Error(Object(r.a)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(24);function i(){return i="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Object(r.a)(e)););return e}(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},i.apply(this,arguments)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return p}));var r=n(0),i=n(18),a=n(4),o=n(15),u=n(9),s=n(3),c=n(2),l=n(6),f=function(){function e(t,n,r){Object(s.a)(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Object(c.a)(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),h="[DEFAULT]",d=function(){function e(t,n){Object(s.a)(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Object(c.a)(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new l.a;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:h})}catch(l){}var t,n=Object(u.a)(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=Object(o.a)(t.value,2),i=r[0],a=r[1],s=this.normalizeInstanceIdentifier(i);try{var c=this.getOrInitializeService({instanceIdentifier:s});a.resolve(c)}catch(l){}}}catch(f){n.e(f)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Object(a.a)(Object(r.a)().mark((function e(){var t;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(Object(i.a)(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),Object(i.a)(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),s=Object(u.a)(this.instancesDeferred.entries());try{for(s.s();!(i=s.n()).done;){var c=Object(o.a)(i.value,2),l=c[0],f=c[1];r===this.normalizeInstanceIdentifier(l)&&f.resolve(a)}}catch(h){s.e(h)}finally{s.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Object(u.a)(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(s){i.e(s)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===h?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(o){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;return this.component?this.component.multipleInstances?e:h:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var p=function(){function e(t){Object(s.a)(this,e),this.name=t,this.providers=new Map}return Object(c.a)(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new d(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return v})),n.d(t,"d",(function(){return m}));var r,i,a=n(9),o=n(3),u=n(2),s=n(5),c=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(i||(i={}));var l={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},f=i.INFO,h=(r={},Object(s.a)(r,i.DEBUG,"log"),Object(s.a)(r,i.VERBOSE,"log"),Object(s.a)(r,i.INFO,"info"),Object(s.a)(r,i.WARN,"warn"),Object(s.a)(r,i.ERROR,"error"),r),d=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=h[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},p=function(){function e(t){Object(o.a)(this,e),this.name=t,this._logLevel=f,this._logHandler=d,this._userLogHandler=null,c.push(this)}return Object(u.a)(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in i))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?l[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,i.DEBUG].concat(t)),this._logHandler.apply(this,[this,i.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,i.VERBOSE].concat(t)),this._logHandler.apply(this,[this,i.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,i.INFO].concat(t)),this._logHandler.apply(this,[this,i.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,i.WARN].concat(t)),this._logHandler.apply(this,[this,i.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,i.ERROR].concat(t)),this._logHandler.apply(this,[this,i.ERROR].concat(t))}}]),e}();function v(e){c.forEach((function(t){t.setLogLevel(e)}))}function m(e,t){var n,r=Object(a.a)(c);try{var o=function(){var r=n.value,a=null;t&&t.level&&(a=l[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,o=new Array(r>2?r-2:0),u=2;u<r;u++)o[u-2]=arguments[u];var s=o.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==a&&void 0!==a?a:t.logLevel)&&e({level:i[n].toLowerCase(),message:s,args:o,type:t.name})}};for(r.s();!(n=r.n()).done;)o()}catch(u){r.e(u)}finally{r.f()}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return d}));n(18);var r=n(15),i=(n(9),n(1)),a=n(16),o=n(14);function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function s(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var c=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function l(e){var t=e.basename,n=e.children,u=e.window,s=i.useRef();null==s.current&&(s.current=Object(o.f)({window:u,v5Compat:!0}));var c=s.current,l=i.useState({action:c.action,location:c.location}),f=Object(r.a)(l,2),h=f[0],d=f[1];return i.useLayoutEffect((function(){return c.listen(d)}),[c]),i.createElement(a.d,{basename:t,children:n,location:h.location,navigationType:h.action,navigator:c})}var f="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,h=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,d=i.forwardRef((function(e,t){var n,r=e.onClick,l=e.relative,d=e.reloadDocument,p=e.replace,v=e.state,m=e.target,y=e.to,b=e.preventScrollReset,g=s(e,c),k=i.useContext(a.h).basename,O=!1;if("string"===typeof y&&h.test(y)&&(n=y,f)){var w=new URL(window.location.href),j=y.startsWith("//")?new URL(w.protocol+y):new URL(y),x=Object(o.q)(j.pathname,k);j.origin===w.origin&&null!=x?y=x+j.search+j.hash:O=!0}var E=Object(a.l)(y,{relative:l}),T=function(e,t){var n=void 0===t?{}:t,r=n.target,u=n.replace,s=n.state,c=n.preventScrollReset,l=n.relative,f=Object(a.o)(),h=Object(a.m)(),d=Object(a.q)(e,{relative:l});return i.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();var n=void 0!==u?u:Object(o.i)(h)===Object(o.i)(d);f(e,{replace:n,state:s,preventScrollReset:c,relative:l})}}),[h,f,d,u,s,r,e,c,l])}(y,{replace:p,state:v,target:m,preventScrollReset:b,relative:l});return i.createElement("a",u({},g,{href:n||E,onClick:O||d?r:function(e){r&&r(e),e.defaultPrevented||T(e)},ref:t,target:m}))}));var p,v;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(p||(p={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(v||(v={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(1),i=n(43);function a(e,t){return r.useMemo((function(){return null==e&&null==t?null:function(n){Object(i.a)(e,n),Object(i.a)(t,n)}}),[e,t])}},function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return f}));var r=n(74);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function a(e){if(e.type)return e;if("#"===e.charAt(0))return a(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla"].indexOf(n))throw new Error(Object(r.a)(3,e));var i=e.substring(t+1,e.length-1).split(",");return{type:n,values:i=i.map((function(e){return parseFloat(e)}))}}function o(e){var t=e.type,n=e.values;return-1!==t.indexOf("rgb")?n=n.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(t,"(").concat(n.join(", "),")")}function u(e,t){var n=s(e),r=s(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function s(e){var t="hsl"===(e=a(e)).type?a(function(e){var t=(e=a(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,u=r*Math.min(i,1-i),s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-u*Math.max(Math.min(t-3,9-t,1),-1)},c="rgb",l=[Math.round(255*s(0)),Math.round(255*s(8)),Math.round(255*s(4))];return"hsla"===e.type&&(c+="a",l.push(t[3])),o({type:c,values:l})}(e)).values:e.values;return t=t.map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function c(e,t){return e=a(e),t=i(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),e.values[3]=t,o(e)}function l(e,t){if(e=a(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return o(e)}function f(e,t){if(e=a(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;return o(e)}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return cr})),n.d(t,"b",(function(){return fr})),n.d(t,"c",(function(){return lr})),n.d(t,"d",(function(){return dr})),n.d(t,"e",(function(){return hr})),n.d(t,"f",(function(){return pr})),n.d(t,"g",(function(){return vr})),n.d(t,"h",(function(){return ur})),n.d(t,"i",(function(){return sr}));var r,i=n(15),a=n(9),o=n(27),u=n(24),s=n(11),c=n(12),l=n(3),f=n(2),h="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{},d={},p=p||{},v=h||self;function m(){}function y(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function b(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var g="closure_uid_"+(1e9*Math.random()>>>0),k=0;function O(e,t,n){return e.call.apply(e.bind,arguments)}function w(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function j(e,t,n){return(j=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?O:w).apply(null,arguments)}function x(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function E(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function T(){this.s=this.s,this.o=this.o}T.prototype.s=!1,T.prototype.na=function(){var e;!this.s&&(this.s=!0,this.M(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,g)&&e[g]||(e[g]=++k))},T.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var I=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function S(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function _(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(y(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function C(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}C.prototype.h=function(){this.defaultPrevented=!0};var A=function(){if(!v.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{v.addEventListener("test",m,t),v.removeEventListener("test",m,t)}catch(n){}return e}();function R(e){return/^[\s\xa0]*$/.test(e)}var N=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function D(e,t){return e<t?-1:e>t?1:0}function P(){var e=v.navigator;return e&&(e=e.userAgent)?e:""}function M(e){return-1!=P().indexOf(e)}function L(e){return L[" "](e),e}L[" "]=m;var F,U=M("Opera"),V=M("Trident")||M("MSIE"),B=M("Edge"),z=B||V,q=M("Gecko")&&!(-1!=P().toLowerCase().indexOf("webkit")&&!M("Edge"))&&!(M("Trident")||M("MSIE"))&&!M("Edge"),K=-1!=P().toLowerCase().indexOf("webkit")&&!M("Edge");function W(){var e=v.document;return e?e.documentMode:void 0}e:{var G="",H=function(){var e=P();return q?/rv:([^\);]+)(\)|;)/.exec(e):B?/Edge\/([\d\.]+)/.exec(e):V?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):K?/WebKit\/(\S+)/.exec(e):U?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(H&&(G=H?H[1]:""),V){var Q=W();if(null!=Q&&Q>parseFloat(G)){F=String(Q);break e}}F=G}var $,Y={};function X(){return function(e){var t=Y;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=N(String(F)).split("."),n=N("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=D(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||D(0==a[2].length,0==o[2].length)||D(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(v.document&&V){var J=W();$=J||(parseInt(F,10)||void 0)}else $=void 0;var Z=$;function ee(e,t){if(C.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(q){e:{try{L(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:te[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ee.X.h.call(this)}}E(ee,C);var te={2:"touch",3:"pen",4:"mouse"};ee.prototype.h=function(){ee.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ne="closure_listenable_"+(1e6*Math.random()|0),re=0;function ie(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++re,this.ba=this.ea=!1}function ae(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function oe(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function ue(e){var t={};for(var n in e)t[n]=e[n];return t}var se="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ce(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<se.length;a++)n=se[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function le(e){this.src=e,this.g={},this.h=0}function fe(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=I(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(ae(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function he(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}le.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=he(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new ie(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var de="closure_lm_"+(1e6*Math.random()|0),pe={};function ve(e,t,n,r,i){if(r&&r.once)return ye(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)ve(e,t[a],n,r,i);return null}return n=xe(n),e&&e[ne]?e.N(t,n,b(r)?!!r.capture:!!r,i):me(e,t,n,!1,r,i)}function me(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=b(i)?!!i.capture:!!i,u=we(e);if(u||(e[de]=u=new le(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Oe;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)A||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ke(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ye(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)ye(e,t[a],n,r,i);return null}return n=xe(n),e&&e[ne]?e.O(t,n,b(r)?!!r.capture:!!r,i):me(e,t,n,!0,r,i)}function be(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)be(e,t[a],n,r,i);else r=b(r)?!!r.capture:!!r,n=xe(n),e&&e[ne]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=he(a=e.g[t],n,r,i))&&(ae(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=we(e))&&(t=e.g[t.toString()],e=-1,t&&(e=he(t,n,r,i)),(n=-1<e?t[e]:null)&&ge(n))}function ge(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[ne])fe(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ke(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=we(t))?(fe(n,e),0==n.h&&(n.src=null,t[de]=null)):ae(e)}}}function ke(e){return e in pe?pe[e]:pe[e]="on"+e}function Oe(e,t){if(e.ba)e=!0;else{t=new ee(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&ge(e),e=n.call(r,t)}return e}function we(e){return(e=e[de])instanceof le?e:null}var je="__closure_events_fn_"+(1e9*Math.random()>>>0);function xe(e){return"function"===typeof e?e:(e[je]||(e[je]=function(t){return e.handleEvent(t)}),e[je])}function Ee(){T.call(this),this.i=new le(this),this.P=this,this.I=null}function Te(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new C(t,e);else if(t instanceof C)t.target=t.target||e;else{var i=t;ce(t=new C(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Ie(o,r,!0,t)&&i}if(i=Ie(o=t.g=e,r,!0,t)&&i,i=Ie(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Ie(o=t.g=n[a],r,!1,t)&&i}function Ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var u=o.listener,s=o.ha||o.src;o.ea&&fe(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}E(Ee,T),Ee.prototype[ne]=!0,Ee.prototype.removeEventListener=function(e,t,n,r){be(this,e,t,n,r)},Ee.prototype.M=function(){if(Ee.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ae(n[r]);delete t.g[e],t.h--}}this.I=null},Ee.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Ee.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Se=v.JSON.stringify;function _e(){var e=Le,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Ce,Ae=function(){function e(){Object(l.a)(this,e),this.h=this.g=null}return Object(f.a)(e,[{key:"add",value:function(e,t){var n=Re.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Re=new(function(){function e(t,n){Object(l.a)(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Object(f.a)(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Ne}),(function(e){return e.reset()})),Ne=function(){function e(){Object(l.a)(this,e),this.next=this.g=this.h=null}return Object(f.a)(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function De(e){v.setTimeout((function(){throw e}),0)}function Pe(e,t){Ce||function(){var e=v.Promise.resolve(void 0);Ce=function(){e.then(Fe)}}(),Me||(Ce(),Me=!0),Le.add(e,t)}var Me=!1,Le=new Ae;function Fe(){for(var e;e=_e();){try{e.h.call(e.g)}catch(n){De(n)}var t=Re;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Me=!1}function Ue(e,t){Ee.call(this),this.h=e||1,this.g=t||v,this.j=j(this.lb,this),this.l=Date.now()}function Ve(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function Be(e,t,n){if("function"===typeof e)n&&(e=j(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=j(e.handleEvent,e)}return 2147483647<Number(t)?-1:v.setTimeout(e,t||0)}function ze(e){e.g=Be((function(){e.g=null,e.i&&(e.i=!1,ze(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}E(Ue,Ee),(r=Ue.prototype).ca=!1,r.R=null,r.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Te(this,"tick"),this.ca&&(Ve(this),this.start()))}},r.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},r.M=function(){Ue.X.M.call(this),Ve(this),delete this.g};var qe=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e,r){var i;return Object(l.a)(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Object(f.a)(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:ze(this)}},{key:"M",value:function(){Object(o.a)(Object(u.a)(n.prototype),"M",this).call(this),this.g&&(v.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(T);function Ke(e){T.call(this),this.h=e,this.g={}}E(Ke,T);var We=[];function Ge(e,t,n,r){Array.isArray(n)||(n&&(We[0]=n.toString()),n=We);for(var i=0;i<n.length;i++){var a=ve(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function He(e){oe(e.g,(function(e,t){this.g.hasOwnProperty(t)&&ge(e)}),e),e.g={}}function Qe(){this.g=!0}function $e(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Se(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}Ke.prototype.M=function(){Ke.X.M.call(this),He(this)},Ke.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Qe.prototype.Aa=function(){this.g=!1},Qe.prototype.info=function(){};var Ye={},Xe=null;function Je(){return Xe=Xe||new Ee}function Ze(e){C.call(this,Ye.Pa,e)}function et(e){var t=Je();Te(t,new Ze(t))}function tt(e,t){C.call(this,Ye.STAT_EVENT,e),this.stat=t}function nt(e){var t=Je();Te(t,new tt(t,e))}function rt(e,t){C.call(this,Ye.Qa,e),this.size=t}function it(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return v.setTimeout((function(){e()}),t)}Ye.Pa="serverreachability",E(Ze,C),Ye.STAT_EVENT="statevent",E(tt,C),Ye.Qa="timingevent",E(rt,C);var at={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},ot={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function ut(){}function st(e){return e.h||(e.h=e.i())}function ct(){}ut.prototype.h=null;var lt,ft={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function ht(){C.call(this,"d")}function dt(){C.call(this,"c")}function pt(){}function vt(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new Ke(this),this.O=yt,e=z?125:void 0,this.T=new Ue(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new mt}function mt(){this.i=null,this.g="",this.h=!1}E(ht,C),E(dt,C),E(pt,ut),pt.prototype.g=function(){return new XMLHttpRequest},pt.prototype.i=function(){return{}},lt=new pt;var yt=45e3,bt={},gt={};function kt(e,t,n){e.K=1,e.v=Ut(Dt(t)),e.s=n,e.P=!0,Ot(e,null)}function Ot(e,t){e.F=Date.now(),Et(e),e.A=Dt(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),Jt(n.i,"t",r),e.C=0,n=e.l.H,e.h=new mt,e.g=er(e.l,n?t:null,!e.s),0<e.N&&(e.L=new qe(j(e.La,e,e.g),e.N)),Ge(e.S,e.g,"readystatechange",e.ib),t=e.H?ue(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),et(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function wt(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function jt(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=xt(e,n))==gt){4==t&&(e.o=4,nt(14),i=!1),$e(e.j,e.m,null,"[Incomplete Response]");break}if(r==bt){e.o=4,nt(15),$e(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}$e(e.j,e.m,r,null),Ct(e,r)}wt(e)&&r!=gt&&r!=bt&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,nt(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Gn(t),t.K=!0,nt(11))):($e(e.j,e.m,n,"[Invalid Chunked Response]"),_t(e),St(e))}function xt(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?gt:(n=Number(t.substring(n,r)),isNaN(n)?bt:(r+=1)+n>t.length?gt:(t=t.substr(r,n),e.C=r+n,t))}function Et(e){e.V=Date.now()+e.O,Tt(e,e.O)}function Tt(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=it(j(e.gb,e),t)}function It(e){e.B&&(v.clearTimeout(e.B),e.B=null)}function St(e){0==e.l.G||e.I||$n(e.l,e)}function _t(e){It(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Ve(e.T),He(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Ct(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||un(n.h,e)))if(!e.J&&un(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Qn(n),Fn(n)}Wn(n),nt(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=it(j(n.cb,n),6e3));if(1>=on(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else Xn(n,11)}else if((e.J||n.g==e)&&Qn(n),!R(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var u=a[4];null!=u&&(n.Ca=u,n.j.info("SVER="+n.Ca));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(sn(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.za=h,Ft(r.F,r.D,h))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var d=e;if((r=n).sa=Zn(r,r.H?r.ka:null,r.V),d.J){cn(r.h,d);var p=d,v=r.J;v&&p.setTimeout(v),p.B&&(It(p),Et(p)),r.g=d}else Kn(r);0<n.i.length&&Vn(n)}else"stop"!=a[0]&&"close"!=a[0]||Xn(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Xn(n,7):Ln(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}et()}catch(a){}}function At(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(y(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(y(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(y(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(r=vt.prototype).setTimeout=function(e){this.O=e},r.ib=function(e){e=e.target;var t=this.L;t&&3==An(e)?t.l():this.La(e)},r.La=function(e){try{if(e==this.g)e:{var t=An(this.g),n=this.g.Ea();this.g.aa();if(!(3>t)&&(3!=t||z||this.g&&(this.h.h||this.g.fa()||Rn(this.g)))){this.I||4!=t||7==n||et(),It(this);var r=this.g.aa();this.Y=r;t:if(wt(this)){var i=Rn(this.g);e="";var a=i.length,o=4==An(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){_t(this),St(this);var u="";break t}this.h.i=new v.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.U,t,r),this.i){if(this.Z&&!this.J){t:{if(this.g){var s,c=this.g;if((s=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(s)){var l=s;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,nt(12),_t(this),St(this);break e}$e(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ct(this,r)}this.P?(jt(this,t,u),z&&this.i&&3==t&&(Ge(this.S,this.T,"tick",this.hb),this.T.start())):($e(this.j,this.m,u,null),Ct(this,u)),4==t&&_t(this),this.i&&!this.I&&(4==t?$n(this.l,this):(this.i=!1,Et(this)))}else 400==r&&0<u.indexOf("Unknown SID")?(this.o=3,nt(12)):(this.o=0,nt(13)),_t(this),St(this)}}}catch(t){}},r.hb=function(){if(this.g){var e=An(this.g),t=this.g.fa();this.C<t.length&&(It(this),jt(this,e,t),this.i&&4!=e&&Et(this))}},r.cancel=function(){this.I=!0,_t(this)},r.gb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(et(),nt(17)),_t(this),this.o=2,St(this)):Tt(this,this.V-e)};var Rt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Nt(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Nt){this.h=void 0!==t?t:e.h,Pt(this,e.j),this.s=e.s,this.g=e.g,Mt(this,e.m),this.l=e.l,t=e.i;var n=new Qt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Lt(this,n),this.o=e.o}else e&&(n=String(e).match(Rt))?(this.h=!!t,Pt(this,n[1]||"",!0),this.s=Vt(n[2]||""),this.g=Vt(n[3]||"",!0),Mt(this,n[4]),this.l=Vt(n[5]||"",!0),Lt(this,n[6]||"",!0),this.o=Vt(n[7]||"")):(this.h=!!t,this.i=new Qt(null,this.h))}function Dt(e){return new Nt(e)}function Pt(e,t,n){e.j=n?Vt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Mt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Lt(e,t,n){t instanceof Qt?(e.i=t,function(e,t){t&&!e.j&&($t(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Yt(this,t),Jt(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Bt(t,Gt)),e.i=new Qt(t,e.h))}function Ft(e,t,n){e.i.set(t,n)}function Ut(e){return Ft(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Vt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Bt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,zt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function zt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Nt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Bt(t,qt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Bt(t,qt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Bt(n,"/"==n.charAt(0)?Wt:Kt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Bt(n,Ht)),e.join("")};var qt=/[#\/\?@]/g,Kt=/[#\?:]/g,Wt=/[#\?]/g,Gt=/[#\?@]/g,Ht=/#/g;function Qt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function $t(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Yt(e,t){$t(e),t=Zt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Xt(e,t){return $t(e),t=Zt(e,t),e.g.has(t)}function Jt(e,t,n){Yt(e,t),0<n.length&&(e.i=null,e.g.set(Zt(e,t),S(n)),e.h+=n.length)}function Zt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(r=Qt.prototype).add=function(e,t){$t(this),this.i=null,e=Zt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},r.forEach=function(e,t){$t(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},r.oa=function(){$t(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},r.W=function(e){$t(this);var t=[];if("string"===typeof e)Xt(this,e)&&(t=t.concat(this.g.get(Zt(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},r.set=function(e,t){return $t(this),this.i=null,Xt(this,e=Zt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},r.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},r.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var en=Object(f.a)((function e(t,n){Object(l.a)(this,e),this.h=t,this.g=n}));function tn(e){this.l=e||rn,v.PerformanceNavigationTiming?e=0<(e=v.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(v.g&&v.g.Ga&&v.g.Ga()&&v.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var nn,rn=10;function an(e){return!!e.h||!!e.g&&e.g.size>=e.j}function on(e){return e.h?1:e.g?e.g.size:0}function un(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function sn(e,t){e.g?e.g.add(t):e.h=t}function cn(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function ln(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Object(a.a)(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(o){r.e(o)}finally{r.f()}return n}return S(e.i)}function fn(){}function hn(){this.g=new fn}function dn(e,t,n){var r=n||"";try{At(e,(function(e,n){var i=e;b(e)&&(i=Se(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function pn(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function vn(e){this.l=e.ac||null,this.j=e.jb||!1}function mn(e,t){Ee.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=yn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}tn.prototype.cancel=function(){if(this.i=ln(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Object(a.a)(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},fn.prototype.stringify=function(e){return v.JSON.stringify(e,void 0)},fn.prototype.parse=function(e){return v.JSON.parse(e,void 0)},E(vn,ut),vn.prototype.g=function(){return new mn(this.l,this.j)},vn.prototype.i=(nn={},function(){return nn}),E(mn,Ee);var yn=0;function bn(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function gn(e){e.readyState=4,e.l=null,e.j=null,e.A=null,kn(e)}function kn(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(r=mn.prototype).open=function(e,t){if(this.readyState!=yn)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,kn(this)},r.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||v).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,gn(this)),this.readyState=yn},r.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,kn(this)),this.g&&(this.readyState=3,kn(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof v.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;bn(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},r.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?gn(this):kn(this),3==this.readyState&&bn(this)}},r.Va=function(e){this.g&&(this.response=this.responseText=e,gn(this))},r.Ua=function(e){this.g&&(this.response=e,gn(this))},r.ga=function(){this.g&&gn(this)},r.setRequestHeader=function(e,t){this.v.append(e,t)},r.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(mn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var On=v.JSON.parse;function wn(e){Ee.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=jn,this.K=this.L=!1}E(wn,Ee);var jn="",xn=/^https?$/i,En=["POST","PUT"];function Tn(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,In(e),_n(e)}function In(e){e.D||(e.D=!0,Te(e,"complete"),Te(e,"error"))}function Sn(e){if(e.h&&"undefined"!=typeof p&&(!e.C[1]||4!=An(e)||2!=e.aa()))if(e.v&&4==An(e))Be(e.Ha,0,e);else if(Te(e,"readystatechange"),4==An(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Rt)[1]||null;if(!a&&v.self&&v.self.location){var o=v.self.location.protocol;a=o.substr(0,o.length-1)}i=!xn.test(a?a.toLowerCase():"")}t=i}if(t)Te(e,"complete"),Te(e,"success");else{e.m=6;try{var u=2<An(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.aa()+"]",In(e)}}finally{_n(e)}}}function _n(e,t){if(e.g){Cn(e);var n=e.g,r=e.C[0]?m:null;e.g=null,e.C=null,t||Te(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Cn(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(v.clearTimeout(e.A),e.A=null)}function An(e){return e.g?e.g.readyState:0}function Rn(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case jn:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Nn(e){var t="";return oe(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Dn(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Nn(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Ft(e,t,n))}function Pn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Mn(e){this.Ca=0,this.i=[],this.j=new Qe,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Pn("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Pn("baseRetryDelayMs",5e3,e),this.bb=Pn("retryDelaySeedMs",1e4,e),this.$a=Pn("forwardChannelMaxRetries",2,e),this.ta=Pn("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new tn(e&&e.concurrentRequestLimit),this.Fa=new hn,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Ln(e){if(Un(e),3==e.G){var t=e.U++,n=Dt(e.F);Ft(n,"SID",e.I),Ft(n,"RID",t),Ft(n,"TYPE","terminate"),zn(e,n),(t=new vt(e,e.j,t,void 0)).K=2,t.v=Ut(Dt(n)),n=!1,v.navigator&&v.navigator.sendBeacon&&(n=v.navigator.sendBeacon(t.v.toString(),"")),!n&&v.Image&&((new Image).src=t.v,n=!0),n||(t.g=er(t.l,null),t.g.da(t.v)),t.F=Date.now(),Et(t)}Jn(e)}function Fn(e){e.g&&(Gn(e),e.g.cancel(),e.g=null)}function Un(e){Fn(e),e.u&&(v.clearTimeout(e.u),e.u=null),Qn(e),e.h.cancel(),e.m&&("number"===typeof e.m&&v.clearTimeout(e.m),e.m=null)}function Vn(e){an(e.h)||e.m||(e.m=!0,Pe(e.Ja,e),e.C=0)}function Bn(e,t){var n;n=t?t.m:e.U++;var r=Dt(e.F);Ft(r,"SID",e.I),Ft(r,"RID",n),Ft(r,"AID",e.T),zn(e,r),e.o&&e.s&&Dn(r,e.o,e.s),n=new vt(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=qn(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),sn(e.h,n),kt(n,r,t)}function zn(e,t){e.ia&&oe(e.ia,(function(e,n){Ft(t,n,e)})),e.l&&At({},(function(e,n){Ft(t,n,e)}))}function qn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?j(e.l.Ra,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{dn(l,o,"req"+c+"_")}catch(f){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function Kn(e){e.g||e.u||(e.Z=1,Pe(e.Ia,e),e.A=0)}function Wn(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=it(j(e.Ia,e),Yn(e,e.A)),e.A++,!0)}function Gn(e){null!=e.B&&(v.clearTimeout(e.B),e.B=null)}function Hn(e){e.g=new vt(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=Dt(e.sa);Ft(t,"RID","rpc"),Ft(t,"SID",e.I),Ft(t,"CI",e.L?"0":"1"),Ft(t,"AID",e.T),Ft(t,"TYPE","xmlhttp"),zn(e,t),e.o&&e.s&&Dn(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=Ut(Dt(t)),n.s=null,n.P=!0,Ot(n,e)}function Qn(e){null!=e.v&&(v.clearTimeout(e.v),e.v=null)}function $n(e,t){var n=null;if(e.g==t){Qn(e),Gn(e),e.g=null;var r=2}else{if(!un(e.h,t))return;n=t.D,cn(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Te(r=Je(),new rt(r,n)),Vn(e)}else Kn(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(on(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=it(j(e.Ja,e,t),Yn(e,e.C)),e.C++,!0))}(e,t)||2==r&&Wn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:Xn(e,5);break;case 4:Xn(e,10);break;case 3:Xn(e,6);break;default:Xn(e,2)}}function Yn(e,t){var n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function Xn(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=j(e.kb,e);n||(n=new Nt("//www.google.com/images/cleardot.gif"),v.location&&"http"==v.location.protocol||Pt(n,"https"),Ut(n)),function(e,t){var n=new Qe;if(v.Image){var r=new Image;r.onload=x(pn,n,r,"TestLoadImage: loaded",!0,t),r.onerror=x(pn,n,r,"TestLoadImage: error",!1,t),r.onabort=x(pn,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=x(pn,n,r,"TestLoadImage: timeout",!1,t),v.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else nt(2);e.G=0,e.l&&e.l.va(t),Jn(e),Un(e)}function Jn(e){if(e.G=0,e.la=[],e.l){var t=ln(e.h);0==t.length&&0==e.i.length||(_(e.la,t),_(e.la,e.i),e.h.i.length=0,S(e.i),e.i.length=0),e.l.ua()}}function Zn(e,t,n){var r=n instanceof Nt?Dt(n):new Nt(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),Mt(r,r.m);else{var i=v.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new Nt(null,void 0);r&&Pt(a,r),t&&(a.g=t),i&&Mt(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&Ft(r,n,t),Ft(r,"VER",e.ma),zn(e,r),r}function er(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new wn(new vn({jb:!0})):new wn(e.ra)).Ka(e.H),t}function tr(){}function nr(){if(V&&!(10<=Number(Z)))throw Error("Environmental error: no available transport.")}function rr(e,t){Ee.call(this),this.g=new Mn(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!R(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!R(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new or(this)}function ir(e){ht.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function ar(){dt.call(this),this.status=1}function or(e){this.g=e}(r=wn.prototype).Ka=function(e){this.L=e},r.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():lt.g(),this.C=this.u?st(this.u):st(lt),this.g.onreadystatechange=j(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(c){return void Tn(this,c)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)n.set(o,r[o]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var u,s=Object(a.a)(r.keys());try{for(s.s();!(u=s.n()).done;){var c=u.value;n.set(c,r.get(c))}}catch(m){s.e(m)}finally{s.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),o=v.FormData&&e instanceof v.FormData,!(0<=I(En,t))||r||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var l,f=Object(a.a)(n);try{for(f.s();!(l=f.n()).done;){var h=Object(i.a)(l.value,2),d=h[0],p=h[1];this.g.setRequestHeader(d,p)}}catch(m){f.e(m)}finally{f.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Cn(this),0<this.B&&((this.K=function(e){return V&&X()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=j(this.qa,this)):this.A=Be(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(c){Tn(this,c)}},r.qa=function(){"undefined"!=typeof p&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Te(this,"timeout"),this.abort(8))},r.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Te(this,"complete"),Te(this,"abort"),_n(this))},r.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),_n(this,!0)),wn.X.M.call(this)},r.Ha=function(){this.s||(this.F||this.v||this.l?Sn(this):this.fb())},r.fb=function(){Sn(this)},r.aa=function(){try{return 2<An(this)?this.g.status:-1}catch(nn){return-1}},r.fa=function(){try{return this.g?this.g.responseText:""}catch(nn){return""}},r.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),On(t)}},r.Ea=function(){return this.m},r.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},(r=Mn.prototype).ma=8,r.G=1,r.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new vt(this,this.j,e,void 0),n=this.s;if(this.S&&(n?ce(n=ue(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=qn(this,t,r),Ft(i=Dt(this.F),"RID",e),Ft(i,"CVER",22),this.D&&Ft(i,"X-HTTP-Session-Id",this.D),zn(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(Nn(n)))+"&"+r:this.o&&Dn(i,this.o,n)),sn(this.h,t),this.Ya&&Ft(i,"TYPE","init"),this.O?(Ft(i,"$req",r),Ft(i,"SID","null"),t.Z=!0,kt(t,i,null)):kt(t,i,r),this.G=2}}else 3==this.G&&(e?Bn(this,e):0==this.i.length||an(this.h)||Bn(this))},r.Ia=function(){if(this.u=null,Hn(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=it(j(this.eb,this),e)}},r.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,nt(10),Fn(this),Hn(this))},r.cb=function(){null!=this.v&&(this.v=null,Fn(this),Wn(this),nt(19))},r.kb=function(e){e?(this.j.info("Successfully pinged google.com"),nt(2)):(this.j.info("Failed to ping google.com"),nt(1))},(r=tr.prototype).xa=function(){},r.wa=function(){},r.va=function(){},r.ua=function(){},r.Ra=function(){},nr.prototype.g=function(e,t){return new rr(e,t)},E(rr,Ee),rr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;nt(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=Zn(e,null,e.V),Vn(e)},rr.prototype.close=function(){Ln(this.g)},rr.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Se(e),e=n);t.i.push(new en(t.ab++,e)),3==t.G&&Vn(t)},rr.prototype.M=function(){this.g.l=null,delete this.j,Ln(this.g),delete this.g,rr.X.M.call(this)},E(ir,ht),E(ar,dt),E(or,tr),or.prototype.xa=function(){Te(this.g,"a")},or.prototype.wa=function(e){Te(this.g,new ir(e))},or.prototype.va=function(e){Te(this.g,new ar)},or.prototype.ua=function(){Te(this.g,"b")},nr.prototype.createWebChannel=nr.prototype.g,rr.prototype.send=rr.prototype.u,rr.prototype.open=rr.prototype.m,rr.prototype.close=rr.prototype.close,at.NO_ERROR=0,at.TIMEOUT=8,at.HTTP_ERROR=6,ot.COMPLETE="complete",ct.EventType=ft,ft.OPEN="a",ft.CLOSE="b",ft.ERROR="c",ft.MESSAGE="d",Ee.prototype.listen=Ee.prototype.N,wn.prototype.listenOnce=wn.prototype.O,wn.prototype.getLastError=wn.prototype.Oa,wn.prototype.getLastErrorCode=wn.prototype.Ea,wn.prototype.getStatus=wn.prototype.aa,wn.prototype.getResponseJson=wn.prototype.Sa,wn.prototype.getResponseText=wn.prototype.fa,wn.prototype.send=wn.prototype.da,wn.prototype.setWithCredentials=wn.prototype.Ka;var ur=d.createWebChannelTransport=function(){return new nr},sr=d.getStatEventTarget=function(){return Je()},cr=d.ErrorCode=at,lr=d.EventType=ot,fr=d.Event=Ye,hr=d.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},dr=d.FetchXmlHttpFactory=vn,pr=d.WebChannel=ct,vr=d.XhrIo=wn}).call(this,n(65))},function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var r,i=n(5),a=n(3),o=n(2),u=n(6),s=n(28),c=n(21),l=n(29),f=function(){function e(t,n){var r=this;Object(a.a)(this,e),this._delegate=t,this.firebase=n,Object(c._addComponent)(t,new s.a("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return Object(o.a)(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Object(c.deleteApp)(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c._DEFAULT_ENTRY_NAME;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c._DEFAULT_ENTRY_NAME;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Object(c._addComponent)(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Object(c._addOrOverwriteComponent)(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),h=(r={},Object(i.a)(r,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Object(i.a)(r,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),r),d=new u.b("app-compat","Firebase",h);var p=function e(){var t=function(e){var t={},n={__esModule:!0,initializeApp:function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=c.initializeApp(r,i);if(Object(u.f)(t,a.name))return t[a.name];var o=new e(a,n);return t[a.name]=o,o},app:r,registerVersion:c.registerVersion,setLogLevel:c.setLogLevel,onLog:c.onLog,apps:null,SDK_VERSION:c.SDK_VERSION,INTERNAL:{registerComponent:function(t){var i=t.name,a=i.replace("-compat","");if(c._registerComponent(t)&&"PUBLIC"===t.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r();if("function"!==typeof e[a])throw d.create("invalid-app-argument",{appName:i});return e[a]()};void 0!==t.serviceProps&&Object(u.j)(o,t.serviceProps),n[a]=o,e.prototype[a]=function(){for(var e=this._getService.bind(this,i),n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e.apply(this,t.multipleInstances?r:[])}}return"PUBLIC"===t.type?n[a]:null},removeApp:function(e){delete t[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:c}};function r(e){if(e=e||c._DEFAULT_ENTRY_NAME,!Object(u.f)(t,e))throw d.create("no-app",{appName:e});return t[e]}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),r.App=e,n}(f);return t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){Object(u.j)(t,e)},createSubscribe:u.h,ErrorFactory:u.b,deepExtend:u.j}),t}(),v=new l.b("@firebase/app-compat"),m="@firebase/app-compat",y="0.2.4";if(Object(u.r)()&&void 0!==self.firebase){v.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var b=self.firebase.SDK_VERSION;b&&b.indexOf("LITE")>=0&&v.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var g,k=p;Object(c.registerVersion)(m,y,g)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(1),i="undefined"!==typeof window?r.useLayoutEffect:r.useEffect;function a(e){var t=r.useRef(e);return i((function(){t.current=e})),r.useCallback((function(){return t.current.apply(void 0,arguments)}),[])}},function(e,t,n){"use strict";var r=n(94);t.a=function(e,t){return t?Object(r.a)(e,t,{clone:!1}):e}},function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(53);function i(e,t){if(e){if("string"===typeof e)return Object(r.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(e,t):void 0}}},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,"a",(function(){return r}))},,function(e,t,n){"use strict";function r(e,t){"function"===typeof e?e(t):e&&(e.current=t)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(39);function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Object(r.a)(e,t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(24),i=n(39);var a=n(46);function o(e){var t="function"===typeof Map?new Map:void 0;return o=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,o)}function o(){return Object(a.a)(e,arguments,Object(r.a)(this).constructor)}return o.prototype=Object.create(e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),Object(i.a)(o,e)},o(e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(39),i=n(55);function a(e,t,n){return a=Object(i.a)()?Reflect.construct.bind():function(e,t,n){var i=[null];i.push.apply(i,t);var a=new(Function.bind.apply(e,i));return n&&Object(r.a)(a,n.prototype),a},a.apply(null,arguments)}},function(e,t,n){"use strict";var r=n(5),i=n(17),a=n(94),o=n(8),u=["xs","sm","md","lg","xl"];function s(e,t,n){var i;return Object(o.a)({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.warn(["Material-UI: theme.mixins.gutters() is deprecated.","You can use the source of the mixin directly:","\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(2),\n      [theme.breakpoints.up('sm')]: {\n        paddingLeft: theme.spacing(3),\n        paddingRight: theme.spacing(3),\n      },\n      "].join("\n")),Object(o.a)({paddingLeft:t(2),paddingRight:t(2)},n,Object(r.a)({},e.up("sm"),Object(o.a)({paddingLeft:t(3),paddingRight:t(3)},n[e.up("sm")])))},toolbar:(i={minHeight:56},Object(r.a)(i,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),Object(r.a)(i,e.up("sm"),{minHeight:64}),i)},n)}var c=n(74),l={black:"#000",white:"#fff"},f={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},h={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},d={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},p={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},v={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},m={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},y={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},b=n(32),g={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:l.white,default:f[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},k={text:{primary:l.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:f[800],default:"#303030"},action:{active:l.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function O(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=Object(b.d)(e.main,i):"dark"===t&&(e.dark=Object(b.b)(e.main,a)))}function w(e){return Math.round(1e5*e)/1e5}function j(e){return w(e)}var x={textTransform:"uppercase"},E='"Roboto", "Helvetica", "Arial", sans-serif';function T(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,u=void 0===r?E:r,s=n.fontSize,c=void 0===s?14:s,l=n.fontWeightLight,f=void 0===l?300:l,h=n.fontWeightRegular,d=void 0===h?400:h,p=n.fontWeightMedium,v=void 0===p?500:p,m=n.fontWeightBold,y=void 0===m?700:m,b=n.htmlFontSize,g=void 0===b?16:b,k=n.allVariants,O=n.pxToRem,T=Object(i.a)(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]);var I=c/14,S=O||function(e){return"".concat(e/g*I,"rem")},_=function(e,t,n,r,i){return Object(o.a)({fontFamily:u,fontWeight:e,fontSize:S(t),lineHeight:n},u===E?{letterSpacing:"".concat(w(r/t),"em")}:{},i,k)},C={h1:_(f,96,1.167,-1.5),h2:_(f,60,1.2,-.5),h3:_(d,48,1.167,0),h4:_(d,34,1.235,.25),h5:_(d,24,1.334,0),h6:_(v,20,1.6,.15),subtitle1:_(d,16,1.75,.15),subtitle2:_(v,14,1.57,.1),body1:_(d,16,1.5,.15),body2:_(d,14,1.43,.15),button:_(v,14,1.75,.4,x),caption:_(d,12,1.66,.4),overline:_(d,12,2.66,1,x)};return Object(a.a)(Object(o.a)({htmlFontSize:g,pxToRem:S,round:j,fontFamily:u,fontSize:c,fontWeightLight:f,fontWeightRegular:d,fontWeightMedium:v,fontWeightBold:y},C),T,{clone:!1})}var I=.2,S=.14,_=.12;function C(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(I,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(S,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(_,")")].join(",")}var A=["none",C(0,2,1,-1,0,1,1,0,0,1,3,0),C(0,3,1,-2,0,2,2,0,0,1,5,0),C(0,3,3,-2,0,3,4,0,0,1,8,0),C(0,2,4,-1,0,4,5,0,0,1,10,0),C(0,3,5,-1,0,5,8,0,0,1,14,0),C(0,3,5,-1,0,6,10,0,0,1,18,0),C(0,4,5,-2,0,7,10,1,0,2,16,1),C(0,5,5,-3,0,8,10,1,0,3,14,2),C(0,5,6,-3,0,9,12,1,0,3,16,2),C(0,6,6,-3,0,10,14,1,0,4,18,3),C(0,6,7,-4,0,11,15,1,0,4,20,3),C(0,7,8,-4,0,12,17,2,0,5,22,4),C(0,7,8,-4,0,13,19,2,0,5,24,4),C(0,7,9,-4,0,14,21,2,0,5,26,4),C(0,8,9,-5,0,15,22,2,0,6,28,5),C(0,8,10,-5,0,16,24,2,0,6,30,5),C(0,8,11,-5,0,17,26,2,0,6,32,5),C(0,9,11,-5,0,18,28,2,0,7,34,6),C(0,9,12,-6,0,19,29,2,0,7,36,6),C(0,10,13,-6,0,20,31,3,0,8,38,7),C(0,10,13,-6,0,21,33,3,0,8,40,7),C(0,10,14,-6,0,22,35,3,0,8,42,7),C(0,11,14,-7,0,23,36,3,0,9,44,8),C(0,11,15,-7,0,24,38,3,0,9,46,8)],R={borderRadius:4},N=n(132);var D={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},P={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function M(e){return"".concat(Math.round(e),"ms")}var L={easing:D,duration:P,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.duration,r=void 0===n?P.standard:n,a=t.easing,o=void 0===a?D.easeInOut:a,u=t.delay,s=void 0===u?0:u;Object(i.a)(t,["duration","easing","delay"]);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof r?r:M(r)," ").concat(o," ").concat("string"===typeof s?s:M(s))})).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}},F=n(62);function U(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.mixins,w=void 0===r?{}:r,j=e.palette,x=void 0===j?{}:j,E=e.spacing,I=e.typography,S=void 0===I?{}:I,_=Object(i.a)(e,["breakpoints","mixins","palette","spacing","typography"]),C=function(e){var t=e.primary,n=void 0===t?{light:h[300],main:h[500],dark:h[700]}:t,r=e.secondary,u=void 0===r?{light:d.A200,main:d.A400,dark:d.A700}:r,s=e.error,w=void 0===s?{light:p[300],main:p[500],dark:p[700]}:s,j=e.warning,x=void 0===j?{light:v[300],main:v[500],dark:v[700]}:j,E=e.info,T=void 0===E?{light:m[300],main:m[500],dark:m[700]}:E,I=e.success,S=void 0===I?{light:y[300],main:y[500],dark:y[700]}:I,_=e.type,C=void 0===_?"light":_,A=e.contrastThreshold,R=void 0===A?3:A,N=e.tonalOffset,D=void 0===N?.2:N,P=Object(i.a)(e,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function M(e){return Object(b.c)(e,k.text.primary)>=R?k.text.primary:g.text.primary}var L=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;if(!(e=Object(o.a)({},e)).main&&e[t]&&(e.main=e[t]),!e.main)throw new Error(Object(c.a)(4,t));if("string"!==typeof e.main)throw new Error(Object(c.a)(5,JSON.stringify(e.main)));return O(e,"light",n,D),O(e,"dark",r,D),e.contrastText||(e.contrastText=M(e.main)),e},F={dark:k,light:g};return Object(a.a)(Object(o.a)({common:l,type:C,primary:L(n),secondary:L(u,"A400","A200","A700"),error:L(w),warning:L(x),info:L(T),success:L(S),grey:f,contrastThreshold:R,getContrastText:M,augmentColor:L,tonalOffset:D},F[C]),P)}(x),D=function(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,r=e.unit,a=void 0===r?"px":r,s=e.step,c=void 0===s?5:s,l=Object(i.a)(e,["values","unit","step"]);function f(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(a,")")}function h(e,t){var r=u.indexOf(t);return r===u.length-1?f(e):"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(a,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[u[r+1]]?n[u[r+1]]:t)-c/100).concat(a,")")}return Object(o.a)({keys:u,values:n,up:f,down:function(e){var t=u.indexOf(e)+1,r=n[u[t]];return t===u.length?f("xs"):"@media (max-width:".concat(("number"===typeof r&&t>0?r:e)-c/100).concat(a,")")},between:h,only:function(e){return h(e,e)},width:function(e){return n[e]}},l)}(n),P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=Object(N.a)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return 0===n.length?t(1):1===n.length?t(n[0]):n.map((function(e){if("string"===typeof e)return e;var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return e}}),n.mui=!0,n}(E),M=Object(a.a)({breakpoints:D,direction:"ltr",mixins:s(D,P,w),overrides:{},palette:C,props:{},shadows:A,typography:T(C,S),spacing:P,shape:R,transitions:L,zIndex:F.a},_),U=arguments.length,V=new Array(U>1?U-1:0),B=1;B<U;B++)V[B-1]=arguments[B];return M=V.reduce((function(e,t){return Object(a.a)(e,t)}),M)}var V=U();t.a=V},function(e,t,n){"use strict";var r=n(1),i=n.n(r);t.a=i.a.createContext(null)},function(e,t,n){"use strict";var r=n(1),i=r.createContext({});t.a=i},,,,function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",(function(){return r}))},,function(e,t,n){"use strict";function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(56),i=n(58),a=n(40),o=n(57);function u(e){return Object(r.a)(e)||Object(i.a)(e)||Object(a.a)(e)||Object(o.a)()}},function(e,t,n){"use strict";var r=n(89),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!u||!u[y])){var b=h(n,y);try{c(t,y,b)}catch(g){}}}}return t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n(18),n(8);var r=n(34),i=(n(38),{xs:0,sm:600,md:960,lg:1280,xl:1920}),a={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(i[e],"px)")}};function o(e,t,n){if(Array.isArray(t)){var i=e.theme.breakpoints||a;return t.reduce((function(e,r,a){return e[i.up(i.keys[a])]=n(t[a]),e}),{})}if("object"===Object(r.a)(t)){var o=e.theme.breakpoints||a;return Object.keys(t).reduce((function(e,r){return e[o.up(r)]=n(t[r]),e}),{})}return n(t)}},function(e,t,n){"use strict";t.a={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(34);function i(e){var t=function(e,t){if("object"!==Object(r.a)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Object(r.a)(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Object(r.a)(t)?t:String(t)}},,function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},,,function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var n,o,u=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),s=1;s<arguments.length;s++){for(var c in n=Object(arguments[s]))i.call(n,c)&&(u[c]=n[c]);if(r){o=r(n);for(var l=0;l<o.length;l++)a.call(n,o[l])&&(u[o[l]]=n[o[l]])}}return u}},function(e,t){var n,r,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function u(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:a}catch(e){n=a}try{r="function"===typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var s,c=[],l=!1,f=-1;function h(){l&&s&&(l=!1,s.length?c=s.concat(c):f=-1,c.length&&d())}function d(){if(!l){var e=u(h);l=!0;for(var t=c.length;t;){for(s=c,c=[];++f<t;)s&&s[f].run();f=-1,t=c.length}s=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{return r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function v(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||l||u(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";e.exports=n(91)},function(e,t,n){"use strict";var r=n(36);n.d(t,"a",(function(){return r.a}));r.a.registerVersion("firebase","9.17.2","app-compat")},function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(){}var a={getItem:i,setItem:i,removeItem:i};function o(e){var t="".concat(e,"Storage");return function(e){if("object"!==("undefined"===typeof self?"undefined":r(self))||!(e in self))return!1;try{var t=self[e],n="redux-persist ".concat(e," test");t.setItem(n,"test"),t.getItem(n),t.removeItem(n)}catch(i){return!1}return!0}(t)?self[t]:a}t.a=function(e){var t=o(e);return{getItem:function(e){return new Promise((function(n,r){n(t.getItem(e))}))},setItem:function(e,n){return new Promise((function(r,i){r(t.setItem(e,n))}))},removeItem:function(e){return new Promise((function(n,r){n(t.removeItem(e))}))}}}("local")},function(e,t,n){"use strict";var r=n(17),i=n(8),a=n(1),o=n(19),u=n(20),s=a.forwardRef((function(e,t){var n=e.classes,u=e.className,s=e.component,c=void 0===s?"div":s,l=e.square,f=void 0!==l&&l,h=e.elevation,d=void 0===h?1:h,p=e.variant,v=void 0===p?"elevation":p,m=Object(r.a)(e,["classes","className","component","square","elevation","variant"]);return a.createElement(c,Object(i.a)({className:Object(o.a)(n.root,u,"outlined"===v?n.outlined:n["elevation".concat(d)],!f&&n.rounded),ref:t},m))}));t.a=Object(u.a)((function(e){var t={};return e.shadows.forEach((function(e,n){t["elevation".concat(n)]={boxShadow:e}})),Object(i.a)({root:{backgroundColor:e.palette.background.paper,color:e.palette.text.primary,transition:e.transitions.create("box-shadow")},rounded:{borderRadius:e.shape.borderRadius},outlined:{border:"1px solid ".concat(e.palette.divider)}},t)}),{name:"MuiPaper"})(s)},function(e,t,n){"use strict";function r(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified Material-UI error #"+e+"; visit "+t+" for the full message."}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=n(8),i=n(17),a=n(1),o=n.n(a),u=n(23),s=n(19),c=n(31),l=n(37),f=n(20),h=!0,d=!1,p=null,v={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function m(e){e.metaKey||e.altKey||e.ctrlKey||(h=!0)}function y(){h=!1}function b(){"hidden"===this.visibilityState&&d&&(h=!0)}function g(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return h||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!v[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}function k(){d=!0,window.clearTimeout(p),p=window.setTimeout((function(){d=!1}),100)}function O(){return{isFocusVisible:g,onBlurVisible:k,ref:a.useCallback((function(e){var t,n=u.findDOMNode(e);null!=n&&((t=n.ownerDocument).addEventListener("keydown",m,!0),t.addEventListener("mousedown",y,!0),t.addEventListener("pointerdown",y,!0),t.addEventListener("touchstart",y,!0),t.addEventListener("visibilitychange",b,!0))}),[])}}var w=n(18),j=n(41),x=n(35),E=n(44),T=n(48);function I(e,t){var n=Object.create(null);return e&&a.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&Object(a.isValidElement)(e)?t(e):e}(e)})),n}function S(e,t,n){return null!=n[t]?n[t]:e.props[t]}function _(e,t,n){var r=I(e.children),i=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),a=[];for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o);var u={};for(var s in t){if(i[s])for(r=0;r<i[s].length;r++){var c=i[s][r];u[i[s][r]]=n(c)}u[s]=n(s)}for(r=0;r<a.length;r++)u[a[r]]=n(a[r]);return u}(t,r);return Object.keys(i).forEach((function(o){var u=i[o];if(Object(a.isValidElement)(u)){var s=o in t,c=o in r,l=t[o],f=Object(a.isValidElement)(l)&&!l.props.in;!c||s&&!f?c||!s||f?c&&s&&Object(a.isValidElement)(l)&&(i[o]=Object(a.cloneElement)(u,{onExited:n.bind(null,u),in:l.props.in,exit:S(u,"exit",e),enter:S(u,"enter",e)})):i[o]=Object(a.cloneElement)(u,{in:!1}):i[o]=Object(a.cloneElement)(u,{onExited:n.bind(null,u),in:!0,exit:S(u,"exit",e),enter:S(u,"enter",e)})}})),i}var C=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},A=function(e){function t(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(Object(x.a)(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}Object(E.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,i=t.children,o=t.handleExited;return{children:t.firstRender?(n=e,r=o,I(n.children,(function(e){return Object(a.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:S(e,"appear",n),enter:S(e,"enter",n),exit:S(e,"exit",n)})}))):_(e,i,o),firstRender:!1}},n.handleExited=function(e,t){var n=I(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=Object(r.a)({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=Object(j.a)(e,["component","childFactory"]),i=this.state.contextValue,a=C(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?o.a.createElement(T.a.Provider,{value:i},a):o.a.createElement(T.a.Provider,{value:i},o.a.createElement(t,r,a))},t}(o.a.Component);A.propTypes={},A.defaultProps={component:"div",childFactory:function(e){return e}};var R=A,N="undefined"===typeof window?a.useEffect:a.useLayoutEffect;var D=function(e){var t=e.classes,n=e.pulsate,r=void 0!==n&&n,i=e.rippleX,o=e.rippleY,u=e.rippleSize,c=e.in,f=e.onExited,h=void 0===f?function(){}:f,d=e.timeout,p=a.useState(!1),v=p[0],m=p[1],y=Object(s.a)(t.ripple,t.rippleVisible,r&&t.ripplePulsate),b={width:u,height:u,top:-u/2+o,left:-u/2+i},g=Object(s.a)(t.child,v&&t.childLeaving,r&&t.childPulsate),k=Object(l.a)(h);return N((function(){if(!c){m(!0);var e=setTimeout(k,d);return function(){clearTimeout(e)}}}),[k,c,d]),a.createElement("span",{className:y,style:b},a.createElement("span",{className:g}))},P=80,M=a.forwardRef((function(e,t){var n=e.center,o=void 0!==n&&n,u=e.classes,c=e.className,l=Object(i.a)(e,["center","classes","className"]),f=a.useState([]),h=f[0],d=f[1],p=a.useRef(0),v=a.useRef(null);a.useEffect((function(){v.current&&(v.current(),v.current=null)}),[h]);var m=a.useRef(!1),y=a.useRef(null),b=a.useRef(null),g=a.useRef(null);a.useEffect((function(){return function(){clearTimeout(y.current)}}),[]);var k=a.useCallback((function(e){var t=e.pulsate,n=e.rippleX,r=e.rippleY,i=e.rippleSize,o=e.cb;d((function(e){return[].concat(Object(w.a)(e),[a.createElement(D,{key:p.current,classes:u,timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i})])})),p.current+=1,v.current=o}),[u]),O=a.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.pulsate,i=void 0!==r&&r,a=t.center,u=void 0===a?o||t.pulsate:a,s=t.fakeElement,c=void 0!==s&&s;if("mousedown"===e.type&&m.current)m.current=!1;else{"touchstart"===e.type&&(m.current=!0);var l,f,h,d=c?null:g.current,p=d?d.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(u||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)l=Math.round(p.width/2),f=Math.round(p.height/2);else{var v=e.touches?e.touches[0]:e,O=v.clientX,w=v.clientY;l=Math.round(O-p.left),f=Math.round(w-p.top)}if(u)(h=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3))%2===0&&(h+=1);else{var j=2*Math.max(Math.abs((d?d.clientWidth:0)-l),l)+2,x=2*Math.max(Math.abs((d?d.clientHeight:0)-f),f)+2;h=Math.sqrt(Math.pow(j,2)+Math.pow(x,2))}e.touches?null===b.current&&(b.current=function(){k({pulsate:i,rippleX:l,rippleY:f,rippleSize:h,cb:n})},y.current=setTimeout((function(){b.current&&(b.current(),b.current=null)}),P)):k({pulsate:i,rippleX:l,rippleY:f,rippleSize:h,cb:n})}}),[o,k]),j=a.useCallback((function(){O({},{pulsate:!0})}),[O]),x=a.useCallback((function(e,t){if(clearTimeout(y.current),"touchend"===e.type&&b.current)return e.persist(),b.current(),b.current=null,void(y.current=setTimeout((function(){x(e,t)})));b.current=null,d((function(e){return e.length>0?e.slice(1):e})),v.current=t}),[]);return a.useImperativeHandle(t,(function(){return{pulsate:j,start:O,stop:x}}),[j,O,x]),a.createElement("span",Object(r.a)({className:Object(s.a)(u.root,c),ref:g},l),a.createElement(R,{component:null,exit:!0},h))})),L=Object(f.a)((function(e){return{root:{overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"},ripple:{opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"$enter ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:"".concat(e.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"$exit ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},childPulsate:{position:"absolute",left:0,top:0,animation:"$pulsate 2500ms ".concat(e.transitions.easing.easeInOut," 200ms infinite")},"@keyframes enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}}),{flip:!1,name:"MuiTouchRipple"})(a.memo(M)),F=a.forwardRef((function(e,t){var n=e.action,o=e.buttonRef,f=e.centerRipple,h=void 0!==f&&f,d=e.children,p=e.classes,v=e.className,m=e.component,y=void 0===m?"button":m,b=e.disabled,g=void 0!==b&&b,k=e.disableRipple,w=void 0!==k&&k,j=e.disableTouchRipple,x=void 0!==j&&j,E=e.focusRipple,T=void 0!==E&&E,I=e.focusVisibleClassName,S=e.onBlur,_=e.onClick,C=e.onFocus,A=e.onFocusVisible,R=e.onKeyDown,N=e.onKeyUp,D=e.onMouseDown,P=e.onMouseLeave,M=e.onMouseUp,F=e.onTouchEnd,U=e.onTouchMove,V=e.onTouchStart,B=e.onDragLeave,z=e.tabIndex,q=void 0===z?0:z,K=e.TouchRippleProps,W=e.type,G=void 0===W?"button":W,H=Object(i.a)(e,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps","type"]),Q=a.useRef(null);var $=a.useRef(null),Y=a.useState(!1),X=Y[0],J=Y[1];g&&X&&J(!1);var Z=O(),ee=Z.isFocusVisible,te=Z.onBlurVisible,ne=Z.ref;function re(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:x;return Object(l.a)((function(r){return t&&t(r),!n&&$.current&&$.current[e](r),!0}))}a.useImperativeHandle(n,(function(){return{focusVisible:function(){J(!0),Q.current.focus()}}}),[]),a.useEffect((function(){X&&T&&!w&&$.current.pulsate()}),[w,T,X]);var ie=re("start",D),ae=re("stop",B),oe=re("stop",M),ue=re("stop",(function(e){X&&e.preventDefault(),P&&P(e)})),se=re("start",V),ce=re("stop",F),le=re("stop",U),fe=re("stop",(function(e){X&&(te(e),J(!1)),S&&S(e)}),!1),he=Object(l.a)((function(e){Q.current||(Q.current=e.currentTarget),ee(e)&&(J(!0),A&&A(e)),C&&C(e)})),de=function(){var e=u.findDOMNode(Q.current);return y&&"button"!==y&&!("A"===e.tagName&&e.href)},pe=a.useRef(!1),ve=Object(l.a)((function(e){T&&!pe.current&&X&&$.current&&" "===e.key&&(pe.current=!0,e.persist(),$.current.stop(e,(function(){$.current.start(e)}))),e.target===e.currentTarget&&de()&&" "===e.key&&e.preventDefault(),R&&R(e),e.target===e.currentTarget&&de()&&"Enter"===e.key&&!g&&(e.preventDefault(),_&&_(e))})),me=Object(l.a)((function(e){T&&" "===e.key&&$.current&&X&&!e.defaultPrevented&&(pe.current=!1,e.persist(),$.current.stop(e,(function(){$.current.pulsate(e)}))),N&&N(e),_&&e.target===e.currentTarget&&de()&&" "===e.key&&!e.defaultPrevented&&_(e)})),ye=y;"button"===ye&&H.href&&(ye="a");var be={};"button"===ye?(be.type=G,be.disabled=g):("a"===ye&&H.href||(be.role="button"),be["aria-disabled"]=g);var ge=Object(c.a)(o,t),ke=Object(c.a)(ne,Q),Oe=Object(c.a)(ge,ke),we=a.useState(!1),je=we[0],xe=we[1];a.useEffect((function(){xe(!0)}),[]);var Ee=je&&!w&&!g;return a.createElement(ye,Object(r.a)({className:Object(s.a)(p.root,v,X&&[p.focusVisible,I],g&&p.disabled),onBlur:fe,onClick:_,onFocus:he,onKeyDown:ve,onKeyUp:me,onMouseDown:ie,onMouseLeave:ue,onMouseUp:oe,onDragLeave:ae,onTouchEnd:ce,onTouchMove:le,onTouchStart:se,ref:Oe,tabIndex:g?-1:q},be,H),d,Ee?a.createElement(L,Object(r.a)({ref:$,center:h},K)):null)}));t.a=Object(f.a)({root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}},disabled:{},focusVisible:{}},{name:"MuiButtonBase"})(F)},,,,,,function(e,t,n){"use strict";var r=n(68),i="function"===typeof Symbol&&Symbol.for,a=i?Symbol.for("react.element"):60103,o=i?Symbol.for("react.portal"):60106,u=i?Symbol.for("react.fragment"):60107,s=i?Symbol.for("react.strict_mode"):60108,c=i?Symbol.for("react.profiler"):60114,l=i?Symbol.for("react.provider"):60109,f=i?Symbol.for("react.context"):60110,h=i?Symbol.for("react.forward_ref"):60112,d=i?Symbol.for("react.suspense"):60113,p=i?Symbol.for("react.memo"):60115,v=i?Symbol.for("react.lazy"):60116,m="function"===typeof Symbol&&Symbol.iterator;function y(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g={};function k(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||b}function O(){}function w(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||b}k.prototype.isReactComponent={},k.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(y(85));this.updater.enqueueSetState(this,e,t,"setState")},k.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},O.prototype=k.prototype;var j=w.prototype=new O;j.constructor=w,r(j,k.prototype),j.isPureReactComponent=!0;var x={current:null},E=Object.prototype.hasOwnProperty,T={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,n){var r,i={},o=null,u=null;if(null!=t)for(r in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)E.call(t,r)&&!T.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];i.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return{$$typeof:a,type:e,key:o,ref:u,props:i,_owner:x.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===a}var _=/\/+/g,C=[];function A(e,t,n,r){if(C.length){var i=C.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function R(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>C.length&&C.push(e)}function N(e,t,n,r){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var u=!1;if(null===e)u=!0;else switch(i){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case a:case o:u=!0}}if(u)return n(r,e,""===t?"."+P(e,0):t),1;if(u=0,t=""===t?".":t+":",Array.isArray(e))for(var s=0;s<e.length;s++){var c=t+P(i=e[s],s);u+=N(i,c,n,r)}else if(null===e||"object"!==typeof e?c=null:c="function"===typeof(c=m&&e[m]||e["@@iterator"])?c:null,"function"===typeof c)for(e=c.call(e),s=0;!(i=e.next()).done;)u+=N(i=i.value,c=t+P(i,s++),n,r);else if("object"===i)throw n=""+e,Error(y(31,"[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n,""));return u}function D(e,t,n){return null==e?0:N(e,"",t,n)}function P(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function M(e,t){e.func.call(e.context,t,e.count++)}function L(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?F(e,r,n,(function(e){return e})):null!=e&&(S(e)&&(e=function(e,t){return{$$typeof:a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(_,"$&/")+"/")+n)),r.push(e))}function F(e,t,n,r,i){var a="";null!=n&&(a=(""+n).replace(_,"$&/")+"/"),D(e,L,t=A(t,a,r,i)),R(t)}var U={current:null};function V(){var e=U.current;if(null===e)throw Error(y(321));return e}var B={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:x,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:function(e,t,n){if(null==e)return e;var r=[];return F(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;D(e,M,t=A(null,null,t,n)),R(t)},count:function(e){return D(e,(function(){return null}),null)},toArray:function(e){var t=[];return F(e,t,null,(function(e){return e})),t},only:function(e){if(!S(e))throw Error(y(143));return e}},t.Component=k,t.Fragment=u,t.Profiler=c,t.PureComponent=w,t.StrictMode=s,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(y(267,e));var i=r({},e.props),o=e.key,u=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(u=t.ref,s=x.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)E.call(t,l)&&!T.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];i.children=c}return{$$typeof:a,type:e.type,key:o,ref:u,props:i,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:f,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:h,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:v,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:p,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return V().useCallback(e,t)},t.useContext=function(e,t){return V().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return V().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return V().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return V().useLayoutEffect(e,t)},t.useMemo=function(e,t){return V().useMemo(e,t)},t.useReducer=function(e,t,n){return V().useReducer(e,t,n)},t.useRef=function(e){return V().useRef(e)},t.useState=function(e){return V().useState(e)},t.version="16.14.0"},,function(e,t,n){"use strict";var r=n(1),i=n(68),a=n(84);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));function u(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var s=!1,c=null,l=!1,f=null,h={onError:function(e){s=!0,c=e}};function d(e,t,n,r,i,a,o,l,f){s=!1,c=null,u.apply(h,arguments)}var p=null,v=null,m=null;function y(e,t,n){var r=e.type||"unknown-event";e.currentTarget=m(n),function(e,t,n,r,i,a,u,h,p){if(d.apply(this,arguments),s){if(!s)throw Error(o(198));var v=c;s=!1,c=null,l||(l=!0,f=v)}}(r,t,void 0,e),e.currentTarget=null}var b=null,g={};function k(){if(b)for(var e in g){var t=g[e],n=b.indexOf(e);if(!(-1<n))throw Error(o(96,e));if(!w[n]){if(!t.extractEvents)throw Error(o(97,e));for(var r in w[n]=t,n=t.eventTypes){var i=void 0,a=n[r],u=t,s=r;if(j.hasOwnProperty(s))throw Error(o(99,s));j[s]=a;var c=a.phasedRegistrationNames;if(c){for(i in c)c.hasOwnProperty(i)&&O(c[i],u,s);i=!0}else a.registrationName?(O(a.registrationName,u,s),i=!0):i=!1;if(!i)throw Error(o(98,r,e))}}}}function O(e,t,n){if(x[e])throw Error(o(100,e));x[e]=t,E[e]=t.eventTypes[n].dependencies}var w=[],j={},x={},E={};function T(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!g.hasOwnProperty(t)||g[t]!==r){if(g[t])throw Error(o(102,t));g[t]=r,n=!0}}n&&k()}var I=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),S=null,_=null,C=null;function A(e){if(e=v(e)){if("function"!==typeof S)throw Error(o(280));var t=e.stateNode;t&&(t=p(t),S(e.stateNode,e.type,t))}}function R(e){_?C?C.push(e):C=[e]:_=e}function N(){if(_){var e=_,t=C;if(C=_=null,A(e),t)for(e=0;e<t.length;e++)A(t[e])}}function D(e,t){return e(t)}function P(e,t,n,r,i){return e(t,n,r,i)}function M(){}var L=D,F=!1,U=!1;function V(){null===_&&null===C||(M(),N())}function B(e,t,n){if(U)return e(t,n);U=!0;try{return L(e,t,n)}finally{U=!1,V()}}var z=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,q=Object.prototype.hasOwnProperty,K={},W={};function G(e,t,n,r,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a}var H={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){H[e]=new G(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];H[t]=new G(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){H[e]=new G(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){H[e]=new G(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){H[e]=new G(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){H[e]=new G(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){H[e]=new G(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){H[e]=new G(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){H[e]=new G(e,5,!1,e.toLowerCase(),null,!1)}));var Q=/[\-:]([a-z])/g;function $(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(Q,$);H[t]=new G(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(Q,$);H[t]=new G(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(Q,$);H[t]=new G(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){H[e]=new G(e,1,!1,e.toLowerCase(),null,!1)})),H.xlinkHref=new G("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){H[e]=new G(e,1,!1,e.toLowerCase(),null,!0)}));var Y=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function X(e,t,n,r){var i=H.hasOwnProperty(t)?H[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!q.call(W,e)||!q.call(K,e)&&(z.test(e)?W[e]=!0:(K[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}Y.hasOwnProperty("ReactCurrentDispatcher")||(Y.ReactCurrentDispatcher={current:null}),Y.hasOwnProperty("ReactCurrentBatchConfig")||(Y.ReactCurrentBatchConfig={suspense:null});var J=/^(.*)[\\\/]/,Z="function"===typeof Symbol&&Symbol.for,ee=Z?Symbol.for("react.element"):60103,te=Z?Symbol.for("react.portal"):60106,ne=Z?Symbol.for("react.fragment"):60107,re=Z?Symbol.for("react.strict_mode"):60108,ie=Z?Symbol.for("react.profiler"):60114,ae=Z?Symbol.for("react.provider"):60109,oe=Z?Symbol.for("react.context"):60110,ue=Z?Symbol.for("react.concurrent_mode"):60111,se=Z?Symbol.for("react.forward_ref"):60112,ce=Z?Symbol.for("react.suspense"):60113,le=Z?Symbol.for("react.suspense_list"):60120,fe=Z?Symbol.for("react.memo"):60115,he=Z?Symbol.for("react.lazy"):60116,de=Z?Symbol.for("react.block"):60121,pe="function"===typeof Symbol&&Symbol.iterator;function ve(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=pe&&e[pe]||e["@@iterator"])?e:null}function me(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case ne:return"Fragment";case te:return"Portal";case ie:return"Profiler";case re:return"StrictMode";case ce:return"Suspense";case le:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case oe:return"Context.Consumer";case ae:return"Context.Provider";case se:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case fe:return me(e.type);case de:return me(e.render);case he:if(e=1===e._status?e._result:null)return me(e)}return null}function ye(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,a=me(e.type);n=null,r&&(n=me(r.type)),r=a,a="",i?a=" (at "+i.fileName.replace(J,"")+":"+i.lineNumber+")":n&&(a=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+a}t+=n,e=e.return}while(e);return t}function be(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function ge(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ke(e){e._valueTracker||(e._valueTracker=function(e){var t=ge(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Oe(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ge(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function we(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function je(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=be(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function xe(e,t){null!=(t=t.checked)&&X(e,"checked",t,!1)}function Ee(e,t){xe(e,t);var n=be(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ie(e,t.type,be(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Te(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Ie(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Se(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function _e(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+be(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Ce(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:be(n)}}function Re(e,t){var n=be(t.value),r=be(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Ne(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var De="http://www.w3.org/1999/xhtml",Pe="http://www.w3.org/2000/svg";function Me(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Me(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Fe,Ue,Ve=(Ue=function(e,t){if(e.namespaceURI!==Pe||"innerHTML"in e)e.innerHTML=t;else{for((Fe=Fe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Fe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return Ue(e,t)}))}:Ue);function Be(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function ze(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var qe={animationend:ze("Animation","AnimationEnd"),animationiteration:ze("Animation","AnimationIteration"),animationstart:ze("Animation","AnimationStart"),transitionend:ze("Transition","TransitionEnd")},Ke={},We={};function Ge(e){if(Ke[e])return Ke[e];if(!qe[e])return e;var t,n=qe[e];for(t in n)if(n.hasOwnProperty(t)&&t in We)return Ke[e]=n[t];return e}I&&(We=document.createElement("div").style,"AnimationEvent"in window||(delete qe.animationend.animation,delete qe.animationiteration.animation,delete qe.animationstart.animation),"TransitionEvent"in window||delete qe.transitionend.transition);var He=Ge("animationend"),Qe=Ge("animationiteration"),$e=Ge("animationstart"),Ye=Ge("transitionend"),Xe="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Je=new("function"===typeof WeakMap?WeakMap:Map);function Ze(e){var t=Je.get(e);return void 0===t&&(t=new Map,Je.set(e,t)),t}function et(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function tt(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function nt(e){if(et(e)!==e)throw Error(o(188))}function rt(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=et(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return nt(i),e;if(a===r)return nt(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=a;break}if(s===r){u=!0,r=i,n=a;break}s=s.sibling}if(!u){for(s=a.child;s;){if(s===n){u=!0,n=a,r=i;break}if(s===r){u=!0,r=a,n=i;break}s=s.sibling}if(!u)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function it(e,t){if(null==t)throw Error(o(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function at(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var ot=null;function ut(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)y(e,t[r],n[r]);else t&&y(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function st(e){if(null!==e&&(ot=it(ot,e)),e=ot,ot=null,e){if(at(e,ut),ot)throw Error(o(95));if(l)throw e=f,l=!1,f=null,e}}function ct(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function lt(e){if(!I)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"===typeof t[e]),t}var ft=[];function ht(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>ft.length&&ft.push(e)}function dt(e,t,n,r){if(ft.length){var i=ft.pop();return i.topLevelType=e,i.eventSystemFlags=r,i.nativeEvent=t,i.targetInst=n,i}return{topLevelType:e,eventSystemFlags:r,nativeEvent:t,targetInst:n,ancestors:[]}}function pt(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=Nn(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=ct(e.nativeEvent);r=e.topLevelType;var a=e.nativeEvent,o=e.eventSystemFlags;0===n&&(o|=64);for(var u=null,s=0;s<w.length;s++){var c=w[s];c&&(c=c.extractEvents(r,t,a,i,o))&&(u=it(u,c))}st(u)}}function vt(e,t,n){if(!n.has(e)){switch(e){case"scroll":$t(t,"scroll",!0);break;case"focus":case"blur":$t(t,"focus",!0),$t(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":lt(e)&&$t(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Xe.indexOf(e)&&Qt(e,t)}n.set(e,null)}}var mt,yt,bt,gt=!1,kt=[],Ot=null,wt=null,jt=null,xt=new Map,Et=new Map,Tt=[],It="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),St="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function _t(e,t,n,r,i){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:i,container:r}}function Ct(e,t){switch(e){case"focus":case"blur":Ot=null;break;case"dragenter":case"dragleave":wt=null;break;case"mouseover":case"mouseout":jt=null;break;case"pointerover":case"pointerout":xt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Et.delete(t.pointerId)}}function At(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=_t(t,n,r,i,a),null!==t&&(null!==(t=Dn(t))&&yt(t)),e):(e.eventSystemFlags|=r,e)}function Rt(e){var t=Nn(e.target);if(null!==t){var n=et(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=tt(n)))return e.blockedOn=t,void a.unstable_runWithPriority(e.priority,(function(){bt(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Nt(e){if(null!==e.blockedOn)return!1;var t=Zt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=Dn(t);return null!==n&&yt(n),e.blockedOn=t,!1}return!0}function Dt(e,t,n){Nt(e)&&n.delete(t)}function Pt(){for(gt=!1;0<kt.length;){var e=kt[0];if(null!==e.blockedOn){null!==(e=Dn(e.blockedOn))&&mt(e);break}var t=Zt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:kt.shift()}null!==Ot&&Nt(Ot)&&(Ot=null),null!==wt&&Nt(wt)&&(wt=null),null!==jt&&Nt(jt)&&(jt=null),xt.forEach(Dt),Et.forEach(Dt)}function Mt(e,t){e.blockedOn===t&&(e.blockedOn=null,gt||(gt=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Pt)))}function Lt(e){function t(t){return Mt(t,e)}if(0<kt.length){Mt(kt[0],e);for(var n=1;n<kt.length;n++){var r=kt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ot&&Mt(Ot,e),null!==wt&&Mt(wt,e),null!==jt&&Mt(jt,e),xt.forEach(t),Et.forEach(t),n=0;n<Tt.length;n++)(r=Tt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Tt.length&&null===(n=Tt[0]).blockedOn;)Rt(n),null===n.blockedOn&&Tt.shift()}var Ft={},Ut=new Map,Vt=new Map,Bt=["abort","abort",He,"animationEnd",Qe,"animationIteration",$e,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ye,"transitionEnd","waiting","waiting"];function zt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1],a="on"+(i[0].toUpperCase()+i.slice(1));a={phasedRegistrationNames:{bubbled:a,captured:a+"Capture"},dependencies:[r],eventPriority:t},Vt.set(r,t),Ut.set(r,a),Ft[i]=a}}zt("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),zt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),zt(Bt,2);for(var qt="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Kt=0;Kt<qt.length;Kt++)Vt.set(qt[Kt],0);var Wt=a.unstable_UserBlockingPriority,Gt=a.unstable_runWithPriority,Ht=!0;function Qt(e,t){$t(t,e,!1)}function $t(e,t,n){var r=Vt.get(t);switch(void 0===r?2:r){case 0:r=Yt.bind(null,t,1,e);break;case 1:r=Xt.bind(null,t,1,e);break;default:r=Jt.bind(null,t,1,e)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function Yt(e,t,n,r){F||M();var i=Jt,a=F;F=!0;try{P(i,e,t,n,r)}finally{(F=a)||V()}}function Xt(e,t,n,r){Gt(Wt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){if(Ht)if(0<kt.length&&-1<It.indexOf(e))e=_t(null,e,t,n,r),kt.push(e);else{var i=Zt(e,t,n,r);if(null===i)Ct(e,r);else if(-1<It.indexOf(e))e=_t(i,e,t,n,r),kt.push(e);else if(!function(e,t,n,r,i){switch(t){case"focus":return Ot=At(Ot,e,t,n,r,i),!0;case"dragenter":return wt=At(wt,e,t,n,r,i),!0;case"mouseover":return jt=At(jt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return xt.set(a,At(xt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Et.set(a,At(Et.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r)){Ct(e,r),e=dt(e,r,null,t);try{B(pt,e)}finally{ht(e)}}}}function Zt(e,t,n,r){if(null!==(n=Nn(n=ct(r)))){var i=et(n);if(null===i)n=null;else{var a=i.tag;if(13===a){if(null!==(n=tt(i)))return n;n=null}else if(3===a){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}e=dt(e,r,n,t);try{B(pt,e)}finally{ht(e)}return null}var en={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tn=["Webkit","ms","Moz","O"];function nn(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||en.hasOwnProperty(e)&&en[e]?(""+t).trim():t+"px"}function rn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=nn(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(en).forEach((function(e){tn.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),en[t]=en[e]}))}));var an=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function on(e,t){if(t){if(an[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62,""))}}function un(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sn=De;function cn(e,t){var n=Ze(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=E[t];for(var r=0;r<t.length;r++)vt(t[r],e,n)}function ln(){}function fn(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function hn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dn(e,t){var n,r=hn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hn(r)}}function pn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?pn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function vn(){for(var e=window,t=fn();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=fn((e=t.contentWindow).document)}return t}function mn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var yn="$",bn="/$",gn="$?",kn="$!",On=null,wn=null;function jn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function xn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var En="function"===typeof setTimeout?setTimeout:void 0,Tn="function"===typeof clearTimeout?clearTimeout:void 0;function In(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Sn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if(n===yn||n===kn||n===gn){if(0===t)return e;t--}else n===bn&&t++}e=e.previousSibling}return null}var _n=Math.random().toString(36).slice(2),Cn="__reactInternalInstance$"+_n,An="__reactEventHandlers$"+_n,Rn="__reactContainere$"+_n;function Nn(e){var t=e[Cn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Rn]||n[Cn]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Sn(e);null!==e;){if(n=e[Cn])return n;e=Sn(e)}return t}n=(e=n).parentNode}return null}function Dn(e){return!(e=e[Cn]||e[Rn])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Pn(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function Mn(e){return e[An]||null}function Ln(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Fn(e,t){var n=e.stateNode;if(!n)return null;var r=p(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}function Un(e,t,n){(t=Fn(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=it(n._dispatchListeners,t),n._dispatchInstances=it(n._dispatchInstances,e))}function Vn(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=Ln(t);for(t=n.length;0<t--;)Un(n[t],"captured",e);for(t=0;t<n.length;t++)Un(n[t],"bubbled",e)}}function Bn(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=Fn(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=it(n._dispatchListeners,t),n._dispatchInstances=it(n._dispatchInstances,e))}function zn(e){e&&e.dispatchConfig.registrationName&&Bn(e._targetInst,null,e)}function qn(e){at(e,Vn)}var Kn=null,Wn=null,Gn=null;function Hn(){if(Gn)return Gn;var e,t,n=Wn,r=n.length,i="value"in Kn?Kn.value:Kn.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Gn=i.slice(e,1<t?1-t:void 0)}function Qn(){return!0}function $n(){return!1}function Yn(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Qn:$n,this.isPropagationStopped=$n,this}function Xn(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function Jn(e){if(!(e instanceof this))throw Error(o(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function Zn(e){e.eventPool=[],e.getPooled=Xn,e.release=Jn}i(Yn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Qn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Qn)},persist:function(){this.isPersistent=Qn},isPersistent:$n,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=$n,this._dispatchInstances=this._dispatchListeners=null}}),Yn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Yn.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var a=new t;return i(a,n.prototype),n.prototype=a,n.prototype.constructor=n,n.Interface=i({},r.Interface,e),n.extend=r.extend,Zn(n),n},Zn(Yn);var er=Yn.extend({data:null}),tr=Yn.extend({data:null}),nr=[9,13,27,32],rr=I&&"CompositionEvent"in window,ir=null;I&&"documentMode"in document&&(ir=document.documentMode);var ar=I&&"TextEvent"in window&&!ir,or=I&&(!rr||ir&&8<ir&&11>=ir),ur=String.fromCharCode(32),sr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},cr=!1;function lr(e,t){switch(e){case"keyup":return-1!==nr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function fr(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var hr=!1;var dr={eventTypes:sr,extractEvents:function(e,t,n,r){var i;if(rr)e:{switch(e){case"compositionstart":var a=sr.compositionStart;break e;case"compositionend":a=sr.compositionEnd;break e;case"compositionupdate":a=sr.compositionUpdate;break e}a=void 0}else hr?lr(e,n)&&(a=sr.compositionEnd):"keydown"===e&&229===n.keyCode&&(a=sr.compositionStart);return a?(or&&"ko"!==n.locale&&(hr||a!==sr.compositionStart?a===sr.compositionEnd&&hr&&(i=Hn()):(Wn="value"in(Kn=r)?Kn.value:Kn.textContent,hr=!0)),a=er.getPooled(a,t,n,r),i?a.data=i:null!==(i=fr(n))&&(a.data=i),qn(a),i=a):i=null,(e=ar?function(e,t){switch(e){case"compositionend":return fr(t);case"keypress":return 32!==t.which?null:(cr=!0,ur);case"textInput":return(e=t.data)===ur&&cr?null:e;default:return null}}(e,n):function(e,t){if(hr)return"compositionend"===e||!rr&&lr(e,t)?(e=Hn(),Gn=Wn=Kn=null,hr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return or&&"ko"!==t.locale?null:t.data}}(e,n))?((t=tr.getPooled(sr.beforeInput,t,n,r)).data=e,qn(t)):t=null,null===i?t:null===t?i:[i,t]}},pr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!pr[e.type]:"textarea"===t}var mr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function yr(e,t,n){return(e=Yn.getPooled(mr.change,e,t,n)).type="change",R(n),qn(e),e}var br=null,gr=null;function kr(e){st(e)}function Or(e){if(Oe(Pn(e)))return e}function wr(e,t){if("change"===e)return t}var jr=!1;function xr(){br&&(br.detachEvent("onpropertychange",Er),gr=br=null)}function Er(e){if("value"===e.propertyName&&Or(gr))if(e=yr(gr,e,ct(e)),F)st(e);else{F=!0;try{D(kr,e)}finally{F=!1,V()}}}function Tr(e,t,n){"focus"===e?(xr(),gr=n,(br=t).attachEvent("onpropertychange",Er)):"blur"===e&&xr()}function Ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Or(gr)}function Sr(e,t){if("click"===e)return Or(t)}function _r(e,t){if("input"===e||"change"===e)return Or(t)}I&&(jr=lt("input")&&(!document.documentMode||9<document.documentMode));var Cr={eventTypes:mr,_isInputEventSupported:jr,extractEvents:function(e,t,n,r){var i=t?Pn(t):window,a=i.nodeName&&i.nodeName.toLowerCase();if("select"===a||"input"===a&&"file"===i.type)var o=wr;else if(vr(i))if(jr)o=_r;else{o=Ir;var u=Tr}else(a=i.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(o=Sr);if(o&&(o=o(e,t)))return yr(o,n,r);u&&u(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&Ie(i,"number",i.value)}},Ar=Yn.extend({view:null,detail:null}),Rr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Rr[e])&&!!t[e]}function Dr(){return Nr}var Pr=0,Mr=0,Lr=!1,Fr=!1,Ur=Ar.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Dr,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Pr;return Pr=e.screenX,Lr?"mousemove"===e.type?e.screenX-t:0:(Lr=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Mr;return Mr=e.screenY,Fr?"mousemove"===e.type?e.screenY-t:0:(Fr=!0,0)}}),Vr=Ur.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Br={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},zr={eventTypes:Br,extractEvents:function(e,t,n,r,i){var a="mouseover"===e||"pointerover"===e,o="mouseout"===e||"pointerout"===e;if(a&&0===(32&i)&&(n.relatedTarget||n.fromElement)||!o&&!a)return null;(a=r.window===r?r:(a=r.ownerDocument)?a.defaultView||a.parentWindow:window,o)?(o=t,null!==(t=(t=n.relatedTarget||n.toElement)?Nn(t):null)&&(t!==et(t)||5!==t.tag&&6!==t.tag)&&(t=null)):o=null;if(o===t)return null;if("mouseout"===e||"mouseover"===e)var u=Ur,s=Br.mouseLeave,c=Br.mouseEnter,l="mouse";else"pointerout"!==e&&"pointerover"!==e||(u=Vr,s=Br.pointerLeave,c=Br.pointerEnter,l="pointer");if(e=null==o?a:Pn(o),a=null==t?a:Pn(t),(s=u.getPooled(s,o,n,r)).type=l+"leave",s.target=e,s.relatedTarget=a,(n=u.getPooled(c,t,n,r)).type=l+"enter",n.target=a,n.relatedTarget=e,l=t,(r=o)&&l)e:{for(c=l,o=0,e=u=r;e;e=Ln(e))o++;for(e=0,t=c;t;t=Ln(t))e++;for(;0<o-e;)u=Ln(u),o--;for(;0<e-o;)c=Ln(c),e--;for(;o--;){if(u===c||u===c.alternate)break e;u=Ln(u),c=Ln(c)}u=null}else u=null;for(c=u,u=[];r&&r!==c&&(null===(o=r.alternate)||o!==c);)u.push(r),r=Ln(r);for(r=[];l&&l!==c&&(null===(o=l.alternate)||o!==c);)r.push(l),l=Ln(l);for(l=0;l<u.length;l++)Bn(u[l],"bubbled",s);for(l=r.length;0<l--;)Bn(r[l],"captured",n);return 0===(64&i)?[s]:[s,n]}};var qr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Kr=Object.prototype.hasOwnProperty;function Wr(e,t){if(qr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Kr.call(t,n[r])||!qr(e[n[r]],t[n[r]]))return!1;return!0}var Gr=I&&"documentMode"in document&&11>=document.documentMode,Hr={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Qr=null,$r=null,Yr=null,Xr=!1;function Jr(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Xr||null==Qr||Qr!==fn(n)?null:("selectionStart"in(n=Qr)&&mn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Yr&&Wr(Yr,n)?null:(Yr=n,(e=Yn.getPooled(Hr.select,$r,e,t)).type="select",e.target=Qr,qn(e),e))}var Zr={eventTypes:Hr,extractEvents:function(e,t,n,r,i,a){if(!(a=!(i=a||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){e:{i=Ze(i),a=E.onSelect;for(var o=0;o<a.length;o++)if(!i.has(a[o])){i=!1;break e}i=!0}a=!i}if(a)return null;switch(i=t?Pn(t):window,e){case"focus":(vr(i)||"true"===i.contentEditable)&&(Qr=i,$r=t,Yr=null);break;case"blur":Yr=$r=Qr=null;break;case"mousedown":Xr=!0;break;case"contextmenu":case"mouseup":case"dragend":return Xr=!1,Jr(n,r);case"selectionchange":if(Gr)break;case"keydown":case"keyup":return Jr(n,r)}return null}},ei=Yn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),ti=Yn.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ni=Ar.extend({relatedTarget:null});function ri(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var ii={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ai={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oi=Ar.extend({key:function(e){if(e.key){var t=ii[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ri(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?ai[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Dr,charCode:function(e){return"keypress"===e.type?ri(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ri(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),ui=Ur.extend({dataTransfer:null}),si=Ar.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Dr}),ci=Yn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),li=Ur.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),fi={eventTypes:Ft,extractEvents:function(e,t,n,r){var i=Ut.get(e);if(!i)return null;switch(e){case"keypress":if(0===ri(n))return null;case"keydown":case"keyup":e=oi;break;case"blur":case"focus":e=ni;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Ur;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=ui;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=si;break;case He:case Qe:case $e:e=ei;break;case Ye:e=ci;break;case"scroll":e=Ar;break;case"wheel":e=li;break;case"copy":case"cut":case"paste":e=ti;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Vr;break;default:e=Yn}return qn(t=e.getPooled(i,t,n,r)),t}};if(b)throw Error(o(101));b=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),k(),p=Mn,v=Dn,m=Pn,T({SimpleEventPlugin:fi,EnterLeaveEventPlugin:zr,ChangeEventPlugin:Cr,SelectEventPlugin:Zr,BeforeInputEventPlugin:dr});var hi=[],di=-1;function pi(e){0>di||(e.current=hi[di],hi[di]=null,di--)}function vi(e,t){di++,hi[di]=e.current,e.current=t}var mi={},yi={current:mi},bi={current:!1},gi=mi;function ki(e,t){var n=e.type.contextTypes;if(!n)return mi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Oi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function wi(){pi(bi),pi(yi)}function ji(e,t,n){if(yi.current!==mi)throw Error(o(168));vi(yi,t),vi(bi,n)}function xi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,me(t)||"Unknown",a));return i({},n,{},r)}function Ei(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||mi,gi=yi.current,vi(yi,e),vi(bi,bi.current),!0}function Ti(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=xi(e,t,gi),r.__reactInternalMemoizedMergedChildContext=e,pi(bi),pi(yi),vi(yi,e)):pi(bi),vi(bi,n)}var Ii=a.unstable_runWithPriority,Si=a.unstable_scheduleCallback,_i=a.unstable_cancelCallback,Ci=a.unstable_requestPaint,Ai=a.unstable_now,Ri=a.unstable_getCurrentPriorityLevel,Ni=a.unstable_ImmediatePriority,Di=a.unstable_UserBlockingPriority,Pi=a.unstable_NormalPriority,Mi=a.unstable_LowPriority,Li=a.unstable_IdlePriority,Fi={},Ui=a.unstable_shouldYield,Vi=void 0!==Ci?Ci:function(){},Bi=null,zi=null,qi=!1,Ki=Ai(),Wi=1e4>Ki?Ai:function(){return Ai()-Ki};function Gi(){switch(Ri()){case Ni:return 99;case Di:return 98;case Pi:return 97;case Mi:return 96;case Li:return 95;default:throw Error(o(332))}}function Hi(e){switch(e){case 99:return Ni;case 98:return Di;case 97:return Pi;case 96:return Mi;case 95:return Li;default:throw Error(o(332))}}function Qi(e,t){return e=Hi(e),Ii(e,t)}function $i(e,t,n){return e=Hi(e),Si(e,t,n)}function Yi(e){return null===Bi?(Bi=[e],zi=Si(Ni,Ji)):Bi.push(e),Fi}function Xi(){if(null!==zi){var e=zi;zi=null,_i(e)}Ji()}function Ji(){if(!qi&&null!==Bi){qi=!0;var e=0;try{var t=Bi;Qi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Bi=null}catch(n){throw null!==Bi&&(Bi=Bi.slice(e+1)),Si(Ni,Xi),n}finally{qi=!1}}}function Zi(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function ea(e,t){if(e&&e.defaultProps)for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var ta={current:null},na=null,ra=null,ia=null;function aa(){ia=ra=na=null}function oa(e){var t=ta.current;pi(ta),e.type._context._currentValue=t}function ua(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function sa(e,t){na=e,ia=ra=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Mo=!0),e.firstContext=null)}function ca(e,t){if(ia!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ia=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ra){if(null===na)throw Error(o(308));ra=t,na.dependencies={expirationTime:0,firstContext:t,responders:null}}else ra=ra.next=t;return e._currentValue}var la=!1;function fa(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function ha(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function da(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function pa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function va(e,t){var n=e.alternate;null!==n&&ha(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function ma(e,t,n,r){var a=e.updateQueue;la=!1;var o=a.baseQueue,u=a.shared.pending;if(null!==u){if(null!==o){var s=o.next;o.next=u.next,u.next=s}o=u,a.shared.pending=null,null!==(s=e.alternate)&&(null!==(s=s.updateQueue)&&(s.baseQueue=u))}if(null!==o){s=o.next;var c=a.baseState,l=0,f=null,h=null,d=null;if(null!==s)for(var p=s;;){if((u=p.expirationTime)<r){var v={expirationTime:p.expirationTime,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null};null===d?(h=d=v,f=c):d=d.next=v,u>l&&(l=u)}else{null!==d&&(d=d.next={expirationTime:1073741823,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null}),ws(u,p.suspenseConfig);e:{var m=e,y=p;switch(u=t,v=n,y.tag){case 1:if("function"===typeof(m=y.payload)){c=m.call(v,c,u);break e}c=m;break e;case 3:m.effectTag=-4097&m.effectTag|64;case 0:if(null===(u="function"===typeof(m=y.payload)?m.call(v,c,u):m)||void 0===u)break e;c=i({},c,u);break e;case 2:la=!0}}null!==p.callback&&(e.effectTag|=32,null===(u=a.effects)?a.effects=[p]:u.push(p))}if(null===(p=p.next)||p===s){if(null===(u=a.shared.pending))break;p=o.next=u.next,u.next=s,a.baseQueue=o=u,a.shared.pending=null}}null===d?f=c:d.next=h,a.baseState=f,a.baseQueue=d,js(l),e.expirationTime=l,e.memoizedState=c}}function ya(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=i,i=n,"function"!==typeof r)throw Error(o(191,r));r.call(i)}}}var ba=Y.ReactCurrentBatchConfig,ga=(new r.Component).refs;function ka(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var Oa={isMounted:function(e){return!!(e=e._reactInternalFiber)&&et(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=cs(),i=ba.suspense;(i=da(r=ls(r,e,i),i)).payload=t,void 0!==n&&null!==n&&(i.callback=n),pa(e,i),fs(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=cs(),i=ba.suspense;(i=da(r=ls(r,e,i),i)).tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),pa(e,i),fs(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=cs(),r=ba.suspense;(r=da(n=ls(n,e,r),r)).tag=2,void 0!==t&&null!==t&&(r.callback=t),pa(e,r),fs(e,n)}};function wa(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!Wr(n,r)||!Wr(i,a))}function ja(e,t,n){var r=!1,i=mi,a=t.contextType;return"object"===typeof a&&null!==a?a=ca(a):(i=Oi(t)?gi:yi.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?ki(e,i):mi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Oa,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function xa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Oa.enqueueReplaceState(t,t.state,null)}function Ea(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ga,fa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=ca(a):(a=Oi(t)?gi:yi.current,i.context=ki(e,a)),ma(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ka(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Oa.enqueueReplaceState(i,i.state,null),ma(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.effectTag|=4)}var Ta=Array.isArray;function Ia(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===ga&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Sa(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function _a(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=qs(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function u(t){return e&&null===t.alternate&&(t.effectTag=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Gs(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Ia(e,t,n),r.return=e,r):((r=Ks(n.type,n.key,n.props,null,e.mode,r)).ref=Ia(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Hs(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Ws(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Gs(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case ee:return(n=Ks(t.type,t.key,t.props,null,e.mode,n)).ref=Ia(e,null,t),n.return=e,n;case te:return(t=Hs(t,e.mode,n)).return=e,t}if(Ta(t)||ve(t))return(t=Ws(t,e.mode,n,null)).return=e,t;Sa(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case ee:return n.key===i?n.type===ne?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case te:return n.key===i?l(e,t,n,r):null}if(Ta(n)||ve(n))return null!==i?null:f(e,t,n,r,null);Sa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case ee:return e=e.get(null===r.key?n:r.key)||null,r.type===ne?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case te:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Ta(r)||ve(r))return f(t,e=e.get(n)||null,r,i,null);Sa(t,r)}return null}function v(i,o,u,s){for(var c=null,l=null,f=o,v=o=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),c}function m(i,u,s,c){var l=ve(s);if("function"!==typeof l)throw Error(o(150));if(null==(s=l.call(s)))throw Error(o(151));for(var f=l=null,v=u,m=u=0,y=null,b=s.next();null!==v&&!b.done;m++,b=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var g=d(i,v,b.value,c);if(null===g){null===v&&(v=y);break}e&&v&&null===g.alternate&&t(i,v),u=a(g,u,m),null===f?l=g:f.sibling=g,f=g,v=y}if(b.done)return n(i,v),l;if(null===v){for(;!b.done;m++,b=s.next())null!==(b=h(i,b.value,c))&&(u=a(b,u,m),null===f?l=b:f.sibling=b,f=b);return l}for(v=r(i,v);!b.done;m++,b=s.next())null!==(b=p(v,i,m,b.value,c))&&(e&&null!==b.alternate&&v.delete(null===b.key?m:b.key),u=a(b,u,m),null===f?l=b:f.sibling=b,f=b);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,s){var c="object"===typeof a&&null!==a&&a.type===ne&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case ee:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===ne){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=Ia(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===ne?((r=Ws(a.props.children,e.mode,s,a.key)).return=e,e=r):((s=Ks(a.type,a.key,a.props,null,e.mode,s)).ref=Ia(e,r,a),s.return=e,e=s)}return u(e);case te:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Hs(a,e.mode,s)).return=e,e=r}return u(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Gs(a,e.mode,s)).return=e,e=r),u(e);if(Ta(a))return v(e,r,a,s);if(ve(a))return m(e,r,a,s);if(l&&Sa(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 0:throw e=e.type,Error(o(152,e.displayName||e.name||"Component"))}return n(e,r)}}var Ca=_a(!0),Aa=_a(!1),Ra={},Na={current:Ra},Da={current:Ra},Pa={current:Ra};function Ma(e){if(e===Ra)throw Error(o(174));return e}function La(e,t){switch(vi(Pa,t),vi(Da,e),vi(Na,Ra),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Le(null,"");break;default:t=Le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}pi(Na),vi(Na,t)}function Fa(){pi(Na),pi(Da),pi(Pa)}function Ua(e){Ma(Pa.current);var t=Ma(Na.current),n=Le(t,e.type);t!==n&&(vi(Da,e),vi(Na,n))}function Va(e){Da.current===e&&(pi(Na),pi(Da))}var Ba={current:0};function za(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||n.data===gn||n.data===kn))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function qa(e,t){return{responder:e,props:t}}var Ka=Y.ReactCurrentDispatcher,Wa=Y.ReactCurrentBatchConfig,Ga=0,Ha=null,Qa=null,$a=null,Ya=!1;function Xa(){throw Error(o(321))}function Ja(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!qr(e[n],t[n]))return!1;return!0}function Za(e,t,n,r,i,a){if(Ga=a,Ha=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,Ka.current=null===e||null===e.memoizedState?jo:xo,e=n(r,i),t.expirationTime===Ga){a=0;do{if(t.expirationTime=0,!(25>a))throw Error(o(301));a+=1,$a=Qa=null,t.updateQueue=null,Ka.current=Eo,e=n(r,i)}while(t.expirationTime===Ga)}if(Ka.current=wo,t=null!==Qa&&null!==Qa.next,Ga=0,$a=Qa=Ha=null,Ya=!1,t)throw Error(o(300));return e}function eo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===$a?Ha.memoizedState=$a=e:$a=$a.next=e,$a}function to(){if(null===Qa){var e=Ha.alternate;e=null!==e?e.memoizedState:null}else e=Qa.next;var t=null===$a?Ha.memoizedState:$a.next;if(null!==t)$a=t,Qa=e;else{if(null===e)throw Error(o(310));e={memoizedState:(Qa=e).memoizedState,baseState:Qa.baseState,baseQueue:Qa.baseQueue,queue:Qa.queue,next:null},null===$a?Ha.memoizedState=$a=e:$a=$a.next=e}return $a}function no(e,t){return"function"===typeof t?t(e):t}function ro(e){var t=to(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=Qa,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var u=i.next;i.next=a.next,a.next=u}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var s=u=a=null,c=i;do{var l=c.expirationTime;if(l<Ga){var f={expirationTime:c.expirationTime,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===s?(u=s=f,a=r):s=s.next=f,l>Ha.expirationTime&&(Ha.expirationTime=l,js(l))}else null!==s&&(s=s.next={expirationTime:1073741823,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),ws(l,c.suspenseConfig),r=c.eagerReducer===e?c.eagerState:e(r,c.action);c=c.next}while(null!==c&&c!==i);null===s?a=r:s.next=u,qr(r,t.memoizedState)||(Mo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function io(e){var t=to(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{a=e(a,u.action),u=u.next}while(u!==i);qr(a,t.memoizedState)||(Mo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ao(e){var t=eo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:no,lastRenderedState:e}).dispatch=Oo.bind(null,Ha,e),[t.memoizedState,e]}function oo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Ha.updateQueue)?(t={lastEffect:null},Ha.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function uo(){return to().memoizedState}function so(e,t,n,r){var i=eo();Ha.effectTag|=e,i.memoizedState=oo(1|t,n,void 0,void 0===r?null:r)}function co(e,t,n,r){var i=to();r=void 0===r?null:r;var a=void 0;if(null!==Qa){var o=Qa.memoizedState;if(a=o.destroy,null!==r&&Ja(r,o.deps))return void oo(t,n,a,r)}Ha.effectTag|=e,i.memoizedState=oo(1|t,n,a,r)}function lo(e,t){return so(516,4,e,t)}function fo(e,t){return co(516,4,e,t)}function ho(e,t){return co(4,2,e,t)}function po(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function vo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,co(4,2,po.bind(null,t,e),n)}function mo(){}function yo(e,t){return eo().memoizedState=[e,void 0===t?null:t],e}function bo(e,t){var n=to();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ja(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function go(e,t){var n=to();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ja(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ko(e,t,n){var r=Gi();Qi(98>r?98:r,(function(){e(!0)})),Qi(97<r?97:r,(function(){var r=Wa.suspense;Wa.suspense=void 0===t?null:t;try{e(!1),n()}finally{Wa.suspense=r}}))}function Oo(e,t,n){var r=cs(),i=ba.suspense;i={expirationTime:r=ls(r,e,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var a=t.pending;if(null===a?i.next=i:(i.next=a.next,a.next=i),t.pending=i,a=e.alternate,e===Ha||null!==a&&a===Ha)Ya=!0,i.expirationTime=Ga,Ha.expirationTime=Ga;else{if(0===e.expirationTime&&(null===a||0===a.expirationTime)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.eagerReducer=a,i.eagerState=u,qr(u,o))return}catch(s){}fs(e,r)}}var wo={readContext:ca,useCallback:Xa,useContext:Xa,useEffect:Xa,useImperativeHandle:Xa,useLayoutEffect:Xa,useMemo:Xa,useReducer:Xa,useRef:Xa,useState:Xa,useDebugValue:Xa,useResponder:Xa,useDeferredValue:Xa,useTransition:Xa},jo={readContext:ca,useCallback:yo,useContext:ca,useEffect:lo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,so(4,2,po.bind(null,t,e),n)},useLayoutEffect:function(e,t){return so(4,2,e,t)},useMemo:function(e,t){var n=eo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=eo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Oo.bind(null,Ha,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},eo().memoizedState=e},useState:ao,useDebugValue:mo,useResponder:qa,useDeferredValue:function(e,t){var n=ao(e),r=n[0],i=n[1];return lo((function(){var n=Wa.suspense;Wa.suspense=void 0===t?null:t;try{i(e)}finally{Wa.suspense=n}}),[e,t]),r},useTransition:function(e){var t=ao(!1),n=t[0];return t=t[1],[yo(ko.bind(null,t,e),[t,e]),n]}},xo={readContext:ca,useCallback:bo,useContext:ca,useEffect:fo,useImperativeHandle:vo,useLayoutEffect:ho,useMemo:go,useReducer:ro,useRef:uo,useState:function(){return ro(no)},useDebugValue:mo,useResponder:qa,useDeferredValue:function(e,t){var n=ro(no),r=n[0],i=n[1];return fo((function(){var n=Wa.suspense;Wa.suspense=void 0===t?null:t;try{i(e)}finally{Wa.suspense=n}}),[e,t]),r},useTransition:function(e){var t=ro(no),n=t[0];return t=t[1],[bo(ko.bind(null,t,e),[t,e]),n]}},Eo={readContext:ca,useCallback:bo,useContext:ca,useEffect:fo,useImperativeHandle:vo,useLayoutEffect:ho,useMemo:go,useReducer:io,useRef:uo,useState:function(){return io(no)},useDebugValue:mo,useResponder:qa,useDeferredValue:function(e,t){var n=io(no),r=n[0],i=n[1];return fo((function(){var n=Wa.suspense;Wa.suspense=void 0===t?null:t;try{i(e)}finally{Wa.suspense=n}}),[e,t]),r},useTransition:function(e){var t=io(no),n=t[0];return t=t[1],[bo(ko.bind(null,t,e),[t,e]),n]}},To=null,Io=null,So=!1;function _o(e,t){var n=Bs(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Co(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Ao(e){if(So){var t=Io;if(t){var n=t;if(!Co(e,t)){if(!(t=In(n.nextSibling))||!Co(e,t))return e.effectTag=-1025&e.effectTag|2,So=!1,void(To=e);_o(To,n)}To=e,Io=In(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,So=!1,To=e}}function Ro(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;To=e}function No(e){if(e!==To)return!1;if(!So)return Ro(e),So=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!xn(t,e.memoizedProps))for(t=Io;t;)_o(e,t),t=In(t.nextSibling);if(Ro(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if(n===bn){if(0===t){Io=In(e.nextSibling);break e}t--}else n!==yn&&n!==kn&&n!==gn||t++}e=e.nextSibling}Io=null}}else Io=To?In(e.stateNode.nextSibling):null;return!0}function Do(){Io=To=null,So=!1}var Po=Y.ReactCurrentOwner,Mo=!1;function Lo(e,t,n,r){t.child=null===e?Aa(t,null,n,r):Ca(t,e.child,n,r)}function Fo(e,t,n,r,i){n=n.render;var a=t.ref;return sa(t,i),r=Za(e,t,n,r,a,i),null===e||Mo?(t.effectTag|=1,Lo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),tu(e,t,i))}function Uo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||zs(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ks(n.type,null,r,null,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Vo(e,t,o,r,i,a))}return o=e.child,i<a&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:Wr)(i,r)&&e.ref===t.ref)?tu(e,t,a):(t.effectTag|=1,(e=qs(o,r)).ref=t.ref,e.return=t,t.child=e)}function Vo(e,t,n,r,i,a){return null!==e&&Wr(e.memoizedProps,r)&&e.ref===t.ref&&(Mo=!1,i<a)?(t.expirationTime=e.expirationTime,tu(e,t,a)):zo(e,t,n,r,a)}function Bo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function zo(e,t,n,r,i){var a=Oi(n)?gi:yi.current;return a=ki(t,a),sa(t,i),n=Za(e,t,n,r,a,i),null===e||Mo?(t.effectTag|=1,Lo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),tu(e,t,i))}function qo(e,t,n,r,i){if(Oi(n)){var a=!0;Ei(t)}else a=!1;if(sa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),ja(t,n,r),Ea(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=ca(c):c=ki(t,c=Oi(n)?gi:yi.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&xa(t,o,r,c),la=!1;var h=t.memoizedState;o.state=h,ma(t,r,o,i),s=t.memoizedState,u!==r||h!==s||bi.current||la?("function"===typeof l&&(ka(t,n,l,r),s=t.memoizedState),(u=la||wa(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.effectTag|=4)):("function"===typeof o.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.effectTag|=4),r=!1)}else o=t.stateNode,ha(e,t),u=t.memoizedProps,o.props=t.type===t.elementType?u:ea(t.type,u),s=o.context,"object"===typeof(c=n.contextType)&&null!==c?c=ca(c):c=ki(t,c=Oi(n)?gi:yi.current),(f="function"===typeof(l=n.getDerivedStateFromProps)||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&xa(t,o,r,c),la=!1,s=t.memoizedState,o.state=s,ma(t,r,o,i),h=t.memoizedState,u!==r||s!==h||bi.current||la?("function"===typeof l&&(ka(t,n,l,r),h=t.memoizedState),(l=la||wa(t,n,u,r,s,h,c))?(f||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,h,c),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,h,c)),"function"===typeof o.componentDidUpdate&&(t.effectTag|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&s===e.memoizedState||(t.effectTag|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&s===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=h),o.props=r,o.state=h,o.context=c,r=l):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&s===e.memoizedState||(t.effectTag|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&s===e.memoizedState||(t.effectTag|=256),r=!1);return Ko(e,t,n,r,a,i)}function Ko(e,t,n,r,i,a){Bo(e,t);var o=0!==(64&t.effectTag);if(!r&&!o)return i&&Ti(t,n,!1),tu(e,t,a);r=t.stateNode,Po.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&o?(t.child=Ca(t,e.child,null,a),t.child=Ca(t,null,u,a)):Lo(e,t,u,a),t.memoizedState=r.state,i&&Ti(t,n,!0),t.child}function Wo(e){var t=e.stateNode;t.pendingContext?ji(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ji(0,t.context,!1),La(e,t.containerInfo)}var Go,Ho,Qo,$o,Yo={dehydrated:null,retryTime:0};function Xo(e,t,n){var r,i=t.mode,a=t.pendingProps,o=Ba.current,u=!1;if((r=0!==(64&t.effectTag))||(r=0!==(2&o)&&(null===e||null!==e.memoizedState)),r?(u=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===a.fallback||!0===a.unstable_avoidThisFallback||(o|=1),vi(Ba,1&o),null===e){if(void 0!==a.fallback&&Ao(t),u){if(u=a.fallback,(a=Ws(null,i,0,null)).return=t,0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,a.child=e;null!==e;)e.return=a,e=e.sibling;return(n=Ws(u,i,n,null)).return=t,a.sibling=n,t.memoizedState=Yo,t.child=a,n}return i=a.children,t.memoizedState=null,t.child=Aa(t,null,i,n)}if(null!==e.memoizedState){if(i=(e=e.child).sibling,u){if(a=a.fallback,(n=qs(e,e.pendingProps)).return=t,0===(2&t.mode)&&(u=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=u;null!==u;)u.return=n,u=u.sibling;return(i=qs(i,a)).return=t,n.sibling=i,n.childExpirationTime=0,t.memoizedState=Yo,t.child=n,i}return n=Ca(t,e.child,a.children,n),t.memoizedState=null,t.child=n}if(e=e.child,u){if(u=a.fallback,(a=Ws(null,i,0,null)).return=t,a.child=e,null!==e&&(e.return=a),0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,a.child=e;null!==e;)e.return=a,e=e.sibling;return(n=Ws(u,i,n,null)).return=t,a.sibling=n,n.effectTag|=2,a.childExpirationTime=0,t.memoizedState=Yo,t.child=a,n}return t.memoizedState=null,t.child=Ca(t,e,a.children,n)}function Jo(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),ua(e.return,t)}function Zo(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailExpiration=0,o.tailMode=i,o.lastEffect=a)}function eu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Lo(e,t,r.children,n),0!==(2&(r=Ba.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!==(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Jo(e,n);else if(19===e.tag)Jo(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(vi(Ba,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===za(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Zo(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===za(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Zo(t,!0,n,null,a,t.lastEffect);break;case"together":Zo(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function tu(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&js(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=qs(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=qs(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function nu(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ru(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return Oi(t.type)&&wi(),null;case 3:return Fa(),pi(bi),pi(yi),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!No(t)||(t.effectTag|=4),Ho(t),null;case 5:Va(t),n=Ma(Pa.current);var a=t.type;if(null!==e&&null!=t.stateNode)Qo(e,t,a,r,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Ma(Na.current),No(t)){r=t.stateNode,a=t.type;var u=t.memoizedProps;switch(r[Cn]=t,r[An]=u,a){case"iframe":case"object":case"embed":Qt("load",r);break;case"video":case"audio":for(e=0;e<Xe.length;e++)Qt(Xe[e],r);break;case"source":Qt("error",r);break;case"img":case"image":case"link":Qt("error",r),Qt("load",r);break;case"form":Qt("reset",r),Qt("submit",r);break;case"details":Qt("toggle",r);break;case"input":je(r,u),Qt("invalid",r),cn(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!u.multiple},Qt("invalid",r),cn(n,"onChange");break;case"textarea":Ae(r,u),Qt("invalid",r),cn(n,"onChange")}for(var s in on(a,u),e=null,u)if(u.hasOwnProperty(s)){var c=u[s];"children"===s?"string"===typeof c?r.textContent!==c&&(e=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(e=["children",""+c]):x.hasOwnProperty(s)&&null!=c&&cn(n,s)}switch(a){case"input":ke(r),Te(r,u,!0);break;case"textarea":ke(r),Ne(r);break;case"select":case"option":break;default:"function"===typeof u.onClick&&(r.onclick=ln)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(s=9===n.nodeType?n:n.ownerDocument,e===sn&&(e=Me(a)),e===sn?"script"===a?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(a,{is:r.is}):(e=s.createElement(a),"select"===a&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,a),e[Cn]=t,e[An]=r,Go(e,t,!1,!1),t.stateNode=e,s=un(a,r),a){case"iframe":case"object":case"embed":Qt("load",e),c=r;break;case"video":case"audio":for(c=0;c<Xe.length;c++)Qt(Xe[c],e);c=r;break;case"source":Qt("error",e),c=r;break;case"img":case"image":case"link":Qt("error",e),Qt("load",e),c=r;break;case"form":Qt("reset",e),Qt("submit",e),c=r;break;case"details":Qt("toggle",e),c=r;break;case"input":je(e,r),c=we(e,r),Qt("invalid",e),cn(n,"onChange");break;case"option":c=Se(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},c=i({},r,{value:void 0}),Qt("invalid",e),cn(n,"onChange");break;case"textarea":Ae(e,r),c=Ce(e,r),Qt("invalid",e),cn(n,"onChange");break;default:c=r}on(a,c);var l=c;for(u in l)if(l.hasOwnProperty(u)){var f=l[u];"style"===u?rn(e,f):"dangerouslySetInnerHTML"===u?null!=(f=f?f.__html:void 0)&&Ve(e,f):"children"===u?"string"===typeof f?("textarea"!==a||""!==f)&&Be(e,f):"number"===typeof f&&Be(e,""+f):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(x.hasOwnProperty(u)?null!=f&&cn(n,u):null!=f&&X(e,u,f,s))}switch(a){case"input":ke(e),Te(e,r,!1);break;case"textarea":ke(e),Ne(e);break;case"option":null!=r.value&&e.setAttribute("value",""+be(r.value));break;case"select":e.multiple=!!r.multiple,null!=(n=r.value)?_e(e,!!r.multiple,n,!1):null!=r.defaultValue&&_e(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof c.onClick&&(e.onclick=ln)}jn(a,r)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)$o(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Ma(Pa.current),Ma(Na.current),No(t)?(n=t.stateNode,r=t.memoizedProps,n[Cn]=t,n.nodeValue!==r&&(t.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Cn]=t,t.stateNode=n)}return null;case 13:return pi(Ba),r=t.memoizedState,0!==(64&t.effectTag)?(t.expirationTime=n,t):(n=null!==r,r=!1,null===e?void 0!==t.memoizedProps.fallback&&No(t):(r=null!==(a=e.memoizedState),n||null===a||null!==(a=e.child.sibling)&&(null!==(u=t.firstEffect)?(t.firstEffect=a,a.nextEffect=u):(t.firstEffect=t.lastEffect=a,a.nextEffect=null),a.effectTag=8)),n&&!r&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Ba.current)?qu===Nu&&(qu=Mu):(qu!==Nu&&qu!==Mu||(qu=Lu),0!==Qu&&null!==Vu&&(Ys(Vu,zu),Xs(Vu,Qu)))),(n||r)&&(t.effectTag|=4),null);case 4:return Fa(),Ho(t),null;case 10:return oa(t),null;case 19:if(pi(Ba),null===(r=t.memoizedState))return null;if(a=0!==(64&t.effectTag),null===(u=r.rendering)){if(a)nu(r,!1);else if(qu!==Nu||null!==e&&0!==(64&e.effectTag))for(u=t.child;null!==u;){if(null!==(e=za(u))){for(t.effectTag|=64,nu(r,!1),null!==(a=e.updateQueue)&&(t.updateQueue=a,t.effectTag|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=t.child;null!==r;)u=n,(a=r).effectTag&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(e=a.alternate)?(a.childExpirationTime=0,a.expirationTime=u,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null):(a.childExpirationTime=e.childExpirationTime,a.expirationTime=e.expirationTime,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,u=e.dependencies,a.dependencies=null===u?null:{expirationTime:u.expirationTime,firstContext:u.firstContext,responders:u.responders}),r=r.sibling;return vi(Ba,1&Ba.current|2),t.child}u=u.sibling}}else{if(!a)if(null!==(e=za(u))){if(t.effectTag|=64,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),nu(r,!0),null===r.tail&&"hidden"===r.tailMode&&!u.alternate)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Wi()-r.renderingStartTime>r.tailExpiration&&1<n&&(t.effectTag|=64,a=!0,nu(r,!1),t.expirationTime=t.childExpirationTime=n-1);r.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=r.last)?n.sibling=u:t.child=u,r.last=u)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=Wi()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Wi(),n.sibling=null,t=Ba.current,vi(Ba,a?1&t|2:1&t),n):null}throw Error(o(156,t.tag))}function iu(e){switch(e.tag){case 1:Oi(e.type)&&wi();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Fa(),pi(bi),pi(yi),0!==(64&(t=e.effectTag)))throw Error(o(285));return e.effectTag=-4097&t|64,e;case 5:return Va(e),null;case 13:return pi(Ba),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return pi(Ba),null;case 4:return Fa(),null;case 10:return oa(e),null;default:return null}}function au(e,t){return{value:e,source:t,stack:ye(t)}}Go=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ho=function(){},Qo=function(e,t,n,r,a){var o=e.memoizedProps;if(o!==r){var u,s,c=t.stateNode;switch(Ma(Na.current),e=null,n){case"input":o=we(c,o),r=we(c,r),e=[];break;case"option":o=Se(c,o),r=Se(c,r),e=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),e=[];break;case"textarea":o=Ce(c,o),r=Ce(c,r),e=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(c.onclick=ln)}for(u in on(n,r),n=null,o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&null!=o[u])if("style"===u)for(s in c=o[u])c.hasOwnProperty(s)&&(n||(n={}),n[s]="");else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(x.hasOwnProperty(u)?e||(e=[]):(e=e||[]).push(u,null));for(u in r){var l=r[u];if(c=null!=o?o[u]:void 0,r.hasOwnProperty(u)&&l!==c&&(null!=l||null!=c))if("style"===u)if(c){for(s in c)!c.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&c[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(e||(e=[]),e.push(u,n)),n=l;else"dangerouslySetInnerHTML"===u?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(e=e||[]).push(u,l)):"children"===u?c===l||"string"!==typeof l&&"number"!==typeof l||(e=e||[]).push(u,""+l):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(x.hasOwnProperty(u)?(null!=l&&cn(a,u),e||c===l||(e=[])):(e=e||[]).push(u,l))}n&&(e=e||[]).push("style",n),a=e,(t.updateQueue=a)&&(t.effectTag|=4)}},$o=function(e,t,n,r){n!==r&&(t.effectTag|=4)};var ou="function"===typeof WeakSet?WeakSet:Set;function uu(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=ye(n)),null!==n&&me(n.type),t=t.value,null!==e&&1===e.tag&&me(e.type);try{console.error(t)}catch(i){setTimeout((function(){throw i}))}}function su(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Ps(e,n)}else t.current=null}function cu(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 3:case 5:case 6:case 4:case 17:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:ea(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return}throw Error(o(163))}function lu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function fu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function hu(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void fu(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var r=n.elementType===n.type?t.memoizedProps:ea(n.type,t.memoizedProps);e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&ya(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}ya(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&jn(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Lt(n)))))}throw Error(o(163))}function du(e,t,n){switch("function"===typeof Us&&Us(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;Qi(97<n?97:n,(function(){var e=r;do{var n=e.destroy;if(void 0!==n){var i=t;try{n()}catch(a){Ps(i,a)}}e=e.next}while(e!==r)}))}break;case 1:su(t),"function"===typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(n){Ps(e,n)}}(t,n);break;case 5:su(t);break;case 4:gu(e,t,n)}}function pu(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&pu(t)}function vu(e){return 5===e.tag||3===e.tag||4===e.tag}function mu(e){e:{for(var t=e.return;null!==t;){if(vu(t)){var n=t;break e}t=t.return}throw Error(o(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.effectTag&&(Be(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||vu(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}r?yu(e,n,t):bu(e,n,t)}function yu(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=ln));else if(4!==r&&null!==(e=e.child))for(yu(e,t,n),e=e.sibling;null!==e;)yu(e,t,n),e=e.sibling}function bu(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(bu(e,t,n),e=e.sibling;null!==e;)bu(e,t,n),e=e.sibling}function gu(e,t,n){for(var r,i,a=t,u=!1;;){if(!u){u=a.return;e:for(;;){if(null===u)throw Error(o(160));switch(r=u.stateNode,u.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}u=u.return}u=!0}if(5===a.tag||6===a.tag){e:for(var s=e,c=a,l=n,f=c;;)if(du(s,f,l),null!==f.child&&4!==f.tag)f.child.return=f,f=f.child;else{if(f===c)break e;for(;null===f.sibling;){if(null===f.return||f.return===c)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i?(s=r,c=a.stateNode,8===s.nodeType?s.parentNode.removeChild(c):s.removeChild(c)):r.removeChild(a.stateNode)}else if(4===a.tag){if(null!==a.child){r=a.stateNode.containerInfo,i=!0,a.child.return=a,a=a.child;continue}}else if(du(e,a,n),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(u=!1)}a.sibling.return=a.return,a=a.sibling}}function ku(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void lu(3,t);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[An]=r,"input"===e&&"radio"===r.type&&null!=r.name&&xe(n,r),un(e,i),t=un(e,r),i=0;i<a.length;i+=2){var u=a[i],s=a[i+1];"style"===u?rn(n,s):"dangerouslySetInnerHTML"===u?Ve(n,s):"children"===u?Be(n,s):X(n,u,s,t)}switch(e){case"input":Ee(n,r);break;case"textarea":Re(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?_e(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?_e(n,!!r.multiple,r.defaultValue,!0):_e(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,Lt(t.containerInfo)));case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,Yu=Wi()),null!==n)e:for(e=n;;){if(5===e.tag)a=e.stateNode,r?"function"===typeof(a=a.style).setProperty?a.setProperty("display","none","important"):a.display="none":(a=e.stateNode,i=void 0!==(i=e.memoizedProps.style)&&null!==i&&i.hasOwnProperty("display")?i.display:null,a.style.display=nn("display",i));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(a=e.child.sibling).return=e,e=a;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void Ou(t);case 19:return void Ou(t)}throw Error(o(163))}function Ou(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ou),t.forEach((function(t){var r=Ls.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}var wu="function"===typeof WeakMap?WeakMap:Map;function ju(e,t,n){(n=da(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Zu||(Zu=!0,es=r),uu(e,t)},n}function xu(e,t,n){(n=da(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return uu(e,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===ts?ts=new Set([this]):ts.add(this),uu(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var Eu,Tu=Math.ceil,Iu=Y.ReactCurrentDispatcher,Su=Y.ReactCurrentOwner,_u=0,Cu=8,Au=16,Ru=32,Nu=0,Du=1,Pu=2,Mu=3,Lu=4,Fu=5,Uu=_u,Vu=null,Bu=null,zu=0,qu=Nu,Ku=null,Wu=1073741823,Gu=1073741823,Hu=null,Qu=0,$u=!1,Yu=0,Xu=500,Ju=null,Zu=!1,es=null,ts=null,ns=!1,rs=null,is=90,as=null,os=0,us=null,ss=0;function cs(){return(Uu&(Au|Ru))!==_u?1073741821-(Wi()/10|0):0!==ss?ss:ss=1073741821-(Wi()/10|0)}function ls(e,t,n){if(0===(2&(t=t.mode)))return 1073741823;var r=Gi();if(0===(4&t))return 99===r?1073741823:1073741822;if((Uu&Au)!==_u)return zu;if(null!==n)e=Zi(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=Zi(e,150,100);break;case 97:case 96:e=Zi(e,5e3,250);break;case 95:e=2;break;default:throw Error(o(326))}return null!==Vu&&e===zu&&--e,e}function fs(e,t){if(50<os)throw os=0,us=null,Error(o(185));if(null!==(e=hs(e,t))){var n=Gi();1073741823===t?(Uu&Cu)!==_u&&(Uu&(Au|Ru))===_u?ms(e):(ps(e),Uu===_u&&Xi()):ps(e),(4&Uu)===_u||98!==n&&99!==n||(null===as?as=new Map([[e,t]]):(void 0===(n=as.get(e))||n>t)&&as.set(e,t))}}function hs(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(Vu===i&&(js(t),qu===Lu&&Ys(i,zu)),Xs(i,t)),i}function ds(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!$s(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function ps(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Yi(ms.bind(null,e));else{var t=ds(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=cs();if(1073741823===t?r=99:1===t||2===t?r=95:r=0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=r)return;n!==Fi&&_i(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?Yi(ms.bind(null,e)):$i(r,vs.bind(null,e),{timeout:10*(1073741821-t)-Wi()}),e.callbackNode=t}}}function vs(e,t){if(ss=0,t)return Js(e,t=cs()),ps(e),null;var n=ds(e);if(0!==n){if(t=e.callbackNode,(Uu&(Au|Ru))!==_u)throw Error(o(327));if(Rs(),e===Vu&&n===zu||gs(e,n),null!==Bu){var r=Uu;Uu|=Au;for(var i=Os();;)try{Es();break}catch(s){ks(e,s)}if(aa(),Uu=r,Iu.current=i,qu===Du)throw t=Ku,gs(e,n),Ys(e,n),ps(e),t;if(null===Bu)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,r=qu,Vu=null,r){case Nu:case Du:throw Error(o(345));case Pu:Js(e,2<n?2:n);break;case Mu:if(Ys(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=Ss(i)),1073741823===Wu&&10<(i=Yu+Xu-Wi())){if($u){var a=e.lastPingedTime;if(0===a||a>=n){e.lastPingedTime=n,gs(e,n);break}}if(0!==(a=ds(e))&&a!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}e.timeoutHandle=En(_s.bind(null,e),i);break}_s(e);break;case Lu:if(Ys(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=Ss(i)),$u&&(0===(i=e.lastPingedTime)||i>=n)){e.lastPingedTime=n,gs(e,n);break}if(0!==(i=ds(e))&&i!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}if(1073741823!==Gu?r=10*(1073741821-Gu)-Wi():1073741823===Wu?r=0:(r=10*(1073741821-Wu)-5e3,0>(r=(i=Wi())-r)&&(r=0),(n=10*(1073741821-n)-i)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Tu(r/1960))-r)&&(r=n)),10<r){e.timeoutHandle=En(_s.bind(null,e),r);break}_s(e);break;case Fu:if(1073741823!==Wu&&null!==Hu){a=Wu;var u=Hu;if(0>=(r=0|u.busyMinDurationMs)?r=0:(i=0|u.busyDelayMs,r=(a=Wi()-(10*(1073741821-a)-(0|u.timeoutMs||5e3)))<=i?0:i+r-a),10<r){Ys(e,n),e.timeoutHandle=En(_s.bind(null,e),r);break}}_s(e);break;default:throw Error(o(329))}if(ps(e),e.callbackNode===t)return vs.bind(null,e)}}return null}function ms(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,(Uu&(Au|Ru))!==_u)throw Error(o(327));if(Rs(),e===Vu&&t===zu||gs(e,t),null!==Bu){var n=Uu;Uu|=Au;for(var r=Os();;)try{xs();break}catch(i){ks(e,i)}if(aa(),Uu=n,Iu.current=r,qu===Du)throw n=Ku,gs(e,t),Ys(e,t),ps(e),n;if(null!==Bu)throw Error(o(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Vu=null,_s(e),ps(e)}return null}function ys(e,t){var n=Uu;Uu|=1;try{return e(t)}finally{(Uu=n)===_u&&Xi()}}function bs(e,t){var n=Uu;Uu&=-2,Uu|=Cu;try{return e(t)}finally{(Uu=n)===_u&&Xi()}}function gs(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Tn(n)),null!==Bu)for(n=Bu.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&wi();break;case 3:Fa(),pi(bi),pi(yi);break;case 5:Va(r);break;case 4:Fa();break;case 13:case 19:pi(Ba);break;case 10:oa(r)}n=n.return}Vu=e,Bu=qs(e.current,null),zu=t,qu=Nu,Ku=null,Gu=Wu=1073741823,Hu=null,Qu=0,$u=!1}function ks(e,t){for(;;){try{if(aa(),Ka.current=wo,Ya)for(var n=Ha.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(Ga=0,$a=Qa=Ha=null,Ya=!1,null===Bu||null===Bu.return)return qu=Du,Ku=t,Bu=null;e:{var i=e,a=Bu.return,o=Bu,u=t;if(t=zu,o.effectTag|=2048,o.firstEffect=o.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var s=u;if(0===(2&o.mode)){var c=o.alternate;c?(o.updateQueue=c.updateQueue,o.memoizedState=c.memoizedState,o.expirationTime=c.expirationTime):(o.updateQueue=null,o.memoizedState=null)}var l=0!==(1&Ba.current),f=a;do{var h;if(h=13===f.tag){var d=f.memoizedState;if(null!==d)h=null!==d.dehydrated;else{var p=f.memoizedProps;h=void 0!==p.fallback&&(!0!==p.unstable_avoidThisFallback||!l)}}if(h){var v=f.updateQueue;if(null===v){var m=new Set;m.add(s),f.updateQueue=m}else v.add(s);if(0===(2&f.mode)){if(f.effectTag|=64,o.effectTag&=-2981,1===o.tag)if(null===o.alternate)o.tag=17;else{var y=da(1073741823,null);y.tag=2,pa(o,y)}o.expirationTime=1073741823;break e}u=void 0,o=t;var b=i.pingCache;if(null===b?(b=i.pingCache=new wu,u=new Set,b.set(s,u)):void 0===(u=b.get(s))&&(u=new Set,b.set(s,u)),!u.has(o)){u.add(o);var g=Ms.bind(null,i,s,o);s.then(g,g)}f.effectTag|=4096,f.expirationTime=t;break e}f=f.return}while(null!==f);u=Error((me(o.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ye(o))}qu!==Fu&&(qu=Pu),u=au(u,o),f=a;do{switch(f.tag){case 3:s=u,f.effectTag|=4096,f.expirationTime=t,va(f,ju(f,s,t));break e;case 1:s=u;var k=f.type,O=f.stateNode;if(0===(64&f.effectTag)&&("function"===typeof k.getDerivedStateFromError||null!==O&&"function"===typeof O.componentDidCatch&&(null===ts||!ts.has(O)))){f.effectTag|=4096,f.expirationTime=t,va(f,xu(f,s,t));break e}}f=f.return}while(null!==f)}Bu=Is(Bu)}catch(w){t=w;continue}break}}function Os(){var e=Iu.current;return Iu.current=wo,null===e?wo:e}function ws(e,t){e<Wu&&2<e&&(Wu=e),null!==t&&e<Gu&&2<e&&(Gu=e,Hu=t)}function js(e){e>Qu&&(Qu=e)}function xs(){for(;null!==Bu;)Bu=Ts(Bu)}function Es(){for(;null!==Bu&&!Ui();)Bu=Ts(Bu)}function Ts(e){var t=Eu(e.alternate,e,zu);return e.memoizedProps=e.pendingProps,null===t&&(t=Is(e)),Su.current=null,t}function Is(e){Bu=e;do{var t=Bu.alternate;if(e=Bu.return,0===(2048&Bu.effectTag)){if(t=ru(t,Bu,zu),1===zu||1!==Bu.childExpirationTime){for(var n=0,r=Bu.child;null!==r;){var i=r.expirationTime,a=r.childExpirationTime;i>n&&(n=i),a>n&&(n=a),r=r.sibling}Bu.childExpirationTime=n}if(null!==t)return t;null!==e&&0===(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=Bu.firstEffect),null!==Bu.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Bu.firstEffect),e.lastEffect=Bu.lastEffect),1<Bu.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Bu:e.firstEffect=Bu,e.lastEffect=Bu))}else{if(null!==(t=iu(Bu)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=Bu.sibling))return t;Bu=e}while(null!==Bu);return qu===Nu&&(qu=Fu),null}function Ss(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function _s(e){var t=Gi();return Qi(99,Cs.bind(null,e,t)),null}function Cs(e,t){do{Rs()}while(null!==rs);if((Uu&(Au|Ru))!==_u)throw Error(o(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=Ss(n);if(e.firstPendingTime=i,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Vu&&(Bu=Vu=null,zu=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var a=Uu;Uu|=Ru,Su.current=null,On=Ht;var u=vn();if(mn(u)){if("selectionStart"in u)var s={start:u.selectionStart,end:u.selectionEnd};else e:{var c=(s=(s=u.ownerDocument)&&s.defaultView||window).getSelection&&s.getSelection();if(c&&0!==c.rangeCount){s=c.anchorNode;var l=c.anchorOffset,f=c.focusNode;c=c.focusOffset;try{s.nodeType,f.nodeType}catch(T){s=null;break e}var h=0,d=-1,p=-1,v=0,m=0,y=u,b=null;t:for(;;){for(var g;y!==s||0!==l&&3!==y.nodeType||(d=h+l),y!==f||0!==c&&3!==y.nodeType||(p=h+c),3===y.nodeType&&(h+=y.nodeValue.length),null!==(g=y.firstChild);)b=y,y=g;for(;;){if(y===u)break t;if(b===s&&++v===l&&(d=h),b===f&&++m===c&&(p=h),null!==(g=y.nextSibling))break;b=(y=b).parentNode}y=g}s=-1===d||-1===p?null:{start:d,end:p}}else s=null}s=s||{start:0,end:0}}else s=null;wn={activeElementDetached:null,focusedElem:u,selectionRange:s},Ht=!1,Ju=i;do{try{As()}catch(T){if(null===Ju)throw Error(o(330));Ps(Ju,T),Ju=Ju.nextEffect}}while(null!==Ju);Ju=i;do{try{for(u=e,s=t;null!==Ju;){var k=Ju.effectTag;if(16&k&&Be(Ju.stateNode,""),128&k){var O=Ju.alternate;if(null!==O){var w=O.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&k){case 2:mu(Ju),Ju.effectTag&=-3;break;case 6:mu(Ju),Ju.effectTag&=-3,ku(Ju.alternate,Ju);break;case 1024:Ju.effectTag&=-1025;break;case 1028:Ju.effectTag&=-1025,ku(Ju.alternate,Ju);break;case 4:ku(Ju.alternate,Ju);break;case 8:gu(u,l=Ju,s),pu(l)}Ju=Ju.nextEffect}}catch(T){if(null===Ju)throw Error(o(330));Ps(Ju,T),Ju=Ju.nextEffect}}while(null!==Ju);if(w=wn,O=vn(),k=w.focusedElem,s=w.selectionRange,O!==k&&k&&k.ownerDocument&&pn(k.ownerDocument.documentElement,k)){null!==s&&mn(k)&&(O=s.start,void 0===(w=s.end)&&(w=O),"selectionStart"in k?(k.selectionStart=O,k.selectionEnd=Math.min(w,k.value.length)):(w=(O=k.ownerDocument||document)&&O.defaultView||window).getSelection&&(w=w.getSelection(),l=k.textContent.length,u=Math.min(s.start,l),s=void 0===s.end?u:Math.min(s.end,l),!w.extend&&u>s&&(l=s,s=u,u=l),l=dn(k,u),f=dn(k,s),l&&f&&(1!==w.rangeCount||w.anchorNode!==l.node||w.anchorOffset!==l.offset||w.focusNode!==f.node||w.focusOffset!==f.offset)&&((O=O.createRange()).setStart(l.node,l.offset),w.removeAllRanges(),u>s?(w.addRange(O),w.extend(f.node,f.offset)):(O.setEnd(f.node,f.offset),w.addRange(O))))),O=[];for(w=k;w=w.parentNode;)1===w.nodeType&&O.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<O.length;k++)(w=O[k]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Ht=!!On,wn=On=null,e.current=n,Ju=i;do{try{for(k=e;null!==Ju;){var j=Ju.effectTag;if(36&j&&hu(k,Ju.alternate,Ju),128&j){O=void 0;var x=Ju.ref;if(null!==x){var E=Ju.stateNode;Ju.tag,O=E,"function"===typeof x?x(O):x.current=O}}Ju=Ju.nextEffect}}catch(T){if(null===Ju)throw Error(o(330));Ps(Ju,T),Ju=Ju.nextEffect}}while(null!==Ju);Ju=null,Vi(),Uu=a}else e.current=n;if(ns)ns=!1,rs=e,is=t;else for(Ju=i;null!==Ju;)t=Ju.nextEffect,Ju.nextEffect=null,Ju=t;if(0===(t=e.firstPendingTime)&&(ts=null),1073741823===t?e===us?os++:(os=0,us=e):os=0,"function"===typeof Fs&&Fs(n.stateNode,r),ps(e),Zu)throw Zu=!1,e=es,es=null,e;return(Uu&Cu)!==_u||Xi(),null}function As(){for(;null!==Ju;){var e=Ju.effectTag;0!==(256&e)&&cu(Ju.alternate,Ju),0===(512&e)||ns||(ns=!0,$i(97,(function(){return Rs(),null}))),Ju=Ju.nextEffect}}function Rs(){if(90!==is){var e=97<is?97:is;return is=90,Qi(e,Ns)}}function Ns(){if(null===rs)return!1;var e=rs;if(rs=null,(Uu&(Au|Ru))!==_u)throw Error(o(331));var t=Uu;for(Uu|=Ru,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!==(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:lu(5,n),fu(5,n)}}catch(r){if(null===e)throw Error(o(330));Ps(e,r)}n=e.nextEffect,e.nextEffect=null,e=n}return Uu=t,Xi(),!0}function Ds(e,t,n){pa(e,t=ju(e,t=au(n,t),1073741823)),null!==(e=hs(e,1073741823))&&ps(e)}function Ps(e,t){if(3===e.tag)Ds(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Ds(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===ts||!ts.has(r))){pa(n,e=xu(n,e=au(t,e),1073741823)),null!==(n=hs(n,1073741823))&&ps(n);break}}n=n.return}}function Ms(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),Vu===e&&zu===n?qu===Lu||qu===Mu&&1073741823===Wu&&Wi()-Yu<Xu?gs(e,zu):$u=!0:$s(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,ps(e)))}function Ls(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=ls(t=cs(),e,null)),null!==(e=hs(e,t))&&ps(e)}Eu=function(e,t,n){var r=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||bi.current)Mo=!0;else{if(r<n){switch(Mo=!1,t.tag){case 3:Wo(t),Do();break;case 5:if(Ua(t),4&t.mode&&1!==n&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:Oi(t.type)&&Ei(t);break;case 4:La(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value,i=t.type._context,vi(ta,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?Xo(e,t,n):(vi(Ba,1&Ba.current),null!==(t=tu(e,t,n))?t.sibling:null);vi(Ba,1&Ba.current);break;case 19:if(r=t.childExpirationTime>=n,0!==(64&e.effectTag)){if(r)return eu(e,t,n);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),vi(Ba,Ba.current),!r)return null}return tu(e,t,n)}Mo=!1}}else Mo=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=ki(t,yi.current),sa(t,n),i=Za(null,t,r,e,i,n),t.effectTag|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oi(r)){var a=!0;Ei(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,fa(t);var u=r.getDerivedStateFromProps;"function"===typeof u&&ka(t,r,u,e),i.updater=Oa,t.stateNode=i,i._reactInternalFiber=t,Ea(t,r,e,n),t=Ko(null,t,r,!0,a,n)}else t.tag=0,Lo(null,t,i,n),t=t.child;return t;case 16:e:{if(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,t.type=i,a=t.tag=function(e){if("function"===typeof e)return zs(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===se)return 11;if(e===fe)return 14}return 2}(i),e=ea(i,e),a){case 0:t=zo(null,t,i,e,n);break e;case 1:t=qo(null,t,i,e,n);break e;case 11:t=Fo(null,t,i,e,n);break e;case 14:t=Uo(null,t,i,ea(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,zo(e,t,r,i=t.elementType===r?i:ea(r,i),n);case 1:return r=t.type,i=t.pendingProps,qo(e,t,r,i=t.elementType===r?i:ea(r,i),n);case 3:if(Wo(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ha(e,t),ma(t,r,null,n),(r=t.memoizedState.element)===i)Do(),t=tu(e,t,n);else{if((i=t.stateNode.hydrate)&&(Io=In(t.stateNode.containerInfo.firstChild),To=t,i=So=!0),i)for(n=Aa(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Lo(e,t,r,n),Do();t=t.child}return t;case 5:return Ua(t),null===e&&Ao(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,u=i.children,xn(r,i)?u=null:null!==a&&xn(r,a)&&(t.effectTag|=16),Bo(e,t),4&t.mode&&1!==n&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Lo(e,t,u,n),t=t.child),t;case 6:return null===e&&Ao(t),null;case 13:return Xo(e,t,n);case 4:return La(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ca(t,null,r,n):Lo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Fo(e,t,r,i=t.elementType===r?i:ea(r,i),n);case 7:return Lo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Lo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,u=t.memoizedProps,a=i.value;var s=t.type._context;if(vi(ta,s._currentValue),s._currentValue=a,null!==u)if(s=u.value,0===(a=qr(s,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(s,a):1073741823))){if(u.children===i.children&&!bi.current){t=tu(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var c=s.dependencies;if(null!==c){u=s.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===s.tag&&((l=da(n,null)).tag=2,pa(s,l)),s.expirationTime<n&&(s.expirationTime=n),null!==(l=s.alternate)&&l.expirationTime<n&&(l.expirationTime=n),ua(s.return,n),c.expirationTime<n&&(c.expirationTime=n);break}l=l.next}}else u=10===s.tag&&s.type===t.type?null:s.child;if(null!==u)u.return=s;else for(u=s;null!==u;){if(u===t){u=null;break}if(null!==(s=u.sibling)){s.return=u.return,u=s;break}u=u.return}s=u}Lo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,sa(t,n),r=r(i=ca(i,a.unstable_observedBits)),t.effectTag|=1,Lo(e,t,r,n),t.child;case 14:return a=ea(i=t.type,t.pendingProps),Uo(e,t,i,a=ea(i.type,a),r,n);case 15:return Vo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ea(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,Oi(r)?(e=!0,Ei(t)):e=!1,sa(t,n),ja(t,r,i),Ea(t,r,i,n),Ko(null,t,r,!0,e,n);case 19:return eu(e,t,n)}throw Error(o(156,t.tag))};var Fs=null,Us=null;function Vs(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Bs(e,t,n,r){return new Vs(e,t,n,r)}function zs(e){return!(!(e=e.prototype)||!e.isReactComponent)}function qs(e,t){var n=e.alternate;return null===n?((n=Bs(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ks(e,t,n,r,i,a){var u=2;if(r=e,"function"===typeof e)zs(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case ne:return Ws(n.children,i,a,t);case ue:u=8,i|=7;break;case re:u=8,i|=1;break;case ie:return(e=Bs(12,n,t,8|i)).elementType=ie,e.type=ie,e.expirationTime=a,e;case ce:return(e=Bs(13,n,t,i)).type=ce,e.elementType=ce,e.expirationTime=a,e;case le:return(e=Bs(19,n,t,i)).elementType=le,e.expirationTime=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case ae:u=10;break e;case oe:u=9;break e;case se:u=11;break e;case fe:u=14;break e;case he:u=16,r=null;break e;case de:u=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Bs(u,n,t,i)).elementType=e,t.type=r,t.expirationTime=a,t}function Ws(e,t,n,r){return(e=Bs(7,e,r,t)).expirationTime=n,e}function Gs(e,t,n){return(e=Bs(6,e,null,t)).expirationTime=n,e}function Hs(e,t,n){return(t=Bs(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Qs(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function $s(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function Ys(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Xs(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Js(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function Zs(e,t,n,r){var i=t.current,a=cs(),u=ba.suspense;a=ls(a,i,u);e:if(n){t:{if(et(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(o(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(Oi(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(o(171))}if(1===n.tag){var c=n.type;if(Oi(c)){n=xi(n,c,s);break e}}n=s}else n=mi;return null===t.context?t.context=n:t.pendingContext=n,(t=da(a,u)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),pa(i,t),fs(i,a),a}function ec(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function tc(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function nc(e,t){tc(e,t),(e=e.alternate)&&tc(e,t)}function rc(e,t,n){var r=new Qs(e,t,n=null!=n&&!0===n.hydrate),i=Bs(3,null,null,2===t?7:1===t?3:0);r.current=i,i.stateNode=r,fa(i),e[Rn]=r.current,n&&0!==t&&function(e,t){var n=Ze(t);It.forEach((function(e){vt(e,t,n)})),St.forEach((function(e){vt(e,t,n)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function ic(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ac(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var u=i;i=function(){var e=ec(o);u.call(e)}}Zs(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new rc(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var s=i;i=function(){var e=ec(o);s.call(e)}}bs((function(){Zs(t,o,e,i)}))}return ec(o)}function oc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ic(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:te,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}rc.prototype.render=function(e){Zs(e,this._internalRoot,null,null)},rc.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Zs(null,e,null,(function(){t[Rn]=null}))},mt=function(e){if(13===e.tag){var t=Zi(cs(),150,100);fs(e,t),nc(e,t)}},yt=function(e){13===e.tag&&(fs(e,3),nc(e,3))},bt=function(e){if(13===e.tag){var t=cs();fs(e,t=ls(t,e,null)),nc(e,t)}},S=function(e,t,n){switch(t){case"input":if(Ee(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Mn(r);if(!i)throw Error(o(90));Oe(r),Ee(r,i)}}}break;case"textarea":Re(e,n);break;case"select":null!=(t=n.value)&&_e(e,!!n.multiple,t,!1)}},D=ys,P=function(e,t,n,r,i){var a=Uu;Uu|=4;try{return Qi(98,e.bind(null,t,n,r,i))}finally{(Uu=a)===_u&&Xi()}},M=function(){(Uu&(1|Au|Ru))===_u&&(function(){if(null!==as){var e=as;as=null,e.forEach((function(e,t){Js(t,e),ps(t)})),Xi()}}(),Rs())},L=function(e,t){var n=Uu;Uu|=2;try{return e(t)}finally{(Uu=n)===_u&&Xi()}};var uc={Events:[Dn,Pn,Mn,T,j,qn,function(e){at(e,zn)},R,N,Jt,st,Rs,{current:!1}]};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Fs=function(e){try{t.onCommitFiberRoot(n,e,void 0,64===(64&e.current.effectTag))}catch(r){}},Us=function(e){try{t.onCommitFiberUnmount(n,e)}catch(r){}}}catch(r){}})(i({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=rt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:Nn,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uc,t.createPortal=oc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=rt(t))?null:e.stateNode},t.flushSync=function(e,t){if((Uu&(Au|Ru))!==_u)throw Error(o(187));var n=Uu;Uu|=1;try{return Qi(99,e.bind(null,t))}finally{Uu=n,Xi()}},t.hydrate=function(e,t,n){if(!ic(t))throw Error(o(200));return ac(null,e,t,!0,n)},t.render=function(e,t,n){if(!ic(t))throw Error(o(200));return ac(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ic(e))throw Error(o(40));return!!e._reactRootContainer&&(bs((function(){ac(null,null,e,!1,(function(){e._reactRootContainer=null,e[Rn]=null}))})),!0)},t.unstable_batchedUpdates=ys,t.unstable_createPortal=function(e,t){return oc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ic(n))throw Error(o(200));if(null==e||void 0===e._reactInternalFiber)throw Error(o(38));return ac(e,t,n,!1,r)},t.version="16.14.0"},function(e,t,n){"use strict";e.exports=n(85)},function(e,t,n){"use strict";var r,i,a,o,u;if("undefined"===typeof window||"function"!==typeof MessageChannel){var s=null,c=null,l=function e(){if(null!==s)try{var n=t.unstable_now();s(!0,n),s=null}catch(r){throw setTimeout(e,0),r}},f=Date.now();t.unstable_now=function(){return Date.now()-f},r=function(e){null!==s?setTimeout(r,0,e):(s=e,setTimeout(l,0))},i=function(e,t){c=setTimeout(e,t)},a=function(){clearTimeout(c)},o=function(){return!1},u=t.unstable_forceFrameRate=function(){}}else{var h=window.performance,d=window.Date,p=window.setTimeout,v=window.clearTimeout;if("undefined"!==typeof console){var m=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof h&&"function"===typeof h.now)t.unstable_now=function(){return h.now()};else{var y=d.now();t.unstable_now=function(){return d.now()-y}}var b=!1,g=null,k=-1,O=5,w=0;o=function(){return t.unstable_now()>=w},u=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):O=0<e?Math.floor(1e3/e):5};var j=new MessageChannel,x=j.port2;j.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();w=e+O;try{g(!0,e)?x.postMessage(null):(b=!1,g=null)}catch(n){throw x.postMessage(null),n}}else b=!1},r=function(e){g=e,b||(b=!0,x.postMessage(null))},i=function(e,n){k=p((function(){e(t.unstable_now())}),n)},a=function(){v(k),k=-1}}function E(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<S(i,t)))break e;e[r]=t,e[n]=i,n=r}}function T(e){return void 0===(e=e[0])?null:e}function I(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],u=a+1,s=e[u];if(void 0!==o&&0>S(o,n))void 0!==s&&0>S(s,o)?(e[r]=s,e[u]=n,r=u):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==s&&0>S(s,n)))break e;e[r]=s,e[u]=n,r=u}}}return t}return null}function S(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var _=[],C=[],A=1,R=null,N=3,D=!1,P=!1,M=!1;function L(e){for(var t=T(C);null!==t;){if(null===t.callback)I(C);else{if(!(t.startTime<=e))break;I(C),t.sortIndex=t.expirationTime,E(_,t)}t=T(C)}}function F(e){if(M=!1,L(e),!P)if(null!==T(_))P=!0,r(U);else{var t=T(C);null!==t&&i(F,t.startTime-e)}}function U(e,n){P=!1,M&&(M=!1,a()),D=!0;var r=N;try{for(L(n),R=T(_);null!==R&&(!(R.expirationTime>n)||e&&!o());){var u=R.callback;if(null!==u){R.callback=null,N=R.priorityLevel;var s=u(R.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?R.callback=s:R===T(_)&&I(_),L(n)}else I(_);R=T(_)}if(null!==R)var c=!0;else{var l=T(C);null!==l&&i(F,l.startTime-n),c=!1}return c}finally{R=null,N=r,D=!1}}function V(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var B=u;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){P||D||(P=!0,r(U))},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return T(_)},t.unstable_next=function(e){switch(N){case 1:case 2:case 3:var t=3;break;default:t=N}var n=N;N=t;try{return e()}finally{N=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=B,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=N;N=e;try{return t()}finally{N=n}},t.unstable_scheduleCallback=function(e,n,o){var u=t.unstable_now();if("object"===typeof o&&null!==o){var s=o.delay;s="number"===typeof s&&0<s?u+s:u,o="number"===typeof o.timeout?o.timeout:V(e)}else o=V(e),s=u;return e={id:A++,callback:n,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>u?(e.sortIndex=s,E(C,e),null===T(_)&&e===T(C)&&(M?a():M=!0,i(F,s-u))):(e.sortIndex=o,E(_,e),P||D||(P=!0,r(U))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();L(e);var n=T(_);return n!==R&&null!==R&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<R.expirationTime||o()},t.unstable_wrapCallback=function(e){var t=N;return function(){var n=N;N=t;try{return e.apply(this,arguments)}finally{N=n}}}},function(e,t,n){"use strict";n(87)},function(e,t,n){"use strict";(function(e){var t=n(0),r=n(3),i=n(2),a=n(4),o=n(36),u=n(10),s=n(28),c=n(6),l="@firebase/auth-compat",f="0.3.4",h=1e3;function d(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(c.q)();return!("file:"!==d()&&"ionic:"!==d()&&"capacitor:"!==d()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(c.q)();return Object(c.u)()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(c.q)();return/Edge\/\d+/.test(e)}(e)}function m(){try{var e=self.localStorage,t=u.s();if(e)return e.setItem(t,"1"),e.removeItem(t),!v()||Object(c.v)()}catch(n){return y()&&Object(c.v)()}return!1}function y(){return"undefined"!==typeof e&&"WorkerGlobalScope"in e&&"importScripts"in e}function b(){return("http:"===d()||"https:"===d()||Object(c.s)()||p())&&!(Object(c.y)()||Object(c.x)())&&m()&&!y()}function g(){return p()&&"undefined"!==typeof document}function k(){return O.apply(this,arguments)}function O(){return(O=Object(a.a)(Object(t.a)().mark((function e(){return Object(t.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),h);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var w={LOCAL:"local",NONE:"none",SESSION:"session"},j=u.p,x="persistence";function E(e,t){j(Object.values(w).includes(t),e,"invalid-persistence-type"),Object(c.y)()?j(t!==w.SESSION,e,"unsupported-persistence-type"):Object(c.x)()?j(t===w.NONE,e,"unsupported-persistence-type"):y()?j(t===w.NONE||t===w.LOCAL&&Object(c.v)(),e,"unsupported-persistence-type"):j(t===w.NONE||m(),e,"unsupported-persistence-type")}function T(e){return I.apply(this,arguments)}function I(){return(I=Object(a.a)(Object(t.a)().mark((function e(n){var r,i;return Object(t.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._initializationPromise;case 2:r=S(),i=u.w(x,n.config.apiKey,n.name),r&&r.setItem(i,n._getPersistence());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var _=u.p,C=function(){function e(){Object(r.a)(this,e),this.browserResolver=u.t(u.A),this.cordovaResolver=u.t(u.F),this.underlyingResolver=null,this._redirectPersistence=u.B,this._completeRedirectFn=u.u,this._overrideRedirectResult=u.v}return Object(i.a)(e,[{key:"_initialize",value:function(){var e=Object(a.a)(Object(t.a)().mark((function e(n){return Object(t.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(n));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Object(a.a)(Object(t.a)().mark((function e(n,r,i,a){return Object(t.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(n,r,i,a));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Object(a.a)(Object(t.a)().mark((function e(n,r,i,a){return Object(t.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(n,r,i,a));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return g()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return _(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Object(a.a)(Object(t.a)().mark((function e(){var n;return Object(t.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,k();case 4:n=e.sent,this.underlyingResolver=n?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function A(e){return e.unwrap()}function R(e){var t=(e instanceof c.c?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof c.c)&&"temporaryProof"in t&&"phoneNumber"in t)return u.i.credentialFromResult(e);var n,r=t.providerId;if(!r||r===u.k.PASSWORD)return null;switch(r){case u.k.GOOGLE:n=u.f;break;case u.k.FACEBOOK:n=u.d;break;case u.k.GITHUB:n=u.e;break;case u.k.TWITTER:n=u.o;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,s=t.pendingToken,l=t.nonce;return a||o||i||s?s?r.startsWith("saml.")?u.m._create(r,s):u.g._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:a}):new u.h(r).credential({idToken:i,accessToken:a,rawNonce:l}):null}return e instanceof c.c?n.credentialFromError(e):n.credentialFromResult(e)}function N(e,t){return t.catch((function(t){throw t instanceof c.c&&function(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new M(e,u.K(e,t));else if(r){var i=R(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,R(t)),additionalUserInfo:u.J(e),user:L.getOrCreate(r)}}))}function D(e,t){return P.apply(this,arguments)}function P(){return(P=Object(a.a)(Object(t.a)().mark((function e(n,r){var i;return Object(t.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r;case 2:return i=e.sent,e.abrupt("return",{verificationId:i.verificationId,confirm:function(e){return N(n,i.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var M=function(){function e(t,n){Object(r.a)(this,e),this.resolver=n,this.auth=t.wrapped()}return Object(i.a)(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return N(A(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),L=function(){function e(t){Object(r.a)(this,e),this._delegate=t,this.multiFactor=u.T(t)}return Object(i.a)(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Object(a.a)(Object(t.a)().mark((function e(n){return Object(t.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",N(this.auth,u.P(this._delegate,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Object(a.a)(Object(t.a)().mark((function e(n,r){return Object(t.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",D(this.auth,u.Q(this._delegate,n,r)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Object(a.a)(Object(t.a)().mark((function e(n){return Object(t.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",N(this.auth,u.R(this._delegate,n,C)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Object(a.a)(Object(t.a)().mark((function e(n){return Object(t.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(u.q(this.auth));case 2:return e.abrupt("return",u.S(this._delegate,n,C));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Object(a.a)(Object(t.a)().mark((function e(n){return Object(t.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",N(this.auth,u.U(this._delegate,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return D(this.auth,u.V(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return N(this.auth,u.W(this._delegate,e,C))}},{key:"reauthenticateWithRedirect",value:function(){var e=Object(a.a)(Object(t.a)().mark((function e(n){return Object(t.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(u.q(this.auth));case 2:return e.abrupt("return",u.X(this._delegate,n,C));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return u.Y(this._delegate,e)}},{key:"unlink",value:function(){var e=Object(a.a)(Object(t.a)().mark((function e(n){return Object(t.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.jb(this._delegate,n);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return u.kb(this._delegate,e)}},{key:"updatePassword",value:function(e){return u.lb(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return u.mb(this._delegate,e)}},{key:"updateProfile",value:function(e){return u.nb(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return u.ob(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();L.USER_MAP=new WeakMap;var F=u.p,U=function(){function e(t,n){if(Object(r.a)(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var i=t.options.apiKey;F(i,"invalid-api-key",{appName:t.name}),F(i,"invalid-api-key",{appName:t.name});var a="undefined"!==typeof window?C:void 0;this._delegate=n.initialize({options:{persistence:B(i,t.name),popupRedirectResolver:a}}),this._delegate._updateErrorMap(u.H),this.linkUnderlyingAuth()}return Object(i.a)(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?L.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){u.E(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return u.y(this._delegate,e)}},{key:"checkActionCode",value:function(e){return u.C(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return u.D(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Object(a.a)(Object(t.a)().mark((function e(n,r){return Object(t.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",N(this._delegate,u.G(this._delegate,n,r)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return u.I(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return u.O(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Object(a.a)(Object(t.a)().mark((function e(){var n;return Object(t.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F(b(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,u.L(this._delegate,C);case 3:if(n=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",N(this._delegate,Promise.resolve(n)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){u.x(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=V(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=V(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return u.ab(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return u.Z(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Object(a.a)(Object(t.a)().mark((function e(n){var r,i;return Object(t.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E(this._delegate,n),e.t0=n,e.next=e.t0===w.SESSION?4:e.t0===w.LOCAL?6:e.t0===w.NONE?11:13;break;case 4:return r=u.B,e.abrupt("break",14);case 6:return e.next=8,u.t(u.N)._isAvailable();case 8:return i=e.sent,r=i?u.N:u.z,e.abrupt("break",14);case 11:return r=u.M,e.abrupt("break",14);case 13:return e.abrupt("return",u.r("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(r));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return N(this._delegate,u.bb(this._delegate))}},{key:"signInWithCredential",value:function(e){return N(this._delegate,u.cb(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return N(this._delegate,u.db(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return N(this._delegate,u.eb(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return N(this._delegate,u.fb(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return D(this._delegate,u.gb(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Object(a.a)(Object(t.a)().mark((function e(n){return Object(t.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F(b(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",N(this._delegate,u.hb(this._delegate,n,C)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Object(a.a)(Object(t.a)().mark((function e(n){return Object(t.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F(b(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,T(this._delegate);case 3:return e.abrupt("return",u.ib(this._delegate,n,C));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return u.pb(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function V(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&L.getOrCreate(e))},error:t,complete:n}}function B(e,t){var n=function(e,t){var n=S();if(!n)return[];var r=u.w(x,e,t);switch(n.getItem(r)){case w.NONE:return[u.M];case w.LOCAL:return[u.N,u.B];case w.SESSION:return[u.B];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(u.N)||n.push(u.N),"undefined"!==typeof window)for(var r=0,i=[u.z,u.B];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(u.M)||n.push(u.M),n}U.Persistence=w;var z=function(){function e(){Object(r.a)(this,e),this.providerId="phone",this._delegate=new u.i(A(o.a.auth()))}return Object(i.a)(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return u.i.credential(e,t)}}]),e}();z.PHONE_SIGN_IN_METHOD=u.i.PHONE_SIGN_IN_METHOD,z.PROVIDER_ID=u.i.PROVIDER_ID;var q,K=u.p,W=function(){function e(t,n){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.a.app();Object(r.a)(this,e),K(null===(i=a.options)||void 0===i?void 0:i.apiKey,"invalid-api-key",{appName:a.name}),this._delegate=new u.l(t,n,a.auth()),this.type=this._delegate.type}return Object(i.a)(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}(),G="auth-compat";(q=o.a).INTERNAL.registerComponent(new s.a(G,(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new U(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:u.a.EMAIL_SIGNIN,PASSWORD_RESET:u.a.PASSWORD_RESET,RECOVER_EMAIL:u.a.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:u.a.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:u.a.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:u.a.VERIFY_EMAIL}},EmailAuthProvider:u.c,FacebookAuthProvider:u.d,GithubAuthProvider:u.e,GoogleAuthProvider:u.f,OAuthProvider:u.h,SAMLAuthProvider:u.n,PhoneAuthProvider:z,PhoneMultiFactorGenerator:u.j,RecaptchaVerifier:W,TwitterAuthProvider:u.o,Auth:U,AuthCredential:u.b,Error:c.c}).setInstantiationMode("LAZY").setMultipleInstances(!1)),q.registerVersion(l,f)}).call(this,n(65))},function(e,t,n){"use strict";var r=n(1),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u=Object.prototype.hasOwnProperty,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)u.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},function(e,t,n){"use strict";e.exports=n(90)},function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,u=r?Symbol.for("react.strict_mode"):60108,s=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,h=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,v=r?Symbol.for("react.suspense_list"):60120,m=r?Symbol.for("react.memo"):60115,y=r?Symbol.for("react.lazy"):60116,b=r?Symbol.for("react.block"):60121,g=r?Symbol.for("react.fundamental"):60117,k=r?Symbol.for("react.responder"):60118,O=r?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case f:case h:case o:case s:case u:case p:return e;default:switch(e=e&&e.$$typeof){case l:case d:case y:case m:case c:return e;default:return t}}case a:return t}}}function j(e){return w(e)===h}t.AsyncMode=f,t.ConcurrentMode=h,t.ContextConsumer=l,t.ContextProvider=c,t.Element=i,t.ForwardRef=d,t.Fragment=o,t.Lazy=y,t.Memo=m,t.Portal=a,t.Profiler=s,t.StrictMode=u,t.Suspense=p,t.isAsyncMode=function(e){return j(e)||w(e)===f},t.isConcurrentMode=j,t.isContextConsumer=function(e){return w(e)===l},t.isContextProvider=function(e){return w(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return w(e)===d},t.isFragment=function(e){return w(e)===o},t.isLazy=function(e){return w(e)===y},t.isMemo=function(e){return w(e)===m},t.isPortal=function(e){return w(e)===a},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===u},t.isSuspense=function(e){return w(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===h||e===s||e===u||e===p||e===v||"object"===typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===m||e.$$typeof===c||e.$$typeof===l||e.$$typeof===d||e.$$typeof===g||e.$$typeof===k||e.$$typeof===O||e.$$typeof===b)},t.typeOf=w},function(e,t,n){"use strict";var r=60103,i=60106,a=60107,o=60108,u=60114,s=60109,c=60110,l=60112,f=60113,h=60120,d=60115,p=60116,v=60121,m=60122,y=60117,b=60129,g=60131;if("function"===typeof Symbol&&Symbol.for){var k=Symbol.for;r=k("react.element"),i=k("react.portal"),a=k("react.fragment"),o=k("react.strict_mode"),u=k("react.profiler"),s=k("react.provider"),c=k("react.context"),l=k("react.forward_ref"),f=k("react.suspense"),h=k("react.suspense_list"),d=k("react.memo"),p=k("react.lazy"),v=k("react.block"),m=k("react.server.block"),y=k("react.fundamental"),b=k("react.debug_trace_mode"),g=k("react.legacy_hidden")}function O(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case u:case o:case f:case h:return e;default:switch(e=e&&e.$$typeof){case c:case l:case p:case d:case s:return e;default:return t}}case i:return t}}}var w=s,j=r,x=l,E=a,T=p,I=d,S=i,_=u,C=o,A=f;t.ContextConsumer=c,t.ContextProvider=w,t.Element=j,t.ForwardRef=x,t.Fragment=E,t.Lazy=T,t.Memo=I,t.Portal=S,t.Profiler=_,t.StrictMode=C,t.Suspense=A,t.isAsyncMode=function(){return!1},t.isConcurrentMode=function(){return!1},t.isContextConsumer=function(e){return O(e)===c},t.isContextProvider=function(e){return O(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return O(e)===l},t.isFragment=function(e){return O(e)===a},t.isLazy=function(e){return O(e)===p},t.isMemo=function(e){return O(e)===d},t.isPortal=function(e){return O(e)===i},t.isProfiler=function(e){return O(e)===u},t.isStrictMode=function(e){return O(e)===o},t.isSuspense=function(e){return O(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===u||e===b||e===o||e===f||e===h||e===g||"object"===typeof e&&null!==e&&(e.$$typeof===p||e.$$typeof===d||e.$$typeof===s||e.$$typeof===c||e.$$typeof===l||e.$$typeof===y||e.$$typeof===v||e[0]===m)},t.typeOf=O},,function(e,t,n){"use strict";var r=n(46),i=n(11),a=n(12),o=n(9),u=n(3),s=n(2),c=n(36),l=n(13),f=n(6),h=n(28),d="@firebase/firestore-compat",p="0.3.4";function v(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new l.g("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function m(){if("undefined"===typeof Uint8Array)throw new l.g("unimplemented","Uint8Arrays are not available in this environment.")}function y(){if(!Object(l.r)())throw new l.g("unimplemented","Blobs are unavailable in Firestore in this environment.")}var b=function(){function e(t){Object(u.a)(this,e),this._delegate=t}return Object(s.a)(e,[{key:"toBase64",value:function(){return y(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return m(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return y(),new e(l.b.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return m(),new e(l.b.fromUint8Array(t))}}]),e}();function g(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=Object(o.a)(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(u){i.e(u)}finally{i.f()}return!1}(e,["next","error","complete"])}var k=function(){function e(){Object(u.a)(this,e)}return Object(s.a)(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return Object(l.F)(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return Object(l.G)(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return Object(l.x)(e._delegate)}}]),e}(),O=function(){function e(t,n,r){var i=this;Object(u.a)(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof l.m||(this._appCompat=t)}return Object(s.a)(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Object(l.s)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(l.A)(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return Object(l.H)(this._delegate)}},{key:"disableNetwork",value:function(){return Object(l.D)(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,Object(l.t)("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return Object(l.lb)(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return Object(l.Y)(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new l.g("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new P(this,Object(l.y)(this._delegate,e))}catch(t){throw I(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new T(this,Object(l.E)(this._delegate,e))}catch(t){throw I(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new R(this,Object(l.z)(this._delegate,e))}catch(t){throw I(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return Object(l.db)(this._delegate,(function(n){return e(new j(t,n))}))}},{key:"batch",value:function(){var e=this;return Object(l.K)(this._delegate),new x(new l.l(this._delegate,(function(t){return Object(l.L)(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return Object(l.V)(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return Object(l.W)(this._delegate,e).then((function(e){return e?new R(t,e):null}))}}]),e}(),w=function(e){Object(i.a)(n,e);var t=Object(a.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this)).firestore=e,r}return Object(s.a)(n,[{key:"convertBytes",value:function(e){return new b(new l.b(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return T.forKey(t,this.firestore,null)}}]),n}(l.a);var j=function(){function e(t,n){Object(u.a)(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new w(t)}return Object(s.a)(e,[{key:"get",value:function(e){var t=this,n=M(e);return this._delegate.get(n).then((function(e){return new C(t._firestore,new l.e(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=M(e);return n?(v("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=M(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=M(e);return this._delegate.delete(t),this}}]),e}(),x=function(){function e(t){Object(u.a)(this,e),this._delegate=t}return Object(s.a)(e,[{key:"set",value:function(e,t,n){var r=M(e);return n?(v("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=M(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=M(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),E=function(){function e(t,n,r){Object(u.a)(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return Object(s.a)(e,[{key:"fromFirestore",value:function(e,t){var n=new l.i(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new A(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new w(t),n),i.set(n,a)),a}}]),e}();E.INSTANCES=new WeakMap;var T=function(){function e(t,n){Object(u.a)(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new w(t)}return Object(s.a)(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new P(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new P(this.firestore,Object(l.y)(this._delegate,e))}catch(t){throw I(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Object(f.p)(e))instanceof l.d&&Object(l.cb)(this._delegate,e)}},{key:"set",value:function(e,t){t=v("DocumentReference.set",t);try{return t?Object(l.fb)(this._delegate,e,t):Object(l.fb)(this._delegate,e)}catch(n){throw I(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?Object(l.kb)(this._delegate,e):l.kb.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw I(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return Object(l.B)(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=S(n),a=_(n,(function(t){return new C(e.firestore,new l.e(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return Object(l.X)(this._delegate,i,a)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?Object(l.N)(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?Object(l.O)(this._delegate):Object(l.M)(this._delegate)).then((function(e){return new C(t.firestore,new l.e(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(E.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new l.g("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new l.d(n._delegate,r,new l.n(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new l.d(n._delegate,r,t))}}]),e}();function I(e,t,n){return e.message=e.message.replace(t,n),e}function S(e){var t,n=Object(o.a)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!g(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function _(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=g(e[0])?e[0]:g(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var C=function(){function e(t,n){Object(u.a)(this,e),this._firestore=t,this._delegate=n}return Object(s.a)(e,[{key:"ref",get:function(){return new T(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return Object(l.hb)(this._delegate,e._delegate)}}]),e}(),A=function(e){Object(i.a)(n,e);var t=Object(a.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return Object(l.q)(void 0!==t,"Document in a QueryDocumentSnapshot should exist"),t}}]),n}(C),R=function(){function e(t,n){Object(u.a)(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new w(t)}return Object(s.a)(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,Object(l.ab)(this._delegate,Object(l.mb)(t,n,r)))}catch(i){throw I(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,Object(l.ab)(this._delegate,Object(l.Z)(t,n)))}catch(r){throw I(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,Object(l.ab)(this._delegate,Object(l.T)(t)))}catch(n){throw I(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,Object(l.ab)(this._delegate,Object(l.U)(t)))}catch(n){throw I(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,Object(l.ab)(this._delegate,l.jb.apply(void 0,arguments)))}catch(t){throw I(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,Object(l.ab)(this._delegate,l.ib.apply(void 0,arguments)))}catch(t){throw I(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,Object(l.ab)(this._delegate,l.J.apply(void 0,arguments)))}catch(t){throw I(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,Object(l.ab)(this._delegate,l.I.apply(void 0,arguments)))}catch(t){throw I(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return Object(l.bb)(this._delegate,e._delegate)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?Object(l.Q)(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?Object(l.R)(this._delegate):Object(l.P)(this._delegate)).then((function(e){return new D(t.firestore,new l.j(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=S(n),a=_(n,(function(t){return new D(e.firestore,new l.j(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return Object(l.X)(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(E.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),N=function(){function e(t,n){Object(u.a)(this,e),this._firestore=t,this._delegate=n}return Object(s.a)(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new A(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),D=function(){function e(t,n){Object(u.a)(this,e),this._firestore=t,this._delegate=n}return Object(s.a)(e,[{key:"query",get:function(){return new R(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new A(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new N(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new A(n._firestore,r))}))}},{key:"isEqual",value:function(e){return Object(l.hb)(this._delegate,e._delegate)}}]),e}(),P=function(e){Object(i.a)(n,e);var t=Object(a.a)(n);function n(e,r){var i;return Object(u.a)(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return Object(s.a)(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new T(this.firestore,e):null}},{key:"doc",value:function(e){try{return new T(this.firestore,void 0===e?Object(l.E)(this._delegate):Object(l.E)(this._delegate,e))}catch(t){throw I(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return Object(l.u)(this._delegate,e).then((function(e){return new T(t.firestore,e)}))}},{key:"isEqual",value:function(e){return Object(l.cb)(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(E.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(R);function M(e){return Object(l.p)(e,l.d)}var L=function(){function e(){Object(u.a)(this,e);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];this._delegate=Object(r.a)(l.f,n)}return Object(s.a)(e,[{key:"isEqual",value:function(e){return(e=Object(f.p)(e))instanceof l.f&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(l.o.keyField().canonicalString())}}]),e}(),F=function(){function e(t){Object(u.a)(this,e),this._delegate=t}return Object(s.a)(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=Object(l.eb)();return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=Object(l.C)();return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=l.w.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=l.v.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=Object(l.S)(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),U={Firestore:O,GeoPoint:l.h,Timestamp:l.k,Blob:b,Transaction:j,WriteBatch:x,DocumentReference:T,DocumentSnapshot:C,Query:R,QueryDocumentSnapshot:A,QuerySnapshot:D,CollectionReference:P,FieldPath:L,FieldValue:F,setLogLevel:function(e){Object(l.gb)(e)},CACHE_SIZE_UNLIMITED:l.c};!function(e){var t;t=function(e,t){return new O(e,t,new k)},e.INTERNAL.registerComponent(new h.a("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},U))),e.registerVersion(d,p)}(c.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(8),i=n(34);function a(e){return e&&"object"===Object(i.a)(e)&&e.constructor===Object}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},i=n.clone?Object(r.a)({},e):e;return a(e)&&a(t)&&Object.keys(t).forEach((function(r){"__proto__"!==r&&(a(t[r])&&r in e?i[r]=o(e[r],t[r],n):i[r]=t[r])})),i}},,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(8),i=n(17),a=n(1),o=n(19),u=n(73),s=n(20),c=a.forwardRef((function(e,t){var n=e.classes,s=e.className,c=e.raised,l=void 0!==c&&c,f=Object(i.a)(e,["classes","className","raised"]);return a.createElement(u.a,Object(r.a)({className:Object(o.a)(n.root,s),elevation:l?8:1,ref:t},f))}));t.a=Object(s.a)({root:{overflow:"hidden"}},{name:"MuiCard"})(c)},function(e,t,n){"use strict";function r(e){var t=e.theme,n=e.name,r=e.props;if(!t||!t.props||!t.props[n])return r;var i,a=t.props[n];for(i in a)void 0===r[i]&&(r[i]=a[i]);return r}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=n(8),i=n(17),a=n(1),o=n(19),u=n(20),s=["video","audio","picture","iframe","img"],c=a.forwardRef((function(e,t){var n=e.children,u=e.classes,c=e.className,l=e.component,f=void 0===l?"div":l,h=e.image,d=e.src,p=e.style,v=Object(i.a)(e,["children","classes","className","component","image","src","style"]),m=-1!==s.indexOf(f),y=!m&&h?Object(r.a)({backgroundImage:'url("'.concat(h,'")')},p):p;return a.createElement(f,Object(r.a)({className:Object(o.a)(u.root,c,m&&u.media,-1!=="picture img".indexOf(f)&&u.img),ref:t,style:y,src:m?h||d:void 0},v),n)}));t.a=Object(u.a)({root:{display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},media:{width:"100%"},img:{objectFit:"cover"}},{name:"MuiCardMedia"})(c)},function(e,t,n){"use strict";var r=n(8),i=n(17),a=n(1),o=n(19),u=n(20),s=a.forwardRef((function(e,t){var n=e.classes,u=e.className,s=e.component,c=void 0===s?"div":s,l=Object(i.a)(e,["classes","className","component"]);return a.createElement(c,Object(r.a)({className:Object(o.a)(n.root,u),ref:t},l))}));t.a=Object(u.a)({root:{padding:16,"&:last-child":{paddingBottom:24}}},{name:"MuiCardContent"})(s)},function(e,t,n){"use strict";var r=n(8),i=n(17),a=n(1),o=n(19),u=n(20),s=n(26),c={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p"},l=a.forwardRef((function(e,t){var n=e.align,u=void 0===n?"inherit":n,l=e.classes,f=e.className,h=e.color,d=void 0===h?"initial":h,p=e.component,v=e.display,m=void 0===v?"initial":v,y=e.gutterBottom,b=void 0!==y&&y,g=e.noWrap,k=void 0!==g&&g,O=e.paragraph,w=void 0!==O&&O,j=e.variant,x=void 0===j?"body1":j,E=e.variantMapping,T=void 0===E?c:E,I=Object(i.a)(e,["align","classes","className","color","component","display","gutterBottom","noWrap","paragraph","variant","variantMapping"]),S=p||(w?"p":T[x]||c[x])||"span";return a.createElement(S,Object(r.a)({className:Object(o.a)(l.root,f,"inherit"!==x&&l[x],"initial"!==d&&l["color".concat(Object(s.a)(d))],k&&l.noWrap,b&&l.gutterBottom,w&&l.paragraph,"inherit"!==u&&l["align".concat(Object(s.a)(u))],"initial"!==m&&l["display".concat(Object(s.a)(m))]),ref:t},I))}));t.a=Object(u.a)((function(e){return{root:{margin:0},body2:e.typography.body2,body1:e.typography.body1,caption:e.typography.caption,button:e.typography.button,h1:e.typography.h1,h2:e.typography.h2,h3:e.typography.h3,h4:e.typography.h4,h5:e.typography.h5,h6:e.typography.h6,subtitle1:e.typography.subtitle1,subtitle2:e.typography.subtitle2,overline:e.typography.overline,srOnly:{position:"absolute",height:1,width:1,overflow:"hidden"},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right"},alignJustify:{textAlign:"justify"},noWrap:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},gutterBottom:{marginBottom:"0.35em"},paragraph:{marginBottom:16},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorTextPrimary:{color:e.palette.text.primary},colorTextSecondary:{color:e.palette.text.secondary},colorError:{color:e.palette.error.main},displayInline:{display:"inline"},displayBlock:{display:"block"}}}),{name:"MuiTypography"})(l)},function(e,t,n){"use strict";var r=n(8),i=n(17),a=n(1),o=n(19),u=n(20),s=a.forwardRef((function(e,t){var n=e.disableSpacing,u=void 0!==n&&n,s=e.classes,c=e.className,l=Object(i.a)(e,["disableSpacing","classes","className"]);return a.createElement("div",Object(r.a)({className:Object(o.a)(s.root,c,!u&&s.spacing),ref:t},l))}));t.a=Object(u.a)({root:{display:"flex",alignItems:"center",padding:8},spacing:{"& > :not(:first-child)":{marginLeft:8}}},{name:"MuiCardActions"})(s)},function(e,t,n){"use strict";var r=n(17),i=n(8),a=n(1),o=n(19),u=n(20),s=n(32),c=n(75),l=n(26),f=a.forwardRef((function(e,t){var n=e.children,u=e.classes,s=e.className,f=e.color,h=void 0===f?"default":f,d=e.component,p=void 0===d?"button":d,v=e.disabled,m=void 0!==v&&v,y=e.disableElevation,b=void 0!==y&&y,g=e.disableFocusRipple,k=void 0!==g&&g,O=e.endIcon,w=e.focusVisibleClassName,j=e.fullWidth,x=void 0!==j&&j,E=e.size,T=void 0===E?"medium":E,I=e.startIcon,S=e.type,_=void 0===S?"button":S,C=e.variant,A=void 0===C?"text":C,R=Object(r.a)(e,["children","classes","className","color","component","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"]),N=I&&a.createElement("span",{className:Object(o.a)(u.startIcon,u["iconSize".concat(Object(l.a)(T))])},I),D=O&&a.createElement("span",{className:Object(o.a)(u.endIcon,u["iconSize".concat(Object(l.a)(T))])},O);return a.createElement(c.a,Object(i.a)({className:Object(o.a)(u.root,u[A],s,"inherit"===h?u.colorInherit:"default"!==h&&u["".concat(A).concat(Object(l.a)(h))],"medium"!==T&&[u["".concat(A,"Size").concat(Object(l.a)(T))],u["size".concat(Object(l.a)(T))]],b&&u.disableElevation,m&&u.disabled,x&&u.fullWidth),component:p,disabled:m,focusRipple:!k,focusVisibleClassName:Object(o.a)(u.focusVisible,w),ref:t,type:_},R),a.createElement("span",{className:u.label},N,n,D))}));t.a=Object(u.a)((function(e){return{root:Object(i.a)({},e.typography.button,{boxSizing:"border-box",minWidth:64,padding:"6px 16px",borderRadius:e.shape.borderRadius,color:e.palette.text.primary,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none",backgroundColor:Object(s.a)(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},text:{padding:"6px 8px"},textPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(s.a)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},textSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(s.a)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlined:{padding:"5px 15px",border:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"&$disabled":{border:"1px solid ".concat(e.palette.action.disabledBackground)}},outlinedPrimary:{color:e.palette.primary.main,border:"1px solid ".concat(Object(s.a)(e.palette.primary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.primary.main),backgroundColor:Object(s.a)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlinedSecondary:{color:e.palette.secondary.main,border:"1px solid ".concat(Object(s.a)(e.palette.secondary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.secondary.main),backgroundColor:Object(s.a)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{border:"1px solid ".concat(e.palette.action.disabled)}},contained:{color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],boxShadow:e.shadows[2],"&:hover":{backgroundColor:e.palette.grey.A100,boxShadow:e.shadows[4],"@media (hover: none)":{boxShadow:e.shadows[2],backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},"&$focusVisible":{boxShadow:e.shadows[6]},"&:active":{boxShadow:e.shadows[8]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}},containedPrimary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},containedSecondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},disableElevation:{boxShadow:"none","&:hover":{boxShadow:"none"},"&$focusVisible":{boxShadow:"none"},"&:active":{boxShadow:"none"},"&$disabled":{boxShadow:"none"}},focusVisible:{},disabled:{},colorInherit:{color:"inherit",borderColor:"currentColor"},textSizeSmall:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},textSizeLarge:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},outlinedSizeSmall:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},outlinedSizeLarge:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},containedSizeSmall:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},containedSizeLarge:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},sizeSmall:{},sizeLarge:{},fullWidth:{width:"100%"},startIcon:{display:"inherit",marginRight:8,marginLeft:-4,"&$iconSizeSmall":{marginLeft:-2}},endIcon:{display:"inherit",marginRight:-4,marginLeft:8,"&$iconSizeSmall":{marginRight:-2}},iconSizeSmall:{"& > *:first-child":{fontSize:18}},iconSizeMedium:{"& > *:first-child":{fontSize:20}},iconSizeLarge:{"& > *:first-child":{fontSize:22}}}}),{name:"MuiButton"})(f)},function(e,t,n){"use strict";var r=n(8),i=n(17),a=n(1),o=n(19),u=n(20),s=n(32),c=n(75),l=n(26),f=a.forwardRef((function(e,t){var n=e.edge,u=void 0!==n&&n,s=e.children,f=e.classes,h=e.className,d=e.color,p=void 0===d?"default":d,v=e.disabled,m=void 0!==v&&v,y=e.disableFocusRipple,b=void 0!==y&&y,g=e.size,k=void 0===g?"medium":g,O=Object(i.a)(e,["edge","children","classes","className","color","disabled","disableFocusRipple","size"]);return a.createElement(c.a,Object(r.a)({className:Object(o.a)(f.root,h,"default"!==p&&f["color".concat(Object(l.a)(p))],m&&f.disabled,"small"===k&&f["size".concat(Object(l.a)(k))],{start:f.edgeStart,end:f.edgeEnd}[u]),centerRipple:!0,focusRipple:!b,disabled:m,ref:t},O),a.createElement("span",{className:f.label},s))}));t.a=Object(u.a)((function(e){return{root:{textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:12,borderRadius:"50%",overflow:"visible",color:e.palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{backgroundColor:Object(s.a)(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{backgroundColor:"transparent",color:e.palette.action.disabled}},edgeStart:{marginLeft:-12,"$sizeSmall&":{marginLeft:-3}},edgeEnd:{marginRight:-12,"$sizeSmall&":{marginRight:-3}},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(s.a)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},colorSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(s.a)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},disabled:{},sizeSmall:{padding:3,fontSize:e.typography.pxToRem(18)},label:{width:"100%",display:"flex",alignItems:"inherit",justifyContent:"inherit"}}}),{name:"MuiIconButton"})(f)},function(e,t,n){"use strict";var r=n(8),i=n(17),a=n(1),o=n(19),u=n(20),s=n(26),c=n(73),l=a.forwardRef((function(e,t){var n=e.classes,u=e.className,l=e.color,f=void 0===l?"primary":l,h=e.position,d=void 0===h?"fixed":h,p=Object(i.a)(e,["classes","className","color","position"]);return a.createElement(c.a,Object(r.a)({square:!0,component:"header",elevation:4,className:Object(o.a)(n.root,n["position".concat(Object(s.a)(d))],n["color".concat(Object(s.a)(f))],u,"fixed"===d&&"mui-fixed"),ref:t},p))}));t.a=Object(u.a)((function(e){var t="light"===e.palette.type?e.palette.grey[100]:e.palette.grey[900];return{root:{display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",zIndex:e.zIndex.appBar,flexShrink:0},positionFixed:{position:"fixed",top:0,left:"auto",right:0,"@media print":{position:"absolute"}},positionAbsolute:{position:"absolute",top:0,left:"auto",right:0},positionSticky:{position:"sticky",top:0,left:"auto",right:0},positionStatic:{position:"static"},positionRelative:{position:"relative"},colorDefault:{backgroundColor:t,color:e.palette.getContrastText(t)},colorPrimary:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},colorSecondary:{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText},colorInherit:{color:"inherit"},colorTransparent:{backgroundColor:"transparent",color:"inherit"}}}),{name:"MuiAppBar"})(l)},function(e,t,n){"use strict";var r=n(8),i=n(17),a=n(5),o=n(1),u=n(19),s=n(20),c=o.forwardRef((function(e,t){var n=e.classes,a=e.className,s=e.component,c=void 0===s?"div":s,l=e.disableGutters,f=void 0!==l&&l,h=e.variant,d=void 0===h?"regular":h,p=Object(i.a)(e,["classes","className","component","disableGutters","variant"]);return o.createElement(c,Object(r.a)({className:Object(u.a)(n.root,n[d],a,!f&&n.gutters),ref:t},p))}));t.a=Object(s.a)((function(e){return{root:{position:"relative",display:"flex",alignItems:"center"},gutters:Object(a.a)({paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},e.breakpoints.up("sm"),{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}),regular:e.mixins.toolbar,dense:{minHeight:48}}}),{name:"MuiToolbar"})(c)},function(e,t,n){"use strict";var r=n(8),i=n(17),a=n(5),o=n(1),u=n(19),s=n(20),c=n(26),l=o.forwardRef((function(e,t){var n=e.classes,a=e.className,s=e.component,l=void 0===s?"div":s,f=e.disableGutters,h=void 0!==f&&f,d=e.fixed,p=void 0!==d&&d,v=e.maxWidth,m=void 0===v?"lg":v,y=Object(i.a)(e,["classes","className","component","disableGutters","fixed","maxWidth"]);return o.createElement(l,Object(r.a)({className:Object(u.a)(n.root,a,p&&n.fixed,h&&n.disableGutters,!1!==m&&n["maxWidth".concat(Object(c.a)(String(m)))]),ref:t},y))}));t.a=Object(s.a)((function(e){return{root:Object(a.a)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",paddingLeft:e.spacing(2),paddingRight:e.spacing(2),display:"block"},e.breakpoints.up("sm"),{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}),disableGutters:{paddingLeft:0,paddingRight:0},fixed:Object.keys(e.breakpoints.values).reduce((function(t,n){var r=e.breakpoints.values[n];return 0!==r&&(t[e.breakpoints.up(n)]={maxWidth:r}),t}),{}),maxWidthXs:Object(a.a)({},e.breakpoints.up("xs"),{maxWidth:Math.max(e.breakpoints.values.xs,444)}),maxWidthSm:Object(a.a)({},e.breakpoints.up("sm"),{maxWidth:e.breakpoints.values.sm}),maxWidthMd:Object(a.a)({},e.breakpoints.up("md"),{maxWidth:e.breakpoints.values.md}),maxWidthLg:Object(a.a)({},e.breakpoints.up("lg"),{maxWidth:e.breakpoints.values.lg}),maxWidthXl:Object(a.a)({},e.breakpoints.up("xl"),{maxWidth:e.breakpoints.values.xl})}}),{name:"MuiContainer"})(l)},function(e,t,n){"use strict";var r=n(8),i=n(1),a=n(20),o={WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box"},u=function(e){return Object(r.a)({color:e.palette.text.primary},e.typography.body2,{backgroundColor:e.palette.background.default,"@media print":{backgroundColor:e.palette.common.white}})};t.a=Object(a.a)((function(e){return{"@global":{html:o,"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:Object(r.a)({margin:0},u(e),{"&::backdrop":{backgroundColor:e.palette.background.default}})}}}),{name:"MuiCssBaseline"})((function(e){var t=e.children,n=void 0===t?null:t;return e.classes,i.createElement(i.Fragment,null,n)}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return cn}));var r=n(17),i=n(8),a=n(1),o=n.n(a),u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s="object"===("undefined"===typeof window?"undefined":u(window))&&"object"===("undefined"===typeof document?"undefined":u(document))&&9===document.nodeType;var c=n(2),l=n(44),f=n(35),h=n(41),d={}.constructor;function p(e){if(null==e||"object"!==typeof e)return e;if(Array.isArray(e))return e.map(p);if(e.constructor!==d)return e;var t={};for(var n in e)t[n]=p(e[n]);return t}function v(e,t,n){void 0===e&&(e="unnamed");var r=n.jss,i=p(t),a=r.plugins.onCreateRule(e,i,n);return a||(e[0],null)}var m=function(e,t){for(var n="",r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=t),n+=e[r];return n},y=function(e){if(!Array.isArray(e))return e;var t="";if(Array.isArray(e[0]))for(var n=0;n<e.length&&"!important"!==e[n];n++)t&&(t+=", "),t+=m(e[n]," ");else t=m(e,", ");return"!important"===e[e.length-1]&&(t+=" !important"),t};function b(e){return e&&!1===e.format?{linebreak:"",space:""}:{linebreak:"\n",space:" "}}function g(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function k(e,t,n){void 0===n&&(n={});var r="";if(!t)return r;var i=n.indent,a=void 0===i?0:i,o=t.fallbacks;!1===n.format&&(a=-1/0);var u=b(n),s=u.linebreak,c=u.space;if(e&&a++,o)if(Array.isArray(o))for(var l=0;l<o.length;l++){var f=o[l];for(var h in f){var d=f[h];null!=d&&(r&&(r+=s),r+=g(h+":"+c+y(d)+";",a))}}else for(var p in o){var v=o[p];null!=v&&(r&&(r+=s),r+=g(p+":"+c+y(v)+";",a))}for(var m in t){var k=t[m];null!=k&&"fallbacks"!==m&&(r&&(r+=s),r+=g(m+":"+c+y(k)+";",a))}return(r||n.allowEmpty)&&e?(r&&(r=""+s+r+s),g(""+e+c+"{"+r,--a)+g("}",a)):r}var O=/([[\].#*$><+~=|^:(),"'`\s])/g,w="undefined"!==typeof CSS&&CSS.escape,j=function(e){return w?w(e):e.replace(O,"\\$1")},x=function(){function e(e,t,n){this.type="style",this.isProcessed=!1;var r=n.sheet,i=n.Renderer;this.key=e,this.options=n,this.style=t,r?this.renderer=r.renderer:i&&(this.renderer=new i)}return e.prototype.prop=function(e,t,n){if(void 0===t)return this.style[e];var r=!!n&&n.force;if(!r&&this.style[e]===t)return this;var i=t;n&&!1===n.process||(i=this.options.jss.plugins.onChangeValue(t,e,this));var a=null==i||!1===i,o=e in this.style;if(a&&!o&&!r)return this;var u=a&&o;if(u?delete this.style[e]:this.style[e]=i,this.renderable&&this.renderer)return u?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,i),this;var s=this.options.sheet;return s&&s.attached,this},e}(),E=function(e){function t(t,n,r){var i;i=e.call(this,t,n,r)||this;var a=r.selector,o=r.scoped,u=r.sheet,s=r.generateId;return a?i.selectorText=a:!1!==o&&(i.id=s(Object(f.a)(Object(f.a)(i)),u),i.selectorText="."+j(i.id)),i}Object(l.a)(t,e);var n=t.prototype;return n.applyTo=function(e){var t=this.renderer;if(t){var n=this.toJSON();for(var r in n)t.setProperty(e,r,n[r])}return this},n.toJSON=function(){var e={};for(var t in this.style){var n=this.style[t];"object"!==typeof n?e[t]=n:Array.isArray(n)&&(e[t]=y(n))}return e},n.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?Object(i.a)({},e,{allowEmpty:!0}):e;return k(this.selectorText,this.style,n)},Object(c.a)(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,n=this.renderable;if(n&&t)t.setSelector(n,e)||t.replaceRule(n,this)}},get:function(){return this.selectorText}}]),t}(x),T={onCreateRule:function(e,t,n){return"@"===e[0]||n.parent&&"keyframes"===n.parent.type?null:new E(e,t,n)}},I={indent:1,children:!0},S=/@([\w-]+)/,_=function(){function e(e,t,n){this.type="conditional",this.isProcessed=!1,this.key=e;var r=e.match(S);for(var a in this.at=r?r[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new J(Object(i.a)({},n,{parent:this})),t)this.rules.add(a,t[a]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.toString=function(e){void 0===e&&(e=I);var t=b(e).linebreak;if(null==e.indent&&(e.indent=I.indent),null==e.children&&(e.children=I.children),!1===e.children)return this.query+" {}";var n=this.rules.toString(e);return n?this.query+" {"+t+n+t+"}":""},e}(),C=/@container|@media|@supports\s+/,A={onCreateRule:function(e,t,n){return C.test(e)?new _(e,t,n):null}},R={indent:1,children:!0},N=/@keyframes\s+([\w-]+)/,D=function(){function e(e,t,n){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var r=e.match(N);r&&r[1]?this.name=r[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var a=n.scoped,o=n.sheet,u=n.generateId;for(var s in this.id=!1===a?this.name:j(u(this,o)),this.rules=new J(Object(i.a)({},n,{parent:this})),t)this.rules.add(s,t[s],Object(i.a)({},n,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){void 0===e&&(e=R);var t=b(e).linebreak;if(null==e.indent&&(e.indent=R.indent),null==e.children&&(e.children=R.children),!1===e.children)return this.at+" "+this.id+" {}";var n=this.rules.toString(e);return n&&(n=""+t+n+t),this.at+" "+this.id+" {"+n+"}"},e}(),P=/@keyframes\s+/,M=/\$([\w-]+)/g,L=function(e,t){return"string"===typeof e?e.replace(M,(function(e,n){return n in t?t[n]:e})):e},F=function(e,t,n){var r=e[t],i=L(r,n);i!==r&&(e[t]=i)},U={onCreateRule:function(e,t,n){return"string"===typeof e&&P.test(e)?new D(e,t,n):null},onProcessStyle:function(e,t,n){return"style"===t.type&&n?("animation-name"in e&&F(e,"animation-name",n.keyframes),"animation"in e&&F(e,"animation",n.keyframes),e):e},onChangeValue:function(e,t,n){var r=n.options.sheet;if(!r)return e;switch(t){case"animation":case"animation-name":return L(e,r.keyframes);default:return e}}},V=function(e){function t(){return e.apply(this,arguments)||this}return Object(l.a)(t,e),t.prototype.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?Object(i.a)({},e,{allowEmpty:!0}):e;return k(this.key,this.style,n)},t}(x),B={onCreateRule:function(e,t,n){return n.parent&&"keyframes"===n.parent.type?new V(e,t,n):null}},z=function(){function e(e,t,n){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){var t=b(e).linebreak;if(Array.isArray(this.style)){for(var n="",r=0;r<this.style.length;r++)n+=k(this.at,this.style[r]),this.style[r+1]&&(n+=t);return n}return k(this.at,this.style,e)},e}(),q=/@font-face/,K={onCreateRule:function(e,t,n){return q.test(e)?new z(e,t,n):null}},W=function(){function e(e,t,n){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){return k(this.key,this.style,e)},e}(),G={onCreateRule:function(e,t,n){return"@viewport"===e||"@-ms-viewport"===e?new W(e,t,n):null}},H=function(){function e(e,t,n){this.type="simple",this.isProcessed=!1,this.key=e,this.value=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),Q={"@charset":!0,"@import":!0,"@namespace":!0},$=[T,A,U,B,K,G,{onCreateRule:function(e,t,n){return e in Q?new H(e,t,n):null}}],Y={process:!0},X={force:!0,process:!0},J=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,n){var r=this.options,a=r.parent,o=r.sheet,u=r.jss,s=r.Renderer,c=r.generateId,l=r.scoped,f=Object(i.a)({classes:this.classes,parent:a,sheet:o,jss:u,Renderer:s,generateId:c,scoped:l,name:e,keyframes:this.keyframes,selector:void 0},n),h=e;e in this.raw&&(h=e+"-d"+this.counter++),this.raw[h]=t,h in this.classes&&(f.selector="."+j(this.classes[h]));var d=v(h,t,f);if(!d)return null;this.register(d);var p=void 0===f.index?this.index.length:f.index;return this.index.splice(p,0,d),d},t.replace=function(e,t,n){var r=this.get(e),a=this.index.indexOf(r);r&&this.remove(r);var o=n;return-1!==a&&(o=Object(i.a)({},n,{index:a})),this.add(e,t,o)},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof E?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof D&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof E?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof D&&delete this.keyframes[e.name]},t.update=function(){var e,t,n;if("string"===typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.get(e),t,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],t,n)},t.updateOne=function(t,n,r){void 0===r&&(r=Y);var i=this.options,a=i.jss.plugins,o=i.sheet;if(t.rules instanceof e)t.rules.update(n,r);else{var u=t.style;if(a.onUpdate(n,t,o,r),r.process&&u&&u!==t.style){for(var s in a.onProcessStyle(t.style,t,o),t.style){var c=t.style[s];c!==u[s]&&t.prop(s,c,X)}for(var l in u){var f=t.style[l],h=u[l];null==f&&f!==h&&t.prop(l,null,X)}}}},t.toString=function(e){for(var t="",n=this.options.sheet,r=!!n&&n.options.link,i=b(e).linebreak,a=0;a<this.index.length;a++){var o=this.index[a].toString(e);(o||r)&&(t&&(t+=i),t+=o)}return t},e}(),Z=function(){function e(e,t){for(var n in this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=Object(i.a)({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new J(this.options),e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var i=this.rules.add(e,t,n);return i?(this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(r?r.push(i):(this.insertRule(i),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),i):i:(this.deployed=!1,i)):null},t.replaceRule=function(e,t,n){var r=this.rules.get(e);if(!r)return this.addRule(e,t,n);var i=this.rules.replace(e,t,n);return i&&this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(this.renderer&&(i?r.renderable&&this.renderer.replaceRule(r.renderable,i):this.renderer.deleteRule(r)),i):i:(this.deployed=!1,i)},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var n=[];for(var r in e){var i=this.addRule(r,e[r],t);i&&n.push(i)}return n},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"===typeof e?e:this.rules.get(e);return!(!t||this.attached&&!t.renderable)&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,n){return this.rules.updateOne(e,t,n),this},t.toString=function(e){return this.rules.toString(e)},e}(),ee=function(){function e(){this.plugins={internal:[],external:[]},this.registry={}}var t=e.prototype;return t.onCreateRule=function(e,t,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var i=this.registry.onCreateRule[r](e,t,n);if(i)return i}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)t.style=this.registry.onProcessStyle[r](t.style,t,n)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,n,r){for(var i=0;i<this.registry.onUpdate.length;i++)this.registry.onUpdate[i](e,t,n,r)},t.onChangeValue=function(e,t,n){for(var r=e,i=0;i<this.registry.onChangeValue.length;i++)r=this.registry.onChangeValue[i](r,t,n);return r},t.use=function(e,t){void 0===t&&(t={queue:"external"});var n=this.plugins[t.queue];-1===n.indexOf(e)&&(n.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(e,t){for(var n in t)n in e&&e[n].push(t[n]);return e}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),te=new(function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var r=0;r<t.length;r++)if(t[r].options.index>n)return void t.splice(r,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,n=t.attached,r=Object(h.a)(t,["attached"]),i=b(r).linebreak,a="",o=0;o<this.registry.length;o++){var u=this.registry[o];null!=n&&u.attached!==n||(a&&(a+=i),a+=u.toString(r))}return a},Object(c.a)(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}()),ne="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window&&window.Math===Math?window:"undefined"!==typeof self&&self.Math===Math?self:Function("return this")(),re="2f1acc6c3a606b082e5eef5e54414ffb";null==ne[re]&&(ne[re]=0);var ie=ne[re]++,ae=function(e){void 0===e&&(e={});var t=0;return function(n,r){t+=1;var i="",a="";return r&&(r.options.classNamePrefix&&(a=r.options.classNamePrefix),null!=r.options.jss.id&&(i=String(r.options.jss.id))),e.minify?""+(a||"c")+ie+i+t:a+n.key+"-"+ie+(i?"-"+i:"")+"-"+t}},oe=function(e){var t;return function(){return t||(t=e()),t}},ue=function(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(n){return""}},se=function(e,t,n){try{var r=n;if(Array.isArray(n)&&(r=y(n)),e.attributeStyleMap)e.attributeStyleMap.set(t,r);else{var i=r?r.indexOf("!important"):-1,a=i>-1?r.substr(0,i-1):r;e.style.setProperty(t,a,i>-1?"important":"")}}catch(o){return!1}return!0},ce=function(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(n){}},le=function(e,t){return e.selectorText=t,e.selectorText===t},fe=oe((function(){return document.querySelector("head")}));function he(e){var t=te.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if(n=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e),n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&"string"===typeof r){var i=function(e){for(var t=fe(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===e)return r}return null}(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}var de=oe((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null})),pe=function(e,t,n){try{"insertRule"in e?e.insertRule(t,n):"appendRule"in e&&e.appendRule(t)}catch(r){return!1}return e.cssRules[n]},ve=function(e,t){var n=e.cssRules.length;return void 0===t||t>n?n:t},me=function(){var e=document.createElement("style");return e.textContent="\n",e},ye=function(){function e(e){this.getPropertyValue=ue,this.setProperty=se,this.removeProperty=ce,this.setSelector=le,this.hasInsertedRules=!1,this.cssRules=[],e&&te.add(e),this.sheet=e;var t=this.sheet?this.sheet.options:{},n=t.media,r=t.meta,i=t.element;this.element=i||me(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var a=de();a&&this.element.setAttribute("nonce",a)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var n=t.insertionPoint,r=he(t);if(!1!==r&&r.parent)r.parent.insertBefore(e,r.node);else if(n&&"number"===typeof n.nodeType){var i=n,a=i.parentNode;a&&a.insertBefore(e,i.nextSibling)}else fe().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var e=this.element.parentNode;e&&e.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var n=0;n<e.index.length;n++)this.insertRule(e.index[n],n,t)},t.insertRule=function(e,t,n){if(void 0===n&&(n=this.element.sheet),e.rules){var r=e,i=n;if("conditional"===e.type||"keyframes"===e.type){var a=ve(n,t);if(!1===(i=pe(n,r.toString({children:!1}),a)))return!1;this.refCssRule(e,a,i)}return this.insertRules(r.rules,i),i}var o=e.toString();if(!o)return!1;var u=ve(n,t),s=pe(n,o,u);return!1!==s&&(this.hasInsertedRules=!0,this.refCssRule(e,u,s),s)},t.refCssRule=function(e,t,n){e.renderable=n,e.options.parent instanceof Z&&this.cssRules.splice(t,0,n)},t.deleteRule=function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),this.cssRules.splice(n,1),!0)},t.indexOf=function(e){return this.cssRules.indexOf(e)},t.replaceRule=function(e,t){var n=this.indexOf(e);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(t,n))},t.getRules=function(){return this.element.sheet.cssRules},e}(),be=0,ge=function(){function e(e){this.id=be++,this.version="10.10.0",this.plugins=new ee,this.options={id:{minify:!1},createGenerateId:ae,Renderer:s?ye:null,plugins:[]},this.generateId=ae({minify:!1});for(var t=0;t<$.length;t++)this.plugins.use($[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=Object(i.a)({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var n=t.index;"number"!==typeof n&&(n=0===te.index?0:te.index+1);var r=new Z(e,Object(i.a)({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(r),r},t.removeStyleSheet=function(e){return e.detach(),te.remove(e),this},t.createRule=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),"object"===typeof e)return this.createRule(void 0,e,t);var r=Object(i.a)({},n,{name:e,jss:this,Renderer:this.options.Renderer});r.generateId||(r.generateId=this.generateId),r.classes||(r.classes={}),r.keyframes||(r.keyframes={});var a=v(e,t,r);return a&&this.plugins.onProcessRule(a),a},t.use=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){e.plugins.use(t)})),this},e}(),ke=function(e){return new ge(e)},Oe="object"===typeof CSS&&null!=CSS&&"number"in CSS;function we(e){var t=null;for(var n in e){var r=e[n],i=typeof r;if("function"===i)t||(t={}),t[n]=r;else if("object"===i&&null!==r&&!Array.isArray(r)){var a=we(r);a&&(t||(t={}),t[n]=a)}}return t}ke();function je(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseClasses,n=e.newClasses;e.Component;if(!n)return t;var r=Object(i.a)({},t);return Object.keys(n).forEach((function(e){n[e]&&(r[e]="".concat(t[e]," ").concat(n[e]))})),r}var xe={set:function(e,t,n,r){var i=e.get(t);i||(i=new Map,e.set(t,i)),i.set(n,r)},get:function(e,t,n){var r=e.get(t);return r?r.get(n):void 0},delete:function(e,t,n){e.get(t).delete(n)}},Ee=xe,Te=n(131),Ie="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__",Se=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];var _e=Date.now(),Ce="fnValues"+_e,Ae="fnStyle"+ ++_e,Re=function(){return{onCreateRule:function(e,t,n){if("function"!==typeof t)return null;var r=v(e,{},n);return r[Ae]=t,r},onProcessStyle:function(e,t){if(Ce in t||Ae in t)return e;var n={};for(var r in e){var i=e[r];"function"===typeof i&&(delete e[r],n[r]=i)}return t[Ce]=n,e},onUpdate:function(e,t,n,r){var i=t,a=i[Ae];a&&(i.style=a(e)||{});var o=i[Ce];if(o)for(var u in o)i.prop(u,o[u](e),r)}}},Ne="@global",De="@global ",Pe=function(){function e(e,t,n){for(var r in this.type="global",this.at=Ne,this.isProcessed=!1,this.key=e,this.options=n,this.rules=new J(Object(i.a)({},n,{parent:this})),t)this.rules.add(r,t[r]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(e){return this.rules.toString(e)},e}(),Me=function(){function e(e,t,n){this.type="global",this.at=Ne,this.isProcessed=!1,this.key=e,this.options=n;var r=e.substr(De.length);this.rule=n.jss.createRule(r,t,Object(i.a)({},n,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),Le=/\s*,\s*/g;function Fe(e,t){for(var n=e.split(Le),r="",i=0;i<n.length;i++)r+=t+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}var Ue=function(){return{onCreateRule:function(e,t,n){if(!e)return null;if(e===Ne)return new Pe(e,t,n);if("@"===e[0]&&e.substr(0,De.length)===De)return new Me(e,t,n);var r=n.parent;return r&&("global"===r.type||r.options.parent&&"global"===r.options.parent.type)&&(n.scoped=!1),n.selector||!1!==n.scoped||(n.selector=e),null},onProcessRule:function(e,t){"style"===e.type&&t&&(function(e,t){var n=e.options,r=e.style,a=r?r[Ne]:null;if(a){for(var o in a)t.addRule(o,a[o],Object(i.a)({},n,{selector:Fe(o,e.selector)}));delete r[Ne]}}(e,t),function(e,t){var n=e.options,r=e.style;for(var a in r)if("@"===a[0]&&a.substr(0,Ne.length)===Ne){var o=Fe(a.substr(Ne.length),e.selector);t.addRule(o,r[a],Object(i.a)({},n,{selector:o})),delete r[a]}}(e,t))}}},Ve=/\s*,\s*/g,Be=/&/g,ze=/\$([\w-]+)/g;var qe=function(){function e(e,t){return function(n,r){var i=e.getRule(r)||t&&t.getRule(r);return i?i.selector:r}}function t(e,t){for(var n=t.split(Ve),r=e.split(Ve),i="",a=0;a<n.length;a++)for(var o=n[a],u=0;u<r.length;u++){var s=r[u];i&&(i+=", "),i+=-1!==s.indexOf("&")?s.replace(Be,o):o+" "+s}return i}function n(e,t,n){if(n)return Object(i.a)({},n,{index:n.index+1});var r=e.options.nestingLevel;r=void 0===r?1:r+1;var a=Object(i.a)({},e.options,{nestingLevel:r,index:t.indexOf(e)+1});return delete a.name,a}return{onProcessStyle:function(r,a,o){if("style"!==a.type)return r;var u,s,c=a,l=c.options.parent;for(var f in r){var h=-1!==f.indexOf("&"),d="@"===f[0];if(h||d){if(u=n(c,l,u),h){var p=t(f,c.selector);s||(s=e(l,o)),p=p.replace(ze,s);var v=c.key+"-"+f;"replaceRule"in l?l.replaceRule(v,r[f],Object(i.a)({},u,{selector:p})):l.addRule(v,r[f],Object(i.a)({},u,{selector:p}))}else d&&l.addRule(f,{},u).addRule(c.key,r[f],{selector:c.selector});delete r[f]}}return r}}},Ke=/[A-Z]/g,We=/^ms-/,Ge={};function He(e){return"-"+e.toLowerCase()}var Qe=function(e){if(Ge.hasOwnProperty(e))return Ge[e];var t=e.replace(Ke,He);return Ge[e]=We.test(t)?"-"+t:t};function $e(e){var t={};for(var n in e){t[0===n.indexOf("--")?n:Qe(n)]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map($e):t.fallbacks=$e(e.fallbacks)),t}var Ye=function(){return{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=$e(e[t]);return e}return $e(e)},onChangeValue:function(e,t,n){if(0===t.indexOf("--"))return e;var r=Qe(t);return t===r?e:(n.prop(r,e),null)}}},Xe=Oe&&CSS?CSS.px:"px",Je=Oe&&CSS?CSS.ms:"ms",Ze=Oe&&CSS?CSS.percent:"%";function et(e){var t=/(-[a-z])/g,n=function(e){return e[1].toUpperCase()},r={};for(var i in e)r[i]=e[i],r[i.replace(t,n)]=e[i];return r}var tt=et({"animation-delay":Je,"animation-duration":Je,"background-position":Xe,"background-position-x":Xe,"background-position-y":Xe,"background-size":Xe,border:Xe,"border-bottom":Xe,"border-bottom-left-radius":Xe,"border-bottom-right-radius":Xe,"border-bottom-width":Xe,"border-left":Xe,"border-left-width":Xe,"border-radius":Xe,"border-right":Xe,"border-right-width":Xe,"border-top":Xe,"border-top-left-radius":Xe,"border-top-right-radius":Xe,"border-top-width":Xe,"border-width":Xe,"border-block":Xe,"border-block-end":Xe,"border-block-end-width":Xe,"border-block-start":Xe,"border-block-start-width":Xe,"border-block-width":Xe,"border-inline":Xe,"border-inline-end":Xe,"border-inline-end-width":Xe,"border-inline-start":Xe,"border-inline-start-width":Xe,"border-inline-width":Xe,"border-start-start-radius":Xe,"border-start-end-radius":Xe,"border-end-start-radius":Xe,"border-end-end-radius":Xe,margin:Xe,"margin-bottom":Xe,"margin-left":Xe,"margin-right":Xe,"margin-top":Xe,"margin-block":Xe,"margin-block-end":Xe,"margin-block-start":Xe,"margin-inline":Xe,"margin-inline-end":Xe,"margin-inline-start":Xe,padding:Xe,"padding-bottom":Xe,"padding-left":Xe,"padding-right":Xe,"padding-top":Xe,"padding-block":Xe,"padding-block-end":Xe,"padding-block-start":Xe,"padding-inline":Xe,"padding-inline-end":Xe,"padding-inline-start":Xe,"mask-position-x":Xe,"mask-position-y":Xe,"mask-size":Xe,height:Xe,width:Xe,"min-height":Xe,"max-height":Xe,"min-width":Xe,"max-width":Xe,bottom:Xe,left:Xe,top:Xe,right:Xe,inset:Xe,"inset-block":Xe,"inset-block-end":Xe,"inset-block-start":Xe,"inset-inline":Xe,"inset-inline-end":Xe,"inset-inline-start":Xe,"box-shadow":Xe,"text-shadow":Xe,"column-gap":Xe,"column-rule":Xe,"column-rule-width":Xe,"column-width":Xe,"font-size":Xe,"font-size-delta":Xe,"letter-spacing":Xe,"text-decoration-thickness":Xe,"text-indent":Xe,"text-stroke":Xe,"text-stroke-width":Xe,"word-spacing":Xe,motion:Xe,"motion-offset":Xe,outline:Xe,"outline-offset":Xe,"outline-width":Xe,perspective:Xe,"perspective-origin-x":Ze,"perspective-origin-y":Ze,"transform-origin":Ze,"transform-origin-x":Ze,"transform-origin-y":Ze,"transform-origin-z":Ze,"transition-delay":Je,"transition-duration":Je,"vertical-align":Xe,"flex-basis":Xe,"shape-margin":Xe,size:Xe,gap:Xe,grid:Xe,"grid-gap":Xe,"row-gap":Xe,"grid-row-gap":Xe,"grid-column-gap":Xe,"grid-template-rows":Xe,"grid-template-columns":Xe,"grid-auto-rows":Xe,"grid-auto-columns":Xe,"box-shadow-x":Xe,"box-shadow-y":Xe,"box-shadow-blur":Xe,"box-shadow-spread":Xe,"font-line-height":Xe,"text-shadow-x":Xe,"text-shadow-y":Xe,"text-shadow-blur":Xe});function nt(e,t,n){if(null==t)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=nt(e,t[r],n);else if("object"===typeof t)if("fallbacks"===e)for(var i in t)t[i]=nt(i,t[i],n);else for(var a in t)t[a]=nt(e+"-"+a,t[a],n);else if("number"===typeof t&&!1===isNaN(t)){var o=n[e]||tt[e];return!o||0===t&&o===Xe?t.toString():"function"===typeof o?o(t).toString():""+t+o}return t}var rt=function(e){void 0===e&&(e={});var t=et(e);return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var r in e)e[r]=nt(r,e[r],t);return e},onChangeValue:function(e,n){return nt(n,e,t)}}},it=n(18),at="",ot="",ut="",st="",ct=s&&"ontouchstart"in document.documentElement;if(s){var lt={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},ft=document.createElement("p").style;for(var ht in lt)if(ht+"Transform"in ft){at=ht,ot=lt[ht];break}"Webkit"===at&&"msHyphens"in ft&&(at="ms",ot=lt.ms,st="edge"),"Webkit"===at&&"-apple-trailing-word"in ft&&(ut="apple")}var dt={js:at,css:ot,vendor:ut,browser:st,isTouch:ct};var pt={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===dt.js?"-webkit-"+e:dt.css+e)}},vt={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===dt.js?dt.css+"print-"+e:e)}},mt=/[-\s]+(.)?/g;function yt(e,t){return t?t.toUpperCase():""}function bt(e){return e.replace(mt,yt)}function gt(e){return bt("-"+e)}var kt,Ot={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===dt.js){var n="mask-image";if(bt(n)in t)return e;if(dt.js+gt(n)in t)return dt.css+e}return e}},wt={noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==dt.vendor||dt.isTouch?e:dt.css+e)}},jt={noPrefill:["transform"],supportedProperty:function(e,t,n){return"transform"===e&&(n.transform?e:dt.css+e)}},xt={noPrefill:["transition"],supportedProperty:function(e,t,n){return"transition"===e&&(n.transition?e:dt.css+e)}},Et={noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===dt.js||"ms"===dt.js&&"edge"!==dt.browser?dt.css+e:e)}},Tt={noPrefill:["user-select"],supportedProperty:function(e){return"user-select"===e&&("Moz"===dt.js||"ms"===dt.js||"apple"===dt.vendor?dt.css+e:e)}},It={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===dt.js?"WebkitColumn"+gt(e)in t&&dt.css+"column-"+e:"Moz"===dt.js&&("page"+gt(e)in t&&"page-"+e))}},St={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===dt.js)return e;var n=e.replace("-inline","");return dt.js+gt(n)in t&&dt.css+n}},_t={supportedProperty:function(e,t){return bt(e)in t&&e}},Ct={supportedProperty:function(e,t){var n=gt(e);return"-"===e[0]||"-"===e[0]&&"-"===e[1]?e:dt.js+n in t?dt.css+e:"Webkit"!==dt.js&&"Webkit"+n in t&&"-webkit-"+e}},At={supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===dt.js?""+dt.css+e:e)}},Rt={supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===dt.js?dt.css+"scroll-chaining":e)}},Nt={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},Dt={supportedProperty:function(e,t){var n=Nt[e];return!!n&&(dt.js+gt(n)in t&&dt.css+n)}},Pt={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},Mt=Object.keys(Pt),Lt=function(e){return dt.css+e},Ft=[pt,vt,Ot,wt,jt,xt,Et,Tt,It,St,_t,Ct,At,Rt,Dt,{supportedProperty:function(e,t,n){var r=n.multiple;if(Mt.indexOf(e)>-1){var i=Pt[e];if(!Array.isArray(i))return dt.js+gt(i)in t&&dt.css+i;if(!r)return!1;for(var a=0;a<i.length;a++)if(!(dt.js+gt(i[0])in t))return!1;return i.map(Lt)}return!1}}],Ut=Ft.filter((function(e){return e.supportedProperty})).map((function(e){return e.supportedProperty})),Vt=Ft.filter((function(e){return e.noPrefill})).reduce((function(e,t){return e.push.apply(e,Object(it.a)(t.noPrefill)),e}),[]),Bt={};if(s){kt=document.createElement("p");var zt=window.getComputedStyle(document.documentElement,"");for(var qt in zt)isNaN(qt)||(Bt[zt[qt]]=zt[qt]);Vt.forEach((function(e){return delete Bt[e]}))}function Kt(e,t){if(void 0===t&&(t={}),!kt)return e;if(null!=Bt[e])return Bt[e];"transition"!==e&&"transform"!==e||(t[e]=e in kt.style);for(var n=0;n<Ut.length&&(Bt[e]=Ut[n](e,kt.style,t),!Bt[e]);n++);try{kt.style[e]=""}catch(r){return!1}return Bt[e]}var Wt,Gt={},Ht={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},Qt=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function $t(e,t,n){if("var"===t)return"var";if("all"===t)return"all";if("all"===n)return", all";var r=t?Kt(t):", "+Kt(n);return r||(t||n)}function Yt(e,t){var n=t;if(!Wt||"content"===e)return t;if("string"!==typeof n||!isNaN(parseInt(n,10)))return n;var r=e+n;if(null!=Gt[r])return Gt[r];try{Wt.style[e]=n}catch(i){return Gt[r]=!1,!1}if(Ht[e])n=n.replace(Qt,$t);else if(""===Wt.style[e]&&("-ms-flex"===(n=dt.css+n)&&(Wt.style[e]="-ms-flexbox"),Wt.style[e]=n,""===Wt.style[e]))return Gt[r]=!1,!1;return Wt.style[e]="",Gt[r]=n,Gt[r]}s&&(Wt=document.createElement("p"));var Xt=function(){function e(t){for(var n in t){var r=t[n];if("fallbacks"===n&&Array.isArray(r))t[n]=r.map(e);else{var i=!1,a=Kt(n);a&&a!==n&&(i=!0);var o=!1,u=Yt(a,y(r));u&&u!==r&&(o=!0),(i||o)&&(i&&delete t[n],t[a||n]=u||r)}}return t}return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at="-"===(n=t.at)[1]||"ms"===dt.js?n:"@"+dt.css+"keyframes"+n.substr(10)}var n},onProcessStyle:function(t,n){return"style"!==n.type?t:e(t)},onChangeValue:function(e,t){return Yt(t,y(e))||e}}};var Jt=function(){var e=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length};return{onProcessStyle:function(t,n){if("style"!==n.type)return t;for(var r={},i=Object.keys(t).sort(e),a=0;a<i.length;a++)r[i[a]]=t[i[a]];return r}}};function Zt(){return{plugins:[Re(),Ue(),qe(),Ye(),rt(),"undefined"===typeof window?null:Xt(),Jt()]}}var en=ke(Zt()),tn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disableGlobal,n=void 0!==t&&t,r=e.productionPrefix,i=void 0===r?"jss":r,a=e.seed,o=void 0===a?"":a,u=""===o?"":"".concat(o,"-"),s=0,c=function(){return s+=1};return function(e,t){var r=t.options.name;if(r&&0===r.indexOf("Mui")&&!t.options.link&&!n){if(-1!==Se.indexOf(e.key))return"Mui-".concat(e.key);var a="".concat(u).concat(r,"-").concat(e.key);return t.options.theme[Ie]&&""===o?"".concat(a,"-").concat(c()):a}return"".concat(u).concat(i).concat(c())}}(),nn={disableGeneration:!1,generateClassName:tn,jss:en,sheetsCache:null,sheetsManager:new Map,sheetsRegistry:null},rn=o.a.createContext(nn);var an=-1e9;n(34);var on=n(94);var un={};function sn(e,t){var n=e.state,r=e.theme,a=e.stylesOptions,o=e.stylesCreator,u=e.name;if(!a.disableGeneration){var s=Ee.get(a.sheetsManager,o,r);s||(s={refs:0,staticSheet:null,dynamicStyles:null},Ee.set(a.sheetsManager,o,r,s));var c=Object(i.a)({},o.options,a,{theme:r,flip:"boolean"===typeof a.flip?a.flip:"rtl"===r.direction});c.generateId=c.serverGenerateClassName||c.generateClassName;var l=a.sheetsRegistry;if(0===s.refs){var f;a.sheetsCache&&(f=Ee.get(a.sheetsCache,o,r));var h=o.create(r,u);f||((f=a.jss.createStyleSheet(h,Object(i.a)({link:!1},c))).attach(),a.sheetsCache&&Ee.set(a.sheetsCache,o,r,f)),l&&l.add(f),s.staticSheet=f,s.dynamicStyles=we(h)}if(s.dynamicStyles){var d=a.jss.createStyleSheet(s.dynamicStyles,Object(i.a)({link:!0},c));d.update(t),d.attach(),n.dynamicSheet=d,n.classes=je({baseClasses:s.staticSheet.classes,newClasses:d.classes}),l&&l.add(d)}else n.classes=s.staticSheet.classes;s.refs+=1}}function cn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.name,a=t.classNamePrefix,u=t.Component,s=t.defaultTheme,c=void 0===s?un:s,l=Object(r.a)(t,["name","classNamePrefix","Component","defaultTheme"]),f=function(e){var t="function"===typeof e;return{create:function(n,r){var a;try{a=t?e(n):e}catch(s){throw s}if(!r||!n.overrides||!n.overrides[r])return a;var o=n.overrides[r],u=Object(i.a)({},a);return Object.keys(o).forEach((function(e){u[e]=Object(on.a)(u[e],o[e])})),u},options:{}}}(e),h=n||a||"makeStyles";f.options={index:an+=1,name:n,meta:h,classNamePrefix:h};return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(Te.a)()||c,r=Object(i.a)({},o.a.useContext(rn),l),a=o.a.useRef(),s=o.a.useRef();!function(e,t){var n,r=o.a.useRef([]),i=o.a.useMemo((function(){return{}}),t);r.current!==i&&(r.current=i,n=e()),o.a.useEffect((function(){return function(){n&&n()}}),[i])}((function(){var i={name:n,state:{},stylesCreator:f,stylesOptions:r,theme:t};return sn(i,e),s.current=!1,a.current=i,function(){!function(e){var t=e.state,n=e.theme,r=e.stylesOptions,i=e.stylesCreator;if(!r.disableGeneration){var a=Ee.get(r.sheetsManager,i,n);a.refs-=1;var o=r.sheetsRegistry;0===a.refs&&(Ee.delete(r.sheetsManager,i,n),r.jss.removeStyleSheet(a.staticSheet),o&&o.remove(a.staticSheet)),t.dynamicSheet&&(r.jss.removeStyleSheet(t.dynamicSheet),o&&o.remove(t.dynamicSheet))}}(i)}}),[t,f]),o.a.useEffect((function(){s.current&&function(e,t){var n=e.state;n.dynamicSheet&&n.dynamicSheet.update(t)}(a.current,e),s.current=!0}));var h=function(e,t,n){var r=e.state;if(e.stylesOptions.disableGeneration)return t||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});var i=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,i=!0),t!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=t,i=!0),i&&(r.cacheClasses.value=je({baseClasses:r.cacheClasses.lastJSS,newClasses:t,Component:n})),r.cacheClasses.value}(a.current,e.classes,u);return h}}},function(e,t,n){"use strict";var r=n(8),i=n(17),a=n(1),o=n.n(a),u=(n(70),n(19)),s=n(20),c=n(23),l=n.n(c);function f(e){return e&&e.ownerDocument||document}function h(e){return f(e).defaultView||window}function d(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))}var p=n(131),v=n(115),m=n(43),y=n(31);var b="undefined"!==typeof window?a.useLayoutEffect:a.useEffect;var g=a.forwardRef((function(e,t){var n=e.children,r=e.container,i=e.disablePortal,o=void 0!==i&&i,u=e.onRendered,s=a.useState(null),l=s[0],f=s[1],h=Object(y.a)(a.isValidElement(n)?n.ref:null,t);return b((function(){o||f(function(e){return e="function"===typeof e?e():e,c.findDOMNode(e)}(r)||document.body)}),[r,o]),b((function(){if(l&&!o)return Object(m.a)(t,l),function(){Object(m.a)(t,null)}}),[t,l,o]),b((function(){u&&(l||o)&&u()}),[u,l,o]),o?a.isValidElement(n)?a.cloneElement(n,{ref:h}):n:l?c.createPortal(n,l):l})),k=n(37),O=n(62),w=n(3),j=n(2),x=n(18);function E(){var e=document.createElement("div");e.style.width="99px",e.style.height="99px",e.style.position="absolute",e.style.top="-9999px",e.style.overflow="scroll",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}function T(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function I(e){return parseInt(window.getComputedStyle(e)["padding-right"],10)||0}function S(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4?arguments[4]:void 0,a=[t,n].concat(Object(x.a)(r)),o=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(e.children,(function(e){1===e.nodeType&&-1===a.indexOf(e)&&-1===o.indexOf(e.tagName)&&T(e,i)}))}function _(e,t){var n=-1;return e.some((function(e,r){return!!t(e)&&(n=r,!0)})),n}function C(e,t){var n,r=[],i=[],a=e.container;if(!t.disableScrollLock){if(function(e){var t=f(e);return t.body===e?h(t).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(a)){var o=E();r.push({value:a.style.paddingRight,key:"padding-right",el:a}),a.style["padding-right"]="".concat(I(a)+o,"px"),n=f(a).querySelectorAll(".mui-fixed"),[].forEach.call(n,(function(e){i.push(e.style.paddingRight),e.style.paddingRight="".concat(I(e)+o,"px")}))}var u=a.parentElement,s="HTML"===u.nodeName&&"scroll"===window.getComputedStyle(u)["overflow-y"]?u:a;r.push({value:s.style.overflow,key:"overflow",el:s}),s.style.overflow="hidden"}return function(){n&&[].forEach.call(n,(function(e,t){i[t]?e.style.paddingRight=i[t]:e.style.removeProperty("padding-right")})),r.forEach((function(e){var t=e.value,n=e.el,r=e.key;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}var A=function(){function e(){Object(w.a)(this,e),this.modals=[],this.containers=[]}return Object(j.a)(e,[{key:"add",value:function(e,t){var n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&T(e.modalRef,!1);var r=function(e){var t=[];return[].forEach.call(e.children,(function(e){e.getAttribute&&"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);S(t,e.mountNode,e.modalRef,r,!0);var i=_(this.containers,(function(e){return e.container===t}));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblingNodes:r}),n)}},{key:"mount",value:function(e,t){var n=_(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];r.restore||(r.restore=C(r,t))}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);if(-1===t)return t;var n=_(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];if(r.modals.splice(r.modals.indexOf(e),1),this.modals.splice(t,1),0===r.modals.length)r.restore&&r.restore(),e.modalRef&&T(e.modalRef,!0),S(r.container,e.mountNode,e.modalRef,r.hiddenSiblingNodes,!1),this.containers.splice(n,1);else{var i=r.modals[r.modals.length-1];i.modalRef&&T(i.modalRef,!1)}return t}},{key:"isTopModal",value:function(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}]),e}();var R=function(e){var t=e.children,n=e.disableAutoFocus,r=void 0!==n&&n,i=e.disableEnforceFocus,o=void 0!==i&&i,u=e.disableRestoreFocus,s=void 0!==u&&u,l=e.getDoc,h=e.isEnabled,d=e.open,p=a.useRef(),v=a.useRef(null),m=a.useRef(null),b=a.useRef(),g=a.useRef(null),k=a.useCallback((function(e){g.current=c.findDOMNode(e)}),[]),O=Object(y.a)(t.ref,k),w=a.useRef();return a.useEffect((function(){w.current=d}),[d]),!w.current&&d&&"undefined"!==typeof window&&(b.current=l().activeElement),a.useEffect((function(){if(d){var e=f(g.current);r||!g.current||g.current.contains(e.activeElement)||(g.current.hasAttribute("tabIndex")||g.current.setAttribute("tabIndex",-1),g.current.focus());var t=function(){null!==g.current&&(e.hasFocus()&&!o&&h()&&!p.current?g.current&&!g.current.contains(e.activeElement)&&g.current.focus():p.current=!1)},n=function(t){!o&&h()&&9===t.keyCode&&e.activeElement===g.current&&(p.current=!0,t.shiftKey?m.current.focus():v.current.focus())};e.addEventListener("focus",t,!0),e.addEventListener("keydown",n,!0);var i=setInterval((function(){t()}),50);return function(){clearInterval(i),e.removeEventListener("focus",t,!0),e.removeEventListener("keydown",n,!0),s||(b.current&&b.current.focus&&b.current.focus(),b.current=null)}}}),[r,o,s,h,d]),a.createElement(a.Fragment,null,a.createElement("div",{tabIndex:0,ref:v,"data-test":"sentinelStart"}),a.cloneElement(t,{ref:O}),a.createElement("div",{tabIndex:0,ref:m,"data-test":"sentinelEnd"}))},N={root:{zIndex:-1,position:"fixed",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},D=a.forwardRef((function(e,t){var n=e.invisible,o=void 0!==n&&n,u=e.open,s=Object(i.a)(e,["invisible","open"]);return u?a.createElement("div",Object(r.a)({"aria-hidden":!0,ref:t},s,{style:Object(r.a)({},N.root,o?N.invisible:{},s.style)})):null}));var P=new A,M=a.forwardRef((function(e,t){var n=Object(p.a)(),o=Object(v.a)({name:"MuiModal",props:Object(r.a)({},e),theme:n}),u=o.BackdropComponent,s=void 0===u?D:u,l=o.BackdropProps,h=o.children,m=o.closeAfterTransition,b=void 0!==m&&m,w=o.container,j=o.disableAutoFocus,x=void 0!==j&&j,E=o.disableBackdropClick,I=void 0!==E&&E,S=o.disableEnforceFocus,_=void 0!==S&&S,C=o.disableEscapeKeyDown,A=void 0!==C&&C,N=o.disablePortal,M=void 0!==N&&N,L=o.disableRestoreFocus,F=void 0!==L&&L,U=o.disableScrollLock,V=void 0!==U&&U,B=o.hideBackdrop,z=void 0!==B&&B,q=o.keepMounted,K=void 0!==q&&q,W=o.manager,G=void 0===W?P:W,H=o.onBackdropClick,Q=o.onClose,$=o.onEscapeKeyDown,Y=o.onRendered,X=o.open,J=Object(i.a)(o,["BackdropComponent","BackdropProps","children","closeAfterTransition","container","disableAutoFocus","disableBackdropClick","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onEscapeKeyDown","onRendered","open"]),Z=a.useState(!0),ee=Z[0],te=Z[1],ne=a.useRef({}),re=a.useRef(null),ie=a.useRef(null),ae=Object(y.a)(ie,t),oe=function(e){return!!e.children&&e.children.props.hasOwnProperty("in")}(o),ue=function(){return f(re.current)},se=function(){return ne.current.modalRef=ie.current,ne.current.mountNode=re.current,ne.current},ce=function(){G.mount(se(),{disableScrollLock:V}),ie.current.scrollTop=0},le=Object(k.a)((function(){var e=function(e){return e="function"===typeof e?e():e,c.findDOMNode(e)}(w)||ue().body;G.add(se(),e),ie.current&&ce()})),fe=a.useCallback((function(){return G.isTopModal(se())}),[G]),he=Object(k.a)((function(e){re.current=e,e&&(Y&&Y(),X&&fe()?ce():T(ie.current,!0))})),de=a.useCallback((function(){G.remove(se())}),[G]);if(a.useEffect((function(){return function(){de()}}),[de]),a.useEffect((function(){X?le():oe&&b||de()}),[X,de,oe,b,le]),!K&&!X&&(!oe||ee))return null;var pe=function(e){return{root:{position:"fixed",zIndex:e.zIndex.modal,right:0,bottom:0,top:0,left:0},hidden:{visibility:"hidden"}}}(n||{zIndex:O.a}),ve={};return void 0===h.props.tabIndex&&(ve.tabIndex=h.props.tabIndex||"-1"),oe&&(ve.onEnter=d((function(){te(!1)}),h.props.onEnter),ve.onExited=d((function(){te(!0),b&&de()}),h.props.onExited)),a.createElement(g,{ref:he,container:w,disablePortal:M},a.createElement("div",Object(r.a)({ref:ae,onKeyDown:function(e){"Escape"===e.key&&fe()&&($&&$(e),A||(e.stopPropagation(),Q&&Q(e,"escapeKeyDown")))},role:"presentation"},J,{style:Object(r.a)({},pe.root,!X&&ee?pe.hidden:{},J.style)}),z?null:a.createElement(s,Object(r.a)({open:X,onClick:function(e){e.target===e.currentTarget&&(H&&H(e),!I&&Q&&Q(e,"backdropClick"))}},l)),a.createElement(R,{disableEnforceFocus:_,disableAutoFocus:x,disableRestoreFocus:F,getDoc:ue,isEnabled:fe,open:X},a.cloneElement(h,ve))))})),L=n(15),F=n(41),U=n(44),V=!1,B=n(48),z="unmounted",q="exited",K="entering",W="entered",G="exiting",H=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=q,r.appearStatus=K):i=W:i=t.unmountOnExit||t.mountOnEnter?z:q,r.state={status:i},r.nextCallback=null,r}Object(U.a)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===z?{status:q}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==K&&n!==W&&(t=K):n!==K&&n!==W||(t=G)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===K){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:l.a.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===q&&this.setState({status:z})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[l.a.findDOMNode(this),r],a=i[0],o=i[1],u=this.getTimeouts(),s=r?u.appear:u.enter;!e&&!n||V?this.safeSetState({status:W},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,o),this.safeSetState({status:K},(function(){t.props.onEntering(a,o),t.onTransitionEnd(s,(function(){t.safeSetState({status:W},(function(){t.props.onEntered(a,o)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:l.a.findDOMNode(this);t&&!V?(this.props.onExit(r),this.safeSetState({status:G},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:q},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:q},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:l.a.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],o=i[1];this.props.addEndListener(a,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===z)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,Object(F.a)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return o.a.createElement(B.a.Provider,{value:null},"function"===typeof n?n(e,r):o.a.cloneElement(o.a.Children.only(n),r))},t}(o.a.Component);function Q(){}H.contextType=B.a,H.propTypes={},H.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Q,onEntering:Q,onEntered:Q,onExit:Q,onExiting:Q,onExited:Q},H.UNMOUNTED=z,H.EXITED=q,H.ENTERING=K,H.ENTERED=W,H.EXITING=G;var $=H,Y=n(47);function X(){return Object(p.a)()||Y.a}function J(e,t){var n=e.timeout,r=e.style,i=void 0===r?{}:r;return{duration:i.transitionDuration||"number"===typeof n?n:n[t.mode]||0,delay:i.transitionDelay}}function Z(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var ee={entering:{opacity:1,transform:Z(1)},entered:{opacity:1,transform:"none"}},te=a.forwardRef((function(e,t){var n=e.children,o=e.disableStrictModeCompat,u=void 0!==o&&o,s=e.in,c=e.onEnter,l=e.onEntered,f=e.onEntering,h=e.onExit,d=e.onExited,p=e.onExiting,v=e.style,m=e.timeout,b=void 0===m?"auto":m,g=e.TransitionComponent,k=void 0===g?$:g,O=Object(i.a)(e,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),w=a.useRef(),j=a.useRef(),x=X(),E=x.unstable_strictMode&&!u,T=a.useRef(null),I=Object(y.a)(n.ref,t),S=Object(y.a)(E?T:void 0,I),_=function(e){return function(t,n){if(e){var r=E?[T.current,t]:[t,n],i=Object(L.a)(r,2),a=i[0],o=i[1];void 0===o?e(a):e(a,o)}}},C=_(f),A=_((function(e,t){!function(e){e.scrollTop}(e);var n,r=J({style:v,timeout:b},{mode:"enter"}),i=r.duration,a=r.delay;"auto"===b?(n=x.transitions.getAutoHeightDuration(e.clientHeight),j.current=n):n=i,e.style.transition=[x.transitions.create("opacity",{duration:n,delay:a}),x.transitions.create("transform",{duration:.666*n,delay:a})].join(","),c&&c(e,t)})),R=_(l),N=_(p),D=_((function(e){var t,n=J({style:v,timeout:b},{mode:"exit"}),r=n.duration,i=n.delay;"auto"===b?(t=x.transitions.getAutoHeightDuration(e.clientHeight),j.current=t):t=r,e.style.transition=[x.transitions.create("opacity",{duration:t,delay:i}),x.transitions.create("transform",{duration:.666*t,delay:i||.333*t})].join(","),e.style.opacity="0",e.style.transform=Z(.75),h&&h(e)})),P=_(d);return a.useEffect((function(){return function(){clearTimeout(w.current)}}),[]),a.createElement(k,Object(r.a)({appear:!0,in:s,nodeRef:E?T:void 0,onEnter:A,onEntered:R,onEntering:C,onExit:D,onExited:P,onExiting:N,addEndListener:function(e,t){var n=E?e:t;"auto"===b&&(w.current=setTimeout(n,j.current||0))},timeout:"auto"===b?null:b},O),(function(e,t){return a.cloneElement(n,Object(r.a)({style:Object(r.a)({opacity:0,transform:Z(.75),visibility:"exited"!==e||s?void 0:"hidden"},ee[e],v,n.props.style),ref:S},t))}))}));te.muiSupportAuto=!0;var ne=te,re=n(73);function ie(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function ae(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function oe(e){return[e.horizontal,e.vertical].map((function(e){return"number"===typeof e?"".concat(e,"px"):e})).join(" ")}function ue(e){return"function"===typeof e?e():e}var se=a.forwardRef((function(e,t){var n=e.action,o=e.anchorEl,s=e.anchorOrigin,l=void 0===s?{vertical:"top",horizontal:"left"}:s,p=e.anchorPosition,v=e.anchorReference,m=void 0===v?"anchorEl":v,y=e.children,b=e.classes,g=e.className,k=e.container,O=e.elevation,w=void 0===O?8:O,j=e.getContentAnchorEl,x=e.marginThreshold,E=void 0===x?16:x,T=e.onEnter,I=e.onEntered,S=e.onEntering,_=e.onExit,C=e.onExited,A=e.onExiting,R=e.open,N=e.PaperProps,D=void 0===N?{}:N,P=e.transformOrigin,L=void 0===P?{vertical:"top",horizontal:"left"}:P,F=e.TransitionComponent,U=void 0===F?ne:F,V=e.transitionDuration,B=void 0===V?"auto":V,z=e.TransitionProps,q=void 0===z?{}:z,K=Object(i.a)(e,["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","classes","className","container","elevation","getContentAnchorEl","marginThreshold","onEnter","onEntered","onEntering","onExit","onExited","onExiting","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"]),W=a.useRef(),G=a.useCallback((function(e){if("anchorPosition"===m)return p;var t=ue(o),n=(t&&1===t.nodeType?t:f(W.current).body).getBoundingClientRect(),r=0===e?l.vertical:"center";return{top:n.top+ie(n,r),left:n.left+ae(n,l.horizontal)}}),[o,l.horizontal,l.vertical,p,m]),H=a.useCallback((function(e){var t=0;if(j&&"anchorEl"===m){var n=j(e);if(n&&e.contains(n)){var r=function(e,t){for(var n=t,r=0;n&&n!==e;)r+=(n=n.parentElement).scrollTop;return r}(e,n);t=n.offsetTop+n.clientHeight/2-r||0}0}return t}),[l.vertical,m,j]),Q=a.useCallback((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{vertical:ie(e,L.vertical)+t,horizontal:ae(e,L.horizontal)}}),[L.horizontal,L.vertical]),$=a.useCallback((function(e){var t=H(e),n={width:e.offsetWidth,height:e.offsetHeight},r=Q(n,t);if("none"===m)return{top:null,left:null,transformOrigin:oe(r)};var i=G(t),a=i.top-r.vertical,u=i.left-r.horizontal,s=a+n.height,c=u+n.width,l=h(ue(o)),f=l.innerHeight-E,d=l.innerWidth-E;if(a<E){var p=a-E;a-=p,r.vertical+=p}else if(s>f){var v=s-f;a-=v,r.vertical+=v}if(u<E){var y=u-E;u-=y,r.horizontal+=y}else if(c>d){var b=c-d;u-=b,r.horizontal+=b}return{top:"".concat(Math.round(a),"px"),left:"".concat(Math.round(u),"px"),transformOrigin:oe(r)}}),[o,m,G,H,Q,E]),Y=a.useCallback((function(){var e=W.current;if(e){var t=$(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin}}),[$]),X=a.useCallback((function(e){W.current=c.findDOMNode(e)}),[]);a.useEffect((function(){R&&Y()})),a.useImperativeHandle(n,(function(){return R?{updatePosition:function(){Y()}}:null}),[R,Y]),a.useEffect((function(){if(R){var e=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=this;clearTimeout(t),t=setTimeout((function(){e.apply(o,i)}),n)}return r.clear=function(){clearTimeout(t)},r}((function(){Y()}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}}),[R,Y]);var J=B;"auto"!==B||U.muiSupportAuto||(J=void 0);var Z=k||(o?f(ue(o)).body:void 0);return a.createElement(M,Object(r.a)({container:Z,open:R,ref:t,BackdropProps:{invisible:!0},className:Object(u.a)(b.root,g)},K),a.createElement(U,Object(r.a)({appear:!0,in:R,onEnter:T,onEntered:I,onExit:_,onExited:C,onExiting:A,timeout:J},q,{onEntering:d((function(e,t){S&&S(e,t),Y()}),q.onEntering)}),a.createElement(re.a,Object(r.a)({elevation:w,ref:X},D,{className:Object(u.a)(b.paper,D.className)}),y)))})),ce=Object(s.a)({root:{},paper:{position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}},{name:"MuiPopover"})(se),le=n(49),fe=a.forwardRef((function(e,t){var n=e.children,o=e.classes,s=e.className,c=e.component,l=void 0===c?"ul":c,f=e.dense,h=void 0!==f&&f,d=e.disablePadding,p=void 0!==d&&d,v=e.subheader,m=Object(i.a)(e,["children","classes","className","component","dense","disablePadding","subheader"]),y=a.useMemo((function(){return{dense:h}}),[h]);return a.createElement(le.a.Provider,{value:y},a.createElement(l,Object(r.a)({className:Object(u.a)(o.root,s,h&&o.dense,!p&&o.padding,v&&o.subheader),ref:t},m),v,n))})),he=Object(s.a)({root:{listStyle:"none",margin:0,padding:0,position:"relative"},padding:{paddingTop:8,paddingBottom:8},dense:{},subheader:{paddingTop:0}},{name:"MuiList"})(fe);function de(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function pe(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function ve(e,t){if(void 0===t)return!0;var n=e.innerText;return void 0===n&&(n=e.textContent),0!==(n=n.trim().toLowerCase()).length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function me(e,t,n,r,i,a){for(var o=!1,u=i(e,t,!!t&&n);u;){if(u===e.firstChild){if(o)return;o=!0}var s=!r&&(u.disabled||"true"===u.getAttribute("aria-disabled"));if(u.hasAttribute("tabindex")&&ve(u,a)&&!s)return void u.focus();u=i(e,u,n)}}var ye="undefined"===typeof window?a.useEffect:a.useLayoutEffect,be=a.forwardRef((function(e,t){var n=e.actions,o=e.autoFocus,u=void 0!==o&&o,s=e.autoFocusItem,l=void 0!==s&&s,h=e.children,d=e.className,p=e.disabledItemsFocusable,v=void 0!==p&&p,m=e.disableListWrap,b=void 0!==m&&m,g=e.onKeyDown,k=e.variant,O=void 0===k?"selectedMenu":k,w=Object(i.a)(e,["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"]),j=a.useRef(null),x=a.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});ye((function(){u&&j.current.focus()}),[u]),a.useImperativeHandle(n,(function(){return{adjustStyleForScrollbar:function(e,t){var n=!j.current.style.width;if(e.clientHeight<j.current.clientHeight&&n){var r="".concat(E(),"px");j.current.style["rtl"===t.direction?"paddingLeft":"paddingRight"]=r,j.current.style.width="calc(100% + ".concat(r,")")}return j.current}}}),[]);var T=a.useCallback((function(e){j.current=c.findDOMNode(e)}),[]),I=Object(y.a)(T,t),S=-1;a.Children.forEach(h,(function(e,t){a.isValidElement(e)&&(e.props.disabled||("selectedMenu"===O&&e.props.selected||-1===S)&&(S=t))}));var _=a.Children.map(h,(function(e,t){if(t===S){var n={};return l&&(n.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===O&&(n.tabIndex=0),a.cloneElement(e,n)}return e}));return a.createElement(he,Object(r.a)({role:"menu",ref:I,className:d,onKeyDown:function(e){var t=j.current,n=e.key,r=f(t).activeElement;if("ArrowDown"===n)e.preventDefault(),me(t,r,b,v,de);else if("ArrowUp"===n)e.preventDefault(),me(t,r,b,v,pe);else if("Home"===n)e.preventDefault(),me(t,null,b,v,de);else if("End"===n)e.preventDefault(),me(t,null,b,v,pe);else if(1===n.length){var i=x.current,a=n.toLowerCase(),o=performance.now();i.keys.length>0&&(o-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&a!==i.keys[0]&&(i.repeating=!1)),i.lastTime=o,i.keys.push(a);var u=r&&!i.repeating&&ve(r,i);i.previousKeyMatched&&(u||me(t,r,!1,v,de,i))?e.preventDefault():i.previousKeyMatched=!1}g&&g(e)},tabIndex:u?0:-1},w),_)})),ge={vertical:"top",horizontal:"right"},ke={vertical:"top",horizontal:"left"},Oe=a.forwardRef((function(e,t){var n=e.autoFocus,o=void 0===n||n,s=e.children,l=e.classes,f=e.disableAutoFocusItem,h=void 0!==f&&f,d=e.MenuListProps,p=void 0===d?{}:d,v=e.onClose,y=e.onEntering,b=e.open,g=e.PaperProps,k=void 0===g?{}:g,O=e.PopoverClasses,w=e.transitionDuration,j=void 0===w?"auto":w,x=e.TransitionProps,E=(x=void 0===x?{}:x).onEntering,T=Object(i.a)(x,["onEntering"]),I=e.variant,S=void 0===I?"selectedMenu":I,_=Object(i.a)(e,["autoFocus","children","classes","disableAutoFocusItem","MenuListProps","onClose","onEntering","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"]),C=X(),A=o&&!h&&b,R=a.useRef(null),N=a.useRef(null),D=-1;a.Children.map(s,(function(e,t){a.isValidElement(e)&&(e.props.disabled||("menu"!==S&&e.props.selected||-1===D)&&(D=t))}));var P=a.Children.map(s,(function(e,t){return t===D?a.cloneElement(e,{ref:function(t){N.current=c.findDOMNode(t),Object(m.a)(e.ref,t)}}):e}));return a.createElement(ce,Object(r.a)({getContentAnchorEl:function(){return N.current},classes:O,onClose:v,TransitionProps:Object(r.a)({onEntering:function(e,t){R.current&&R.current.adjustStyleForScrollbar(e,C),y&&y(e,t),E&&E(e,t)}},T),anchorOrigin:"rtl"===C.direction?ge:ke,transformOrigin:"rtl"===C.direction?ge:ke,PaperProps:Object(r.a)({},k,{classes:Object(r.a)({},k.classes,{root:l.paper})}),open:b,ref:t,transitionDuration:j},_),a.createElement(be,Object(r.a)({onKeyDown:function(e){"Tab"===e.key&&(e.preventDefault(),v&&v(e,"tabKeyDown"))},actions:R,autoFocus:o&&(-1===D||h),autoFocusItem:A,variant:S},p,{className:Object(u.a)(l.list,p.className)}),P))}));t.a=Object(s.a)({paper:{maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"},list:{outline:0}},{name:"MuiMenu"})(Oe)},function(e,t,n){"use strict";var r=n(18),i=n(8),a=n(38);function o(e,t){var n={};return Object.keys(e).forEach((function(r){-1===t.indexOf(r)&&(n[r]=e[r])})),n}function u(e){var t=function(t){var n=e(t);return t.css?Object(i.a)({},Object(a.a)(n,e(Object(i.a)({theme:t.theme},t.css))),o(t.css,[e.filterProps])):t.sx?Object(i.a)({},Object(a.a)(n,e(Object(i.a)({theme:t.theme},t.sx))),o(t.sx,[e.filterProps])):n};return t.propTypes={},t.filterProps=["css","sx"].concat(Object(r.a)(e.filterProps)),t}var s=u;var c=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=function(e){return t.reduce((function(t,n){var r=n(e);return r?Object(a.a)(t,r):t}),{})};return r.propTypes={},r.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),r},l=n(5),f=n(61);function h(e,t){return t&&"string"===typeof t?t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e):null}var d=function(e){var t=e.prop,n=e.cssProperty,r=void 0===n?e.prop:n,i=e.themeKey,a=e.transform,o=function(e){if(null==e[t])return null;var n=e[t],o=h(e.theme,i)||{};return Object(f.a)(e,n,(function(e){var t;return"function"===typeof o?t=o(e):Array.isArray(o)?t=o[e]||e:(t=h(o,e)||e,a&&(t=a(t))),!1===r?t:Object(l.a)({},r,t)}))};return o.propTypes={},o.filterProps=[t],o};function p(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var v=c(d({prop:"border",themeKey:"borders",transform:p}),d({prop:"borderTop",themeKey:"borders",transform:p}),d({prop:"borderRight",themeKey:"borders",transform:p}),d({prop:"borderBottom",themeKey:"borders",transform:p}),d({prop:"borderLeft",themeKey:"borders",transform:p}),d({prop:"borderColor",themeKey:"palette"}),d({prop:"borderRadius",themeKey:"shape"})),m=c(d({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),d({prop:"display"}),d({prop:"overflow"}),d({prop:"textOverflow"}),d({prop:"visibility"}),d({prop:"whiteSpace"})),y=c(d({prop:"flexBasis"}),d({prop:"flexDirection"}),d({prop:"flexWrap"}),d({prop:"justifyContent"}),d({prop:"alignItems"}),d({prop:"alignContent"}),d({prop:"order"}),d({prop:"flex"}),d({prop:"flexGrow"}),d({prop:"flexShrink"}),d({prop:"alignSelf"}),d({prop:"justifyItems"}),d({prop:"justifySelf"})),b=c(d({prop:"gridGap"}),d({prop:"gridColumnGap"}),d({prop:"gridRowGap"}),d({prop:"gridColumn"}),d({prop:"gridRow"}),d({prop:"gridAutoFlow"}),d({prop:"gridAutoColumns"}),d({prop:"gridAutoRows"}),d({prop:"gridTemplateColumns"}),d({prop:"gridTemplateRows"}),d({prop:"gridTemplateAreas"}),d({prop:"gridArea"})),g=c(d({prop:"position"}),d({prop:"zIndex",themeKey:"zIndex"}),d({prop:"top"}),d({prop:"right"}),d({prop:"bottom"}),d({prop:"left"})),k=c(d({prop:"color",themeKey:"palette"}),d({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"})),O=d({prop:"boxShadow",themeKey:"shadows"});function w(e){return e<=1?"".concat(100*e,"%"):e}var j=d({prop:"width",transform:w}),x=d({prop:"maxWidth",transform:w}),E=d({prop:"minWidth",transform:w}),T=d({prop:"height",transform:w}),I=d({prop:"maxHeight",transform:w}),S=d({prop:"minHeight",transform:w}),_=(d({prop:"size",cssProperty:"width",transform:w}),d({prop:"size",cssProperty:"height",transform:w}),c(j,x,E,T,I,S,d({prop:"boxSizing"}))),C=n(132),A=c(d({prop:"fontFamily",themeKey:"typography"}),d({prop:"fontSize",themeKey:"typography"}),d({prop:"fontStyle",themeKey:"typography"}),d({prop:"fontWeight",themeKey:"typography"}),d({prop:"letterSpacing"}),d({prop:"lineHeight"}),d({prop:"textAlign"})),R=n(17),N=n(1),D=n.n(N),P=n(19),M=n(60),L=n.n(M),F=n(126);function U(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.name,a=Object(R.a)(n,["name"]);var o,u=r,s="function"===typeof t?function(e){return{root:function(n){return t(Object(i.a)({theme:e},n))}}}:{root:t},c=Object(F.a)(s,Object(i.a)({Component:e,name:r||e.displayName,classNamePrefix:u},a));t.filterProps&&(o=t.filterProps,delete t.filterProps),t.propTypes&&(t.propTypes,delete t.propTypes);var l=D.a.forwardRef((function(t,n){var r=t.children,a=t.className,u=t.clone,s=t.component,l=Object(R.a)(t,["children","className","clone","component"]),f=c(t),h=Object(P.a)(f.root,a),d=l;if(o&&(d=function(e,t){var n={};return Object.keys(e).forEach((function(r){-1===t.indexOf(r)&&(n[r]=e[r])})),n}(d,o)),u)return D.a.cloneElement(r,Object(i.a)({className:Object(P.a)(r.props.className,h)},d));if("function"===typeof r)return r(Object(i.a)({className:h},d));var p=s||e;return D.a.createElement(p,Object(i.a)({ref:n,className:h},d),r)}));return L()(l,e),l}}var V=n(47),B=function(e){var t=U(e);return function(e,n){return t(e,Object(i.a)({defaultTheme:V.a},n))}},z=s(c(v,m,y,b,g,k,O,_,C.b,A)),q=B("div")(z,{name:"MuiBox"});t.a=q},function(e,t,n){"use strict";var r=n(17),i=n(5),a=n(8),o=n(1),u=n(19),s=n(20),c=n(75);var l=n(31),f=n(49),h=n(23),d="undefined"===typeof window?o.useEffect:o.useLayoutEffect,p=o.forwardRef((function(e,t){var n=e.alignItems,i=void 0===n?"center":n,s=e.autoFocus,p=void 0!==s&&s,v=e.button,m=void 0!==v&&v,y=e.children,b=e.classes,g=e.className,k=e.component,O=e.ContainerComponent,w=void 0===O?"li":O,j=e.ContainerProps,x=(j=void 0===j?{}:j).className,E=Object(r.a)(j,["className"]),T=e.dense,I=void 0!==T&&T,S=e.disabled,_=void 0!==S&&S,C=e.disableGutters,A=void 0!==C&&C,R=e.divider,N=void 0!==R&&R,D=e.focusVisibleClassName,P=e.selected,M=void 0!==P&&P,L=Object(r.a)(e,["alignItems","autoFocus","button","children","classes","className","component","ContainerComponent","ContainerProps","dense","disabled","disableGutters","divider","focusVisibleClassName","selected"]),F=o.useContext(f.a),U={dense:I||F.dense||!1,alignItems:i},V=o.useRef(null);d((function(){p&&V.current&&V.current.focus()}),[p]);var B,z,q=o.Children.toArray(y),K=q.length&&(B=q[q.length-1],z=["ListItemSecondaryAction"],o.isValidElement(B)&&-1!==z.indexOf(B.type.muiName)),W=o.useCallback((function(e){V.current=h.findDOMNode(e)}),[]),G=Object(l.a)(W,t),H=Object(a.a)({className:Object(u.a)(b.root,g,U.dense&&b.dense,!A&&b.gutters,N&&b.divider,_&&b.disabled,m&&b.button,"center"!==i&&b.alignItemsFlexStart,K&&b.secondaryAction,M&&b.selected),disabled:_},L),Q=k||"li";return m&&(H.component=k||"div",H.focusVisibleClassName=Object(u.a)(b.focusVisible,D),Q=c.a),K?(Q=H.component||k?Q:"div","li"===w&&("li"===Q?Q="div":"li"===H.component&&(H.component="div")),o.createElement(f.a.Provider,{value:U},o.createElement(w,Object(a.a)({className:Object(u.a)(b.container,x),ref:G},E),o.createElement(Q,H,q),q.pop()))):o.createElement(f.a.Provider,{value:U},o.createElement(Q,Object(a.a)({ref:G},H),q))})),v=Object(s.a)((function(e){return{root:{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,"&$focusVisible":{backgroundColor:e.palette.action.selected},"&$selected, &$selected:hover":{backgroundColor:e.palette.action.selected},"&$disabled":{opacity:.5}},container:{position:"relative"},focusVisible:{},dense:{paddingTop:4,paddingBottom:4},alignItemsFlexStart:{alignItems:"flex-start"},disabled:{},divider:{borderBottom:"1px solid ".concat(e.palette.divider),backgroundClip:"padding-box"},gutters:{paddingLeft:16,paddingRight:16},button:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},secondaryAction:{paddingRight:48},selected:{}}}),{name:"MuiListItem"})(p),m=o.forwardRef((function(e,t){var n,i=e.classes,s=e.className,c=e.component,l=void 0===c?"li":c,f=e.disableGutters,h=void 0!==f&&f,d=e.ListItemClasses,p=e.role,m=void 0===p?"menuitem":p,y=e.selected,b=e.tabIndex,g=Object(r.a)(e,["classes","className","component","disableGutters","ListItemClasses","role","selected","tabIndex"]);return e.disabled||(n=void 0!==b?b:-1),o.createElement(v,Object(a.a)({button:!0,role:m,tabIndex:n,component:l,selected:y,disableGutters:h,classes:Object(a.a)({dense:i.dense},d),className:Object(u.a)(i.root,s,y&&i.selected,!h&&i.gutters),ref:t},g))}));t.a=Object(s.a)((function(e){return{root:Object(a.a)({},e.typography.body1,Object(i.a)({minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",width:"auto",overflow:"hidden",whiteSpace:"nowrap"},e.breakpoints.up("sm"),{minHeight:"auto"})),gutters:{},selected:{},dense:Object(a.a)({},e.typography.body2,{minHeight:"auto"})}}),{name:"MuiMenuItem"})(m)},function(e,t,n){"use strict";var r=n(1),i=n.n(r),a=n(8),o=n(17),u=n(19),s=n(20),c=n(26),l=r.forwardRef((function(e,t){var n=e.children,i=e.classes,s=e.className,l=e.color,f=void 0===l?"inherit":l,h=e.component,d=void 0===h?"svg":h,p=e.fontSize,v=void 0===p?"medium":p,m=e.htmlColor,y=e.titleAccess,b=e.viewBox,g=void 0===b?"0 0 24 24":b,k=Object(o.a)(e,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return r.createElement(d,Object(a.a)({className:Object(u.a)(i.root,s,"inherit"!==f&&i["color".concat(Object(c.a)(f))],"default"!==v&&"medium"!==v&&i["fontSize".concat(Object(c.a)(v))]),focusable:"false",viewBox:g,color:m,"aria-hidden":!y||void 0,role:y?"img":void 0,ref:t},k),n,y?r.createElement("title",null,y):null)}));l.muiName="SvgIcon";var f=Object(s.a)((function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:e.typography.pxToRem(24),transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(35)}}}),{name:"MuiSvgIcon"})(l);t.a=function(e,t){var n=function(t,n){return i.a.createElement(f,Object(a.a)({ref:n},t),e)};return n.muiName=f.muiName,i.a.memo(i.a.forwardRef(n))}(r.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(1),i=n.n(r);var a=i.a.createContext(null);function o(){return i.a.useContext(a)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(15),i=n(61),a=n(38);var o={m:"margin",p:"padding"},u={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},s={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},c=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!s[e])return[e];e=s[e]}var t=e.split(""),n=Object(r.a)(t,2),i=n[0],a=n[1],c=o[i],l=u[a]||"";return Array.isArray(l)?l.map((function(e){return c+e})):[c+l]})),l=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function f(e){var t=e.spacing||8;return"number"===typeof t?function(e){return t*e}:Array.isArray(t)?function(e){return t[e]}:"function"===typeof t?t:function(){}}function h(e,t){return function(n){return e.reduce((function(e,r){return e[r]=function(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}(t,n),e}),{})}}function d(e){var t=f(e.theme);return Object.keys(e).map((function(n){if(-1===l.indexOf(n))return null;var r=h(c(n),t),a=e[n];return Object(i.a)(e,a,r)})).reduce(a.a,{})}d.propTypes={},d.filterProps=l;t.b=d}]]);
//# sourceMappingURL=2.d386c0b4.chunk.js.map